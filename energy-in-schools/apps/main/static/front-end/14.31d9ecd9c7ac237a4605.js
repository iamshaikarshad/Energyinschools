(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"0y2O":function(e,t,n){e.exports=n.p+"facts_no_data_bg.png"},DQfo:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("ANjH"),c=n("T2gY"),s=n.n(c),l=(n("17x9"),n("tRbT")),u=n("H2TA"),f=n("LvDl"),p=n("mjhd"),b=n("iMV0"),d=n("rw1T"),h=n("vAg0"),y=n("RJa4"),m=n("pGD6"),v=n("jW2N"),w=n("0h+V"),g=n("i6Er"),O=n("0RI9"),j=n("aclY"),I=n("MmAP"),k=n("Gj2X"),E=n("0nQm"),P=n("yu+7"),S=n("qtoO"),D=n("OEMT"),_=n("Jb/i"),x=n("K0eG"),C=n("boEu"),T=n("+zPu"),N=n("ofer"),R={root:{position:"relative",height:"100%"},rootBlur:{height:"100%",filter:"blur(4px)"},textBlur:{fontFamily:n("TQzm").c.primary,fontSize:50,fontWeight:"bold",position:"absolute",color:"rgb(255, 255, 255)",textShadow:"1px 1px 1px rgb(38, 153, 251)",top:"40%"}},A=Object(u.a)(R)((function(e){var t=e.classes,n=e.backgroundImg;return o.a.createElement(l.a,{className:t.root,container:!0,justify:"center",alignItems:"center"},o.a.createElement(l.a,{container:!0,direction:"row",className:t.rootBlur,style:{backgroundImage:"url(".concat(n,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},wrap:"nowrap",justify:"center",alignItems:"center"}),o.a.createElement(N.a,{className:t.textBlur},"Oops, no data"))})),B=n("id8L"),G=n.n(B),L=n("zA24"),M=n.n(L),F=n("sGJt"),H=n.n(F),K=n("GVjk"),z=n.n(K),J=n("blu0"),Q=n.n(J),V=n("yeri"),q=n.n(V),W=n("uNdO"),U=n.n(W),Y=n("8l3h"),X=n.n(Y),Z=n("0y2O"),$=n.n(Z),ee=n("gaRl"),te=n.n(ee),ne=n("LQMR"),re=n.n(ne),oe=n("gw3P"),ae=n.n(oe),ie=n("6Gp6");function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ue=[{refreshInterval:ie.c,action:function(e,t){t(Object(C.a)(ie.d.energyDashboardV1))}}],fe=function(){function e(t,n,r,o,a,i,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mainComponent=t,this.previewComponent=n,this.slideKeys=r,this.invokeActions=o,this.refreshInterval=a,this.mainLoadingFailedImage=i,this.previewLoadingFailedImage=c}var t,n,r;return t=e,r=[{key:"_renderComponent",value:function(e,t,n,r){return Object(f.isEqual)(t,Object(f.omitBy)(t,f.isNull))?o.a.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),null):n.status?o.a.createElement(T.a,{},null):o.a.createElement(A,{backgroundImg:r},null)}}],(n=[{key:"renderMain",value:function(t,n,r){return e._renderComponent(this.mainComponent,t,n,r)}},{key:"renderPreview",value:function(t,n,r){return e._renderComponent(this.previewComponent,t,n,r)}}])&&le(t.prototype,n),r&&le(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),pe=[new fe(p.a,b.a,[ie.b.cartoonCharacter],(function(e,t){t(Object(S.a)(e.schoolId))}),6e5,G.a,M.a),new fe(d.a,h.a,[ie.b.carbonIntensity],(function(e,t){t(Object(P.a)())}),18e5,H.a,z.a),new fe(y.a,m.a,[ie.b.cashBack],(function(e,t){t(Object(E.a)(e.schoolId))}),36e5,Q.a,q.a),new fe(v.a,w.a,[ie.b.electricityLiveConsumption,ie.b.gasLiveConsumption],(function(e,t){t(Object(_.a)(x.k,e.schoolId)),t(Object(_.b)(x.p,e.schoolId))}),6e4,U.a,X.a),new fe(g.a,O.a,[ie.b.energyFacts],(function(e,t){t(Object(k.a)(e.schoolId))}),864e5,$.a,te.a),new fe(j.a,I.a,[ie.b.weather,ie.b.news],(function(e,t){t(Object(D.a)(e.schoolId)),t(Object(D.c)(e.schoolId)),t(Object(D.b)())}),36e5,re.a,ae.a)],be=n("G/D/"),de=n("47xD"),he=n("CeR/"),ye=n("dHhH");function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var o=Ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return je(e)}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&we(e,t)}(i,e);var t,n,r,a=ge(i);function i(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=a.call(this,e),n=je(t),o=function(e){switch(e.keyCode){case 37:t.mainSlider.slickPrev(),t.previewSlider.slickPrev();break;case 39:t.mainSlider.slickNext(),t.previewSlider.slickNext()}},(r="keyPressHandler")in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.activeIntervalsIds=[],t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.match,r=t.dispatch,o=n.params.schoolId;ye.a.accessToken?this.callDashboardActions(o):Object(be.obtainDashboardToken)(o).then((function(){e.callDashboardActions(o)}),(function(e){r(de.showAlert.bind("There is no school with that UID",Object(he.a)(e))),console.log(e)}))}},{key:"componentWillUnmount",value:function(){this.activeIntervalsIds.forEach((function(e){return clearInterval(e)})),this.activeIntervalsIds.length=0}},{key:"callDashboardActions",value:function(e){var t=this,n=this.props.dispatch;ue.forEach((function(r){var o=r.action,a=r.refreshInterval;o({schoolId:e},n),a&&t.activeIntervalsIds.push(setInterval((function(){o({schoolId:e},n)}),a))})),pe.forEach((function(r){r.invokeActions({schoolId:e},n),t.activeIntervalsIds.push(setInterval((function(){r.invokeActions({schoolId:e},n)}),r.refreshInterval))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.energyDashboardData;return o.a.createElement(l.a,{container:!0,direction:"column",className:n.root,alignItems:"stretch",wrap:"nowrap",onKeyDown:this.keyPressHandler,tabIndex:"0"},o.a.createElement(l.a,{item:!0,xs:!0,container:!0,direction:"row",className:n.mainSlider},o.a.createElement(s.a,{ref:function(t){e.mainSlider=t},fade:!0,arrows:!1,autoplay:!0,autoplaySpeed:5e3,infinite:!0},pe.map((function(e,t){return o.a.createElement(l.a,{className:n.slideGrid,key:"slide_main_".concat(t)}," ",e.renderMain(Object(ie.t)(r,e.slideKeys),r.loadingEnds,e.mainLoadingFailedImage))})))),o.a.createElement(l.a,{item:!0,xs:!0,container:!0,direction:"row",className:n.previewSlider},o.a.createElement(s.a,{ref:function(t){e.previewSlider=t},arrows:!1,infinite:!0,autoplay:!0,autoplaySpeed:5e3,slidesToShow:3},pe.map((function(e,t){return o.a.createElement(l.a,{className:n.slideGrid,key:"slide_preview_".concat(t)}," ",e.renderPreview(Object(ie.t)(r,e.slideKeys),r.loadingEnds,e.previewLoadingFailedImage))})))))}}])&&ve(t.prototype,n),r&&ve(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);t.default=Object(i.d)(Object(u.a)({root:{marginTop:0,marginBottom:0,paddingBottom:"0px",height:"100vh"},mainSlider:{position:"absolute",height:"70%",top:0},previewSlider:{position:"absolute",height:"30%",bottom:0},slideGrid:{height:"100%"}}),Object(a.c)((function(e){return{energyDashboardData:e.energyDashboard}}),null))(ke)},LQMR:function(e,t,n){e.exports=n.p+"weather_main_bg.png"}}]);