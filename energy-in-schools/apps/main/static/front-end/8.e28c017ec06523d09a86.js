(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"9QgT":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48L3N2Zz4="},"9Scq":function(e,t,n){e.exports=n.p+"thermometer.svg"},BxGG:function(e,t,n){e.exports=n.p+"microbit-logo-blue.png"},HeyD:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNSI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogI2ZmZjsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9ImZsb29ycyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTkuMDY0IC0yNDAuMDY0KSI+CiAgICA8ZyBpZD0iR3JvdXBfNDQxNyIgZGF0YS1uYW1lPSJHcm91cCA0NDE3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5LjA2NCAyNDAuMDY0KSI+CiAgICAgIDxwYXRoIGlkPSJsYXllcnMiIGNsYXNzPSJjbHMtMSIgZD0iTTEzLDIwLjk1MywzLjYyNCwxNi4yODgsMCwxOC4wOTFsMTMsNi40NjcsMTMtNi40NjctMy42MjQtMS44WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAwLjQ0MSkiLz4KICAgICAgPHBhdGggaWQ9ImxheWVycy0yIiBkYXRhLW5hbWU9ImxheWVycyIgY2xhc3M9ImNscy0xIiBkPSJNMTMsNS42NjZsMTMsNi40NjdMMTMsMTguNiwwLDEyLjEzM1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTUuNjY2KSIvPgogICAgICA8cGF0aCBpZD0ibGF5ZXJzLTMiIGRhdGEtbmFtZT0ibGF5ZXJzIiBjbGFzcz0iY2xzLTEiIGQ9Ik0xMywyMC45NTMsMy42MjQsMTYuMjg4LDAsMTguMDkxbDEzLDYuNDY3LDEzLTYuNDY3LTMuNjI0LTEuOFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAxIC01LjU5NykiLz4KICAgIDwvZz4KICAgIDxwYXRoIGlkPSJsYXllcnMtNCIgZGF0YS1uYW1lPSJsYXllcnMiIGNsYXNzPSJjbHMtMSIgZD0iTTEzLDUuNjY2bDEzLDYuNDY3TDEzLDE4LjYsMCwxMi4xMzNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5LjA2NCAyMzQuMzk4KSIvPgogIDwvZz4KPC9zdmc+Cg=="},LMSw:function(e,t,n){e.exports=n.p+"microbit-logo-green.png"},NCBb:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("wd/R"),i=n.n(a),l=n("TSYQ"),c=n.n(l),s=(n("17x9"),n("/MKj")),u=n("ANjH"),d=n("NpuA"),p=n.n(d),f=n("hco6"),m=n("469l"),g=n("ofer"),h=n("tRbT"),b=n("ADg1"),y=n("cVXz"),v=n("jjAL"),S=n("Z3vd"),w=n("vnJi"),x=n("csfp"),C=n("PsDL"),O=n("r9w1"),E=n("H2TA"),D=n("DYoa"),I=n("0WKb"),M=n("sT+f"),j=n.n(M),T=n("Rw+y"),N=n.n(T),R=n("vm6e"),A=n.n(R),k=n("D47Y"),P=n.n(k),L=n("BttU"),z=n.n(L),B=n("47xD"),F=n("yzbm");function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=o.a.createElement("h3",null,"Drop files now"),K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(i,e);var t,n,r,a=Z(i);function i(){var e;H(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return X(U(e=a.call.apply(a,[this].concat(n))),"onDrop",(function(t){var n=e.props.csvParserSubmit;t.map((function(e){return e.type})).every((function(e){return"text/csv"===e}))&&n(t)})),X(U(e),"clearEventFiles",(function(e){e.target.type="text",e.target.type="file"})),X(U(e),"uploadCsvFiles",(function(t){for(var n=e.props.csvParserSubmit,r=t.target.files,o=[],a=0;a<r.length;a++)o.push(r[a]);n(o),e.clearEventFiles(t)})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement(F.a,{onDrop:this.onDrop,multiple:!0},(function(n){var r=n.getRootProps,a=n.isDragAccept,i=o.a.createElement("label",{htmlFor:"raised-button-file"},o.a.createElement(S.a,{component:"span",style:{color:"white",textTransform:"none",margin:"10px 0"}},"Drag CSV Files or click here to upload sensors"),o.a.createElement("input",{accept:"text/csv",style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file",onChange:e.uploadCsvFiles}));return a&&(i=Q),o.a.createElement("div",Y({},r(),{style:{color:"rgba(255, 255, 255, 0.87)",backgroundColor:a?"rgba(77, 175, 124, .7)":"rgba(0,0,0,.2)",borderStyle:a&&"dotted",borderColor:a&&"green",width:"100%"}}),o.a.createElement(h.a,{container:!0,justify:"center"},i),t)})))}}])&&G(t.prototype,n),r&&G(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),q=n("SAJy"),ee=n("SUMQ"),te=n("SlXZ"),ne=n("DoPP"),re=n("K/1S"),oe=n("bWLx"),ae=n("y1tp"),ie=n("K+qn");function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fe(e)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=Object(re.a)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:"rgba(47, 104, 160, 1)"}},MuiPickerDTTabs:{tabs:{backgroundColor:"rgba(55, 111, 157, 1)"}},MuiPickersDay:{day:{color:"rgba(0, 0, 0, 0.87)"},daySelected:{backgroundColor:"rgb(37, 173, 223)","&:hover":{backgroundColor:"rgb(37, 173, 223)"}},current:{color:"rgba(0, 120, 255, 1)"}},MuiPickersYear:{yearSelected:{color:"rgb(37, 173, 223)"}},MuiPickersClock:{pin:{backgroundColor:"rgb(37, 173, 223)"}},MuiPickersClockPointer:{pointer:{backgroundColor:"rgb(37, 173, 223)"},thumb:{borderColor:"rgb(37, 173, 223)"},noPoint:{backgroundColor:"rgb(37, 173, 223)"}},MuiFormLabel:{root:{color:"rgba(0, 0, 0, 0.54)","&$focused":{color:"#008ba3"}}},MuiInput:{underline:{"&:after":{borderBottom:"2px solid rgb(0,139,163)"}}}}}),be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}(i,e);var t,n,r,a=de(i);function i(){var e;ce(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ge(fe(e=a.call.apply(a,[this].concat(n))),"renderRoot",(function(){var t=e.props.classes,n=e.props,r=n.value,a=n.onChange,i=n.error,l=n.helperText,c=n.disableFuture,s=n.label;return o.a.createElement(h.a,{container:!0,className:t.root,justify:"space-around"},o.a.createElement(h.a,{container:!0,className:t.pickerContainer},o.a.createElement(h.a,null,o.a.createElement(ae.a,{value:r,onChange:a,disableFuture:c,error:i,helperText:l,label:s,InputProps:{className:t.inputLabelFocused}}))))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){(0,this.props.onRef)(this)}},{key:"render",value:function(){return this.props.isOpened?o.a.createElement(ie.a,{utils:ne.a},o.a.createElement(oe.a,{theme:he},this.renderRoot())):null}}])&&se(t.prototype,n),r&&se(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.PureComponent);be.defaultProps={isOpened:!0,onRef:function(){},onChange:null,value:i()().startOf("seconds"),error:!1,helperText:"",disableFuture:!1,label:""};var ye=Object(E.a)((function(){return{root:{},pickerContainer:{marginBottom:"25px"},pickerWrapper:{justifyContent:"center",padding:"12px 8px"},actionContainer:{justifyContent:"flex-end",marginTop:16},submitButton:{},cancelButton:{marginLeft:16},inputlabelRoot:{},inputLabelFocused:{},inputRoot:{},inputIcon:{}}}))(be),ve=n("Kyd3");function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var o=Ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ee(this,n)}}function Ee(e,t){if(t&&("object"===Se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return De(e)}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=o.a.createElement(v.a,{key:"red",value:"red"},"Red"),Te=o.a.createElement(v.a,{key:"green",value:"green"},"Green"),Ne=o.a.createElement(v.a,{key:"blue",value:"blue"},"Blue"),Re=o.a.createElement(v.a,{key:"yellow",value:"yellow"},"Yellow"),Ae=o.a.createElement(te.a,null),ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}(l,e);var t,n,r,a=Oe(l);function l(){var e;we(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Me(De(e=a.call.apply(a,[this].concat(n))),"addSensorDataForm",null),Me(De(e),"onFormSubmit",(function(){var t=e.props;(0,t.onSubmit)(t.sensorsToAdd)})),Me(De(e),"clearEventFiles",(function(e){e.target.type="text",e.target.type="file"})),Me(De(e),"uploadCsvFiles",(function(t){var n=e.props.csvParserSubmit,r=t.target.files;e.clearEventFiles(t);for(var o=[],a=0;a<r.length;a++)o.push(r[a]);n(o)})),e}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.isOpened,r=t.onClose,a=t.title,l=t.classes,c=t.deleteSensorToAdd,s=t.sensorsToAdd,u=t.handleSensorsToAddStartTimeChange,d=t.handleSensorToAddNameChange,p=t.handleColorChange,f=s.filter((function(e){return e.duplicated})).length>0||s.filter((function(e){return e.badTime})).length>0;return o.a.createElement(ve.a,{isOpened:n,onClose:r,title:a,submitButtonDisabled:f,onSubmit:function(){return e.addSensorDataForm.submit()},submitLabel:"Add"},o.a.createElement(q.ValidatorForm,{ref:function(t){e.addSensorDataForm=t},onSubmit:this.onFormSubmit},s.map((function(e,t){var n="sensor_".concat(t),r=i()().subtract(e.logDuration,"seconds").startOf("seconds").format("DD-MM-YYYY   hh:mm");return o.a.createElement(o.a.Fragment,{key:n},o.a.createElement(h.a,{container:!0,alignItems:"stretch"},o.a.createElement(h.a,{container:!0,item:!0,alignItems:"center",xs:10},o.a.createElement(q.TextValidator,{fullWidth:!0,autoComplete:"off",error:e.duplicated,helperText:e.duplicated?"duplicate entry, please change name.":"",type:"text",value:e.name,label:"Group name: ",margin:"dense",style:{marginBottom:13},name:"sensor",onChange:function(e){e.persist(),d(e,t)}}),o.a.createElement(h.a,{container:!0},o.a.createElement(h.a,{item:!0,md:6,sm:12,style:{paddingRight:20}},o.a.createElement(ye,{value:e.time,onChange:function(e){return u(e,t)},error:e.badTime,disableFuture:!0,label:"Log start time",helperText:e.badTime?"Start time should not be after ".concat(r):""})),o.a.createElement(h.a,{item:!0,md:6,sm:12,className:l.colorSelector},o.a.createElement(q.SelectValidator,{onChange:function(e){return p(e.target.value,t)},value:e.color?e.color:"red",label:"Select color",style:{width:"100%"}},je,Te,Ne,Re)))),o.a.createElement(h.a,{container:!0,item:!0,xs:2},o.a.createElement(S.a,{onClick:function(){return c(t)}},Ae))))})),o.a.createElement(h.a,{container:!0},o.a.createElement("label",{htmlFor:"raised-button-file"},o.a.createElement(S.a,{variant:"contained",component:"span",className:l.uploadButton},"Upload csv files"),o.a.createElement("input",{accept:"text/csv",className:l.input,style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file",onChange:this.uploadCsvFiles})),o.a.createElement(g.a,{className:l.hint},"Only csv files are allowed."))))}}])&&xe(t.prototype,n),r&&xe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.a.Component);ke.defaultProps={onSubmit:null,title:"",isOpened:!1,onClose:null};var Pe=Object(u.d)(Object(ee.withStyles)((function(e){return{uploadButton:Me({backgroundColor:"rgba(224, 224, 224, 0.5)",color:"rgba(0, 0, 0, 0.87)",boxShadow:"0px 1px 0px 1px rgba(0,0,0,0.2), 0px 1px 0px 0px rgba(0,0,0,0.14), 0px 1px 1px 0px rgba(0,0,0,0.12)",borderRadius:2,padding:"0px 8px",marginTop:"10px",textTransform:"none",fontWeight:400,fontSize:16,border:"1px outset rgba(0, 0, 0, 0.3)","&:hover":{backgroundColor:"rgba(224, 224, 224, 0.7)"}},e.breakpoints.down("xs"),{fontSize:14}),hint:Me({fontSize:12,padding:8,marginTop:8},e.breakpoints.down("xs"),{fontSize:12,paddingLeft:0}),colorSelector:{width:"100%",paddingRight:0}}})))(ke),Le=n("WGjm"),ze=n("s8cL"),Be=n.n(ze),Fe=n("niRi"),We=n.n(Fe),Ye=n("9Scq"),He=n.n(Ye),Ge=n("pN6P"),_e=n.n(Ge),Ze=n("VPOL"),Je=n.n(Ze),Ue=n("BxGG"),Ve=n.n(Ue),Xe=n("LMSw"),Qe=n.n(Xe),Ke=n("UYLu"),$e=n.n(Ke),qe=n("7vcN"),et=n("K0eG"),tt=n("S5Oc"),nt=n("X489"),rt=n.n(nt),ot=n("j/CG");function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pt(e);if(t){var o=pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ut(this,n)}}function ut(e,t){if(t&&("object"===at(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dt(e)}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ct(e,t)}(l,e);var t,n,r,a=st(l);function l(){var e;it(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ft(dt(e=a.call.apply(a,[this].concat(n))),"mounted",!1),ft(dt(e),"currentTime",null),ft(dt(e),"meterContainerRef",o.a.createRef()),ft(dt(e),"onMouseDown",(function(){e.currentTime=i()().valueOf()})),ft(dt(e),"getUnitLabel",(function(e){switch(e.trim()){case et.I.TEMPERATURE:return et.X.celsius;default:return""}})),ft(dt(e),"getHeatColor",(function(e){var t="";return e>22?t="246, 34, 19":e>17&&e<22?t="19, 246, 87":e>14&&e<18?t="19, 155, 246":e<15&&(t="19, 87, 246"),t})),e}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.meterData,r=e.meterId,a=e.size,i=e.position,l=e.name,c=e.bounds,s=e.onDragStop,u=e.onDragStart,d=e.onResize,p=e.isMapInstance,m=e.disableDragging,b=e.sensorStartTime,y=e.historyValue,v=e.periodDuration,S=e.inFolder,x=e.sensorType,C=this.getUnitLabel(x),O={cardColour:"#2699fb",avatarImage:rt.a,unit:et.X.kilowatt,color:"rgb(255, 255, 255)"},E=null===y?Math.round(100*n.slice(-1)[0].value)/100:Object(qe.a)(n,b,y,v);return o.a.createElement(w.a,{rootRef:this.meterContainerRef},o.a.createElement(f.a,{id:r,className:t.rndMeterWrapper,size:a,position:i,minWidth:S?tt.o.folder_width:50,minHeight:S?tt.o.folder_height:50,maxWidth:300,maxHeight:113,bounds:c,disableDragging:m,enableResizing:tt.b,onDragStop:s,onDragStart:u,onResizeStop:d,onMouseDown:this.onMouseDown,style:{justifyContent:S?"center":"space-between",backgroundColor:O.cardColour,borderRadius:p||S?"50%":10}},S?null:o.a.createElement(g.a,{className:t.avatarWrapper,style:{textAlign:p?"center":"left",marginTop:p?3:0}},o.a.createElement("img",{src:O.avatarImage,className:t.avatarImage,alt:"meter"})),!p&&!S&&o.a.createElement(g.a,{className:t.meterName},Object(ot.a)(l,27)),S&&o.a.createElement(g.a,{component:"div",className:S?t.smallMeterValue:t.meterValue,style:{color:O.color}},l),o.a.createElement(h.a,{container:!0,justify:"center",alignItems:"center"},o.a.createElement(g.a,{component:"div",className:S?t.smallMeterValue:t.meterValue,style:{color:O.color}},E),o.a.createElement(g.a,{component:"div",className:S?t.smallMeterValue:t.meterUnitValue,style:{color:O.color}},C))))}}])&&lt(t.prototype,n),r&&lt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.PureComponent);mt.defaultProps={size:{width:"100%",height:"100%"},position:{x:0,y:0},bounds:"",meterId:"",isMapInstance:!1,disableDragging:!1,historyValue:null,periodDuration:null,inFolder:!1,sensorType:"",onResize:function(){}};var gt=Object(E.a)({rndMeterWrapper:{display:"inline-flex !important",flexDirection:"column",alignItems:"center",borderColor:"rgb(192, 192, 192)",borderStyle:"solid",padding:"5px"},avatarImage:{height:17,width:17},increasedAvatarImage:{height:20,width:20},meterName:{fontSize:12,marginBottom:"5px",textAlign:"center",userSelect:"none",wordWrap:"break-word",width:"100%"},meterProvider:{userSelect:"none"},meterValue:{fontSize:16,lineHeight:"16px",display:"inline-flex",marginBottom:"5px",marginTop:"5px",justifyContent:"center",userSelect:"none"},meterValueUnit:{marginLeft:2},meterUnitValue:{fontSize:10,paddingLeft:2},meterExtendedInfo:{padding:0,borderRadius:10},tooltipPopper:{opacity:1},smallMeterValue:{fontSize:8,lineHeight:"8px",display:"inline-flex",justifyContent:"center",textOverflow:"ellipsis",userSelect:"none"},meterGradient:{display:"inline-block",height:"150%",width:"150%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"50%"},resourceState:{fontSize:10},smallResourceState:{fontSize:7},alertWrapper:{color:"rgb(255, 0, 0)",fontWeight:700,display:"inline-block",marginLeft:2},temperatureSensor:{position:"relative",zIndex:10}})(mt),ht=n("6ZD5");function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xt(this,n)}}function xt(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ct(e)}function Ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt=o.a.createElement("div",null,"Drop floor plan here"),It=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&St(e,t)}(i,e);var t,n,r,a=wt(i);function i(){var e;yt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Et(Ct(e=a.call.apply(a,[this].concat(n))),"state",{dragging:!1}),Et(Ct(e),"dragCounter",0),Et(Ct(e),"dropRef",o.a.createRef()),Et(Ct(e),"handleDrag",(function(e){e.preventDefault(),e.stopPropagation()})),Et(Ct(e),"handleDragIn",(function(t){t.preventDefault(),t.stopPropagation(),e.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&e.setState({dragging:!0})})),Et(Ct(e),"handleDragOut",(function(t){t.preventDefault(),t.stopPropagation(),e.dragCounter--,0===e.dragCounter&&e.setState({dragging:!1})})),Et(Ct(e),"handleDrop",(function(t){var n=e.props.handleDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragging:!1}),t.dataTransfer.files.length&&(n(t.dataTransfer.files),t.dataTransfer.clearData(),e.dragCounter=0)})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){var e=this.state.dragging,t=this.props,n=t.children,r=t.style;return o.a.createElement("div",{style:r,ref:this.dropRef},e&&o.a.createElement("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"relative",width:"100vw",height:"100%"}},o.a.createElement("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},Dt)),n)}}])&&vt(t.prototype,n),r&&vt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);It.defaultProps={handleDrop:function(){},style:{}};var Mt=It;function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lt(e);if(t){var o=Lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(e,t){if(t&&("object"===jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pt(e)}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bt=o.a.createElement(Be.a,null),Ft=o.a.createElement("br",null),Wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rt(e,t)}(l,e);var t,n,r,a=At(l);function l(){var e;Tt(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zt(Pt(e=a.call.apply(a,[this].concat(n))),"state",{windowResized:!1,ratio:!0,size:null,isThermometerShown:!1}),zt(Pt(e),"resizable",null),zt(Pt(e),"isMobile",Object(ht.a)()),zt(Pt(e),"fixResizableBase",(function(){var t=e.props.buildingIndex;$("#".concat(tt.n,"-").concat(t," > .").concat("__resizable_base__")).css({height:"0px"})})),zt(Pt(e),"update",(function(){e.setState((function(e){return e}))})),zt(Pt(e),"getBgImage",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?"linear-gradient(\n        ".concat(tt.e,", \n        ").concat(tt.e,"\n      ), url(").concat(e,")"):t})),zt(Pt(e),"toggleThermometer",(function(){e.setState((function(e){return{isThermometerShown:!e.isThermometerShown}}))})),zt(Pt(e),"isMapZoomed",(function(){var t=e.props.buildingIndex,n="#".concat(tt.p.container,"-").concat(t);if(n){var r=$(n).panzoom("getMatrix");return r&&1!==Number(r[0])}return!1})),zt(Pt(e),"hasHorizontalScroll",(function(e){return e&&e.scrollWidth>e.clientWidth})),zt(Pt(e),"initPanZoom",(function(){if(!e.isMobile){var t=e.props.buildingIndex,n="#".concat(tt.p.container,"-").concat(t),r="#".concat(tt.p.zoomInButoon,"-").concat(t),o="#".concat(tt.p.zoomOutButton,"-").concat(t);$(n).panzoom({$zoomIn:$(r),$zoomOut:$(o),contain:"invert",minScale:1,maxScale:3,panOnlyWhenZoomed:!0})}})),zt(Pt(e),"normalizeMap",(function(t){var n=new Image;n.onload=function(){e.setState({size:{width:"100%",height:"".concat(n.height/n.width*window.innerWidth,"px")},ratio:n.width/n.height})},n.src=t})),zt(Pt(e),"resetZooming",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&e.toggleResetZoomDialog();var n=e.props.buildingIndex,r="#".concat(tt.p.container,"-").concat(n);r&&$(r).panzoom("reset",!1)})),zt(Pt(e),"windowResizeHandler",(function(){clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout((function(){e.setState((function(e){return{windowResized:!e.windowResized}}))}),250)})),zt(Pt(e),"windowChangeOrientationHandler",(function(){setTimeout((function(){e.setState((function(e){return{windowResized:!e.windowResized}}))}),250)})),zt(Pt(e),"getHue",(function(e){return Math.min(Math.max(30*(22-e),0),240)})),zt(Pt(e),"getDistanceFromRange",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:22,r=0;return t<e&&e<n||(e<=t&&(r=t-e),n<=e&&(r=e-n)),r})),zt(Pt(e),"getLitness",(function(t){return 10*(5-Math.min(Math.max(e.getDistanceFromRange(t),0),4))})),zt(Pt(e),"getTempetatureColor",(function(t){return"hsl(".concat(e.getHue(t),", 100%, ").concat(Math.abs(e.getLitness(t)),"%, 0.57)")})),zt(Pt(e),"getMicrobitLogo",(function(e){switch(e){case"yellow":return Je.a;case"green":return Qe.a;case"blue":return Ve.a;default:return $e.a}})),zt(Pt(e),"renderCanvas",(function(){var t=e.props,n=t.classes,r=t.map,a=t.building,l=t.buildingIndex,c=t.readonly,s=t.handleDrop,u=t.onDragSensorStop,d=t.onDragSensorStart,p=t.historyValue,m=t.periodDuration,g=t.getMicrobitImage,b=t.handleUnfoldButtonClick;return o.a.createElement(Mt,{handleDrop:s},a.placedSensors.map((function(t,a){var s,y=tt.o.folder_width+2,v=tt.o.folder_height+2,w=t.data.find((function(e){return e.type===et.I.TEMPERATURE})),x=w&&(null===p?Math.round(100*w.values.slice(-1)[0].value)/100:Object(qe.a)(w.values,i()(t.time),p,m)),C=w&&e.getTempetatureColor(x),O=Math.min(Math.ceil(Math.sqrt(t.data.length)),Math.floor(t.distToRightBorder/y)),E={width:O*y,height:Math.ceil(t.data.length/O)*v},D={left:E.width/2,top:E.height/2},I=Math.sqrt(Math.pow(E.width,2)+Math.pow(E.height,2))+100;switch(t.data.length){case 1:s=-36;break;case 2:s=-15;break;default:s=0}return o.a.createElement(o.a.Fragment,{key:"placedMetersFolder_".concat(a)},C&&!t.folded&&o.a.createElement("div",{className:n.heatArea,style:{backgroundColor:C,height:I,width:I,left:"calc(".concat(t.x," - ").concat(I/2,"px + ").concat(D.left,"px)"),top:"calc(".concat(t.y," - ").concat(I/2,"px + ").concat(D.top,"px)")}}),o.a.createElement("div",{className:n.placedMetersFolder,style:{left:t.x,top:t.y,maxWidth:t.folded?180:E.width}},t.folded?o.a.createElement(f.a,{id:t.name,className:n.rndMeterWrapper,enableResizing:tt.b,minHeight:tt.o.height,position:{x:0,y:0},onDragStop:u(a,l),onDragStart:d(l),style:{position:"relative"}},o.a.createElement("div",{className:n.foldedUnplacedSensors},o.a.createElement(S.a,{onClick:function(){return b(a,l,t.name)},className:n.unfoldBtn},Bt),o.a.createElement("img",{src:g(t.color),alt:"folded sensor",style:{height:"100%",width:"100%"},onDragStart:function(e){e.preventDefault()}}),o.a.createElement("p",{style:{position:"absolute",top:30,fontSize:15,fontWeight:"bold",width:"100%",textAlign:"center",color:"white",padding:"0 35px",lineHeight:"15px"}},t.name),o.a.createElement("p",{style:{position:"absolute",top:65,fontSize:15,width:"100%",textAlign:"center",color:"white"}},t.data.length," sensors"))):t.data.map((function(f,g){var y="".concat(g,"-placedFolder");return o.a.createElement("div",{key:y,style:{height:tt.o.folder_height,width:tt.o.folder_width,margin:1,position:"relative",flex:"0 0 ".concat(tt.o.folder_width,"px"),backgroundColor:"rgba(0, 125, 255, 0.3)",borderRadius:10}},!g&&o.a.createElement(h.a,{container:!0,alignItems:"center",justify:"center",className:n.folderTitle,style:{left:s}},o.a.createElement("img",{src:e.getMicrobitLogo(t.color),alt:"microbit logo",className:n.microbitLogo}),Ft,o.a.createElement("span",{className:n.folderTitleSpan},Object(ot.a)(t.name,9)),o.a.createElement(S.a,{onClick:function(){return b(a,l,t.name)},className:n.foldBtn},o.a.createElement("img",{src:_e.a,alt:"fold",className:n.foldBtnIcon}))),o.a.createElement(gt,{inFolder:!0,name:f.name,folderName:t.name,meterData:f.values,sensorType:f.type,size:{width:tt.o.folder_width,height:tt.o.folder_height},onDragStop:u(a,l),onDragStart:d(l),disableDragging:!r||c,sensorStartTime:i()(t.time),historyValue:p,periodDuration:m}))}))))})))})),e}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this.props.map;this.normalizeMap(e),this.isMobile?window.addEventListener("orientationchange",this.windowChangeOrientationHandler):window.addEventListener("resize",this.windowResizeHandler),this.fixResizableBase()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.map,o=n.floor,a=this.state,i=a.windowResized,l=a.size;(i||e.map!==r)&&this.normalizeMap(r),o&&e.floor&&e.floor.number!==o.number&&this.isMapZoomed()&&this.resetZooming(!1),null===t.size&&null!==l&&this.initPanZoom()}},{key:"componentWillUnmount",value:function(){this.isMobile?window.removeEventListener("orientationchange",this.windowChangeOrientationHandler):window.removeEventListener("resize",this.windowResizeHandler)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.map,a=t.buildingIndex,i=this.state,l=i.size,c=i.ratio,s=i.isThermometerShown;return o.a.createElement("div",null,o.a.createElement(h.a,{container:!0,alignItems:"center",justifyContent:"center",style:{position:"relative"}},o.a.createElement(h.a,{container:!0,id:"".concat(tt.n,"-").concat(a),item:!0,xs:12,className:n.mapContainerWrapper},l?o.a.createElement(Le.a,{ref:function(t){e.resizable=t},enable:this.isMobile||!r?tt.b:tt.d,lockAspectRatio:c,handleComponent:{left:function(){return o.a.createElement(We.a,{className:n.resizeIcon})}},handleClasses:{left:n.resizeHandleBlock},handleStyles:{topLeft:{display:"none"},left:{display:this.isMobile||!r?"none":"block",top:5,left:5,width:36,height:36,userSelect:"auto",cursor:"col-resize"}},defaultSize:{width:l.width,height:l.height},minWidth:600,maxWidth:"100%",minHeight:450,style:{margin:"auto"},onResizeStop:function(){e.update()}},o.a.createElement("div",{id:"map-".concat(a),className:n.mapContainer},o.a.createElement("div",{id:"".concat(tt.p.container,"-").concat(a),className:n.mapWrapper,style:{backgroundImage:this.getBgImage(r)}},this.renderCanvas()),!this.isMobile&&o.a.createElement("div",{style:{visibility:r?"visible":"hidden"},className:n.zoomButtonsContainer},o.a.createElement(S.a,{id:"".concat(tt.p.zoomOutButton,"-").concat(a),className:n.zoomButton},"–"),o.a.createElement(S.a,{id:"".concat(tt.p.zoomInButoon,"-").concat(a),className:n.zoomButton},"+")))):null),s?o.a.createElement("div",{className:n.thermometerWrapper},o.a.createElement("img",{src:He.a,alt:"thermometer icon",className:n.thermometerIcon}),o.a.createElement(S.a,{onClick:this.toggleThermometer,className:n.thermometerButton},"HIDE")):o.a.createElement(S.a,{onClick:this.toggleThermometer,className:n.thermometerButton,style:{backgroundColor:"#00BCD4",color:"white",padding:"0 35px",boxShadow:"0px 1px 5px 0px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 3px 1px -2px rgb(0 0 0 / 12%)"}},"Show temp. colour scheme")))}}])&&Nt(t.prototype,n),r&&Nt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.a.Component);Wt.defaultProps={historyValue:null,periodDuration:null,handleDrop:function(){},onDragSensorStop:function(){},onDragSensorStart:function(){}};var Yt=Object(u.d)(Object(E.a)((function(e){var t,n,r;return{mapContainerWrapper:{textAlign:"center",position:"relative",paddingLeft:0,paddingRight:0},mapContainer:{margin:"0 auto",height:"100%",position:"relative"},mapWrapper:{height:"100%",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"},metersContainer:{flexWrap:"nowrap",backgroundColor:tt.f,padding:"27px 16px 8px 16px",height:"auto"},manageButtonsContainer:zt({padding:"8px 16px",backgroundColor:tt.f,position:"relative"},e.breakpoints.down("sm"),{paddingLeft:8,paddingRight:8}),manageButtonsBlockItem:zt({},e.breakpoints.up("lg"),{flexWrap:"nowrap"}),manageButton:zt({height:36,padding:"4px 8px 2px",marginRight:e.spacing(1.5),borderRadius:10,backgroundColor:tt.v,color:tt.i,fontSize:12,lineHeight:"normal","&:hover":{backgroundColor:tt.v}},e.breakpoints.down("md"),{marginRight:10,marginBottom:15}),buttonDisabled:{backgroundColor:"".concat(tt.w," !important"),color:"rgba(255, 255, 255, 0.4) !important"},zoomButtonsContainer:{position:"absolute",zIndex:12,top:5,left:"50%",display:"inline-block",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:5,transform:"translateX(-50%)"},zoomButton:{height:36,width:36,minWidth:0,padding:0,fontSize:24,backgroundColor:"transparent",color:"rgb(255, 255, 255)"},noMapText:(t={fontSize:36,color:"rgb(57, 57, 57)",paddingRight:40},zt(t,e.breakpoints.down("md"),{fontSize:28}),zt(t,e.breakpoints.down("xs"),{paddingRight:20,fontSize:24}),t),noMapAddIconRoot:(n={position:"absolute",top:25,right:9,width:48,height:48},zt(n,e.breakpoints.down("sm"),{top:15,right:15,width:40,height:40}),zt(n,e.breakpoints.down("xs"),{top:15,right:15}),n),noMapAvatar:{overflow:"visible",width:"40%",height:"auto"},smallMeterValue:{fontSize:8,lineHeight:"8px",display:"inline-flex",justifyContent:"center",userSelect:"none"},addNewMeterButton:{width:120,height:120,borderRadius:10,padding:e.spacing(1),marginRight:e.spacing(2),backgroundColor:tt.f,flex:"0 0 120px"},leftArrow:{fontSize:32,backgroundColor:tt.e,fontWeight:700,display:"inline-flex",justifyContent:"center",alignItems:"center",width:40,height:120,position:"absolute",left:0,zIndex:100},rightArrow:{fontSize:32,backgroundColor:tt.e,fontWeight:900,display:"inline-flex",justifyContent:"center",alignItems:"center",width:40,height:120,position:"absolute",right:0,zIndex:100},lockedIcon:{height:28,width:28},lockWrapper:{position:"absolute",right:5,top:5,height:40,width:40,display:"inline-flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"50%",zIndex:100},leftIcon:{marginRight:e.spacing(.5)},iconSmall:{fontSize:16},historySliderContainer:{backgroundColor:tt.g},noResourceContainer:{padding:"0px 32px"},noResourceText:(r={color:tt.i,padding:"12px 0px",fontSize:24},zt(r,e.breakpoints.down("sm"),{fontSize:24}),zt(r,e.breakpoints.down("xs"),{padding:0}),r),placedMetersFolder:{display:"flex",justifyContent:"center",flexWrap:"wrap",position:"absolute",borderRadius:10,zIndex:10},unplacedMetersFolder:{position:"relative",display:"flex",flexWrap:"nowrap",flex:"0 0 auto",marginRight:10,borderBottomLeftRadius:10,borderBottomRightRadius:10},unplacedFolderedMeterWrapper:{margin:"2px 5px 0px",height:tt.o.height,width:tt.o.width,position:"relative",flex:"0 0 ".concat(tt.o.width,"px")},unplacedFolderLabel:{position:"absolute",left:0,top:0,lineHeight:"normal",transform:"translateY(-100%)",color:"rgb(255, 255, 255)",fontWeight:600,fontFamily:"Roboto-Medium",padding:"6px 3px 2px",borderTopLeftRadius:10,borderTopRightRadius:10,width:"100%",textAlign:"center",fontSize:10,textTransform:"uppercase",borderBottom:"1px groove rgba(255, 255, 255, 0.3)"},resizeHandleBlock:{backgroundColor:"rgba(0, 0, 0, 0.3)",color:"rgba(255, 255, 255, 1)",borderRadius:5,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.2)"}},resizeIcon:{transform:"rotate(-90deg)",fontSize:36},warningIcon:{overflow:"visible",width:24,height:24},warningTooltip:{backgroundColor:"rgb(255, 0, 0)",color:"rgb(255, 255, 255)",fontSize:16,borderRadius:10},warningIconWrapper:{display:"inline-block",position:"absolute",top:0,right:-1,zIndex:100,height:24,width:24},folderTitle:{top:-35,position:"absolute",fontSize:13,width:150,justifyContent:"center",textAlign:"left",zIndex:11},folderTitleSpan:{backgroundColor:"#2699fb",color:"white",borderRadius:5,border:"1px solid rgb(192, 192, 192)",padding:"10px 2px 2px",maxWidth:"100px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"center"},meterExtendedInfo:{padding:2,borderRadius:10},tooltipPopper:{opacity:1},heatArea:{borderRadius:"50%",position:"absolute",zIndex:0},thermometerWrapper:{position:"absolute",right:15,top:15,backgroundColor:"rgba(255, 255, 255, 0.3)",height:250,width:200},thermometerIcon:{height:"100%",width:"100%",borderRadius:10},thermometerButton:{position:"absolute",width:20,borderRadius:10,fontWeight:"bold",top:25,right:5},unfoldBtn:{position:"absolute",color:"white",top:10,right:10},foldBtn:{borderRadius:20,padding:2,marginLeft:4,border:"2px solid white",backgroundColor:"#2699fb",minWidth:10,width:25,height:25},microbitLogo:{maxWidth:20,position:"absolute",left:50,top:4},foldBtnIcon:{width:20,height:20}}})))(Wt),Ht=(n("V+g0"),n("siax")),Gt=n("xSPK"),_t=n.n(Gt),Zt=n("8q3U"),Jt=n.n(Zt);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Vt=["classes"];function Xt(){return(Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rn(e);if(t){var o=rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tn(this,n)}}function tn(e,t){if(t&&("object"===Ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nn(e)}function nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var an=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(i,e);var t,n,r,a=en(i);function i(){var e;Kt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return on(nn(e=a.call.apply(a,[this].concat(n))),"state",{playing:!1}),on(nn(e),"onButtonClick",(function(){var t=e.state.playing,n=e.props.onClick;e.setState((function(e){return{playing:!e.playing}})),n(!t)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.state.playing,t=this.props,n=t.classes,r=Qt(t,Vt),a={classes:{root:n.iconRoot}};return o.a.createElement(S.a,Xt({},r,{variant:"contained",onClick:this.onButtonClick}),e?o.a.createElement(Jt.a,a):o.a.createElement(_t.a,a))}}])&&$t(t.prototype,n),r&&$t(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component),ln=Object(u.d)(Object(E.a)({iconRoot:{fontSize:40}}))(an);function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gn(e);if(t){var o=gn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fn(this,n)}}function fn(e,t){if(t&&("object"===cn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mn(e)}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bn={borderColor:"rgba(255, 255, 255, 0.3)",height:18,width:18,bottom:"-7px"},yn={borderColor:"rgba(255, 255, 255, 0.87)"},vn={borderWidth:4,height:20,width:20,marginLeft:-5,marginTop:-8,backgroundColor:"rgb(0, 188, 212)"},Sn={fontFamily:"Roboto",color:"rgba(255, 255, 255, 0.87)",marginTop:5},wn=o.a.createElement("br",null),xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dn(e,t)}(l,e);var t,n,r,a=pn(l);function l(){var e;sn(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hn(mn(e=a.call.apply(a,[this].concat(n))),"state",{value:100}),hn(mn(e),"historyPlayInterval",null),hn(mn(e),"onSliderChange",(function(t){var n=e.props.updateValue;e.setState({value:t}),n(t)})),hn(mn(e),"onPlayButtonClick",(function(t){t?e.historyPlayInterval=setInterval(e.playHandler,tt.q):clearInterval(e.historyPlayInterval)})),hn(mn(e),"getLabel",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.props,a=r.stepValue,i=r.minValue,l=r.maxValue,c=e.formatTime(t+Math.round(a/2),"MMM DD"),s=n&&e.formatTime(n+Math.round(a/2),"MMM DD"),u=e.formatTime(t+Math.round(a/2),"H:mm:ss");return o.a.createElement("span",null,(l-i)/86400<7&&o.a.createElement("span",{className:"map-history-slider-hour"},u,wn),(t===l-a||(l-i)/86400>1||!s||s!==c)&&o.a.createElement("span",null,o.a.createElement("span",{className:"map-history-slider-hour"},c)))})),hn(mn(e),"getMarks",(function(t,n,r){for(var o={},a=n-r,i=a-r;a>t||Math.abs(a-t)<.005;){var l=i<t&&Math.abs(i-t)>.005?null:i;o[a]={label:e.getLabel(a,l),style:Sn},a-=r,i-=r}return o})),hn(mn(e),"setDefaultValue",(function(t){e.setState({value:t})})),hn(mn(e),"playHandler",(function(){var t=e.props,n=t.minValue,r=t.maxValue,o=t.stepValue,a=t.updateValue,i=e.state.value,l=i+o<=r?i+o:n;a(l),e.setState({value:l})})),hn(mn(e),"formatTime",(function(e,t){return i.a.unix(e).format(t)})),e}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this.props.minValue;this.setDefaultValue(e)}},{key:"componentWillUnmount",value:function(){clearInterval(this.historyPlayInterval)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.minValue,r=e.maxValue,a=e.stepValue,i=this.state.value;return o.a.createElement("div",{id:"map-history-slider",className:"".concat(t.mapHistorySliderWrapper," mapHistorySlider")},o.a.createElement("div",{className:t.historyPlayButtonWrapper},o.a.createElement(ln,{className:t.historyPlayButton,onClick:this.onPlayButtonClick})),o.a.createElement(Ht.a,{dots:!0,step:a,min:n,max:r-a,defaultValue:n,value:i,dotStyle:bn,marks:this.getMarks(n,r,a),activeDotStyle:yn,onChange:this.onSliderChange,trackStyle:{backgroundColor:"transparent",height:20},handleStyle:vn}))}}])&&un(t.prototype,n),r&&un(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.a.Component);xn.defaultProps={minValue:0,maxValue:100,stepValue:10};var Cn=Object(u.d)(Object(E.a)((function(e){return{mapHistorySliderWrapper:hn({display:"flex",width:"100%",margin:"35px 50px 15px 25px"},e.breakpoints.down("sm"),{margin:"30px 25px 0px",flexDirection:"column-reverse"}),historyPlayButtonWrapper:hn({},e.breakpoints.down("sm"),{display:"flex",justifyContent:"center",marginTop:65}),historyPlayButton:hn({padding:4,marginRight:40,position:"relative",bottom:16,borderRadius:10,minWidth:48,backgroundColor:tt.f,color:tt.i,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},e.breakpoints.down("sm"),{marginRight:0,minWidth:36})}})))(xn),On=n("LvDl"),En=n("JWF1"),Dn=n.n(En);function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){Fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e){return function(e){if(Array.isArray(e))return Nn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e,t){return(kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bn(e);if(t){var o=Bn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ln(this,n)}}function Ln(e,t){if(t&&("object"===In(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zn(e)}function zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wn=o.a.createElement(Dn.a,null),Yn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kn(e,t)}(i,e);var t,n,r,a=Pn(i);function i(){var e;Rn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Fn(zn(e=a.call.apply(a,[this].concat(n))),"state",{floorNumber:0,buildings:[]}),Fn(zn(e),"createFloorForm",null),Fn(zn(e),"floorsPositiveNumbersArr",Array.from({length:100},(function(e,t){return t}))),Fn(zn(e),"onFormSubmit",(function(){var t=e.props,n=t.onSubmit,r=t.disableFloorSelect,o=t.selectedFloor,a=e.state,i=a.floorNumber,l=a.buildings;n(Number(r?o:i),l),e.setState({buildings:[]})})),Fn(zn(e),"onClose",(function(){var t=e.props.onClose;e.setState({buildings:[]}),t()})),Fn(zn(e),"setStartFloor",(function(t){var n=On.without.apply(void 0,[e.floorsPositiveNumbersArr].concat(Tn(t))),r=n.length?Math.min.apply(Math,Tn(n)):0;e.setState({floorNumber:r})})),Fn(zn(e),"removeBuilding",(function(t){var n=e.state.buildings;n.splice(t,1),e.setState({buildings:n})})),Fn(zn(e),"floorExists",(function(t){var n=e.props.existingFloors;return!!t&&n.includes(Number(t))})),Fn(zn(e),"handleInput",(function(t){var n=e.state.floorNumber,r=t.target.value+t.key;(!["0","1","2","3","4","5","6","7","8","9","-"].includes(t.key)||Boolean(n)&&isNaN(r))&&t.preventDefault()})),Fn(zn(e),"clearEventFiles",(function(e){e.target.type="text",e.target.type="file"})),Fn(zn(e),"uploadFiles",(function(t){var n=e.state.buildings,r=t.target.files,o=[];e.clearEventFiles(t);for(var a=0;a<r.length;a++){var i=r[a];o.push(Object(qe.b)(i))}Promise.all(o).then((function(t){e.setState({buildings:[].concat(Tn(n),Tn(t))})}))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){q.ValidatorForm.addValidationRule("min",(function(e){return e>=-1})),q.ValidatorForm.addValidationRule("max",(function(e){return e<=99}))}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.files,r=this.state.buildings,o=this.props.existingFloors,a=[];if(!o.length&&!e.existingFloors.length&&!r.length){if(!n.length)return;for(var i=0;i<n.length;i++){var l=n[i];a.push(Object(qe.b)(l))}Promise.all(a).then((function(e){t.setState({buildings:[].concat(Tn(r),Tn(e))})}))}var c=o.slice().sort(),s=e.existingFloors.slice().sort();Object(On.isEqual)(c,s)||this.setStartFloor(s)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.isOpened,a=t.title,i=t.disableFloorSelect,l=t.selectedFloor,c=t.actionButtonName,s=this.state,u=s.floorNumber,d=s.buildings,p=Object(qe.c)(u);return o.a.createElement(ve.a,{classes:{dialogContent:n.dialogContent},isOpened:r,onClose:this.onClose,title:a,onSubmit:function(){return e.createFloorForm.submit()},submitLabel:c,onEntered:this.onEntered},o.a.createElement(q.ValidatorForm,{ref:function(t){e.createFloorForm=t},onSubmit:this.onFormSubmit},o.a.createElement(q.TextValidator,{autoComplete:"off",type:"number",fullWidth:!0,label:"Floor number",margin:"dense",onChange:function(t){return e.setState({floorNumber:t.target.value})},name:"floorNumber",disabled:i,value:i?l:u,validators:["required","min","max"],onKeyPress:this.handleInput,onPaste:function(e){e.preventDefault()},FormHelperTextProps:{classes:{root:n.helperTextRoot}},helperText:this.floorExists(u)?"Selected floor already exists! If you continue then ".concat(p.toLowerCase()," plan will be updated!"):"",errorMessages:["This field is required","Floor number should be greater or equal to ".concat(-1),"Floor number should be less or equal to ".concat(99)]}),o.a.createElement(q.TextValidator,{type:"text",fullWidth:!0,label:"Floor name",margin:"dense",name:"floorName",disabled:!0,value:p}),d.length?d.map((function(t,r){return o.a.createElement(h.a,{container:!0,direction:"row",key:"building_name_".concat(t.name)},o.a.createElement(h.a,{item:!0,xs:10},o.a.createElement(q.TextValidator,{type:"text",fullWidth:!0,onChange:function(t){d[r].name=t.target.value,e.setState((function(e){return jn(jn({},e),{},{buildings:d})}))},label:"Building name",margin:"dense",name:"building",value:t.name})),o.a.createElement(h.a,{item:!0,xs:2,className:n.removeButton},o.a.createElement(S.a,{onClick:function(){return e.removeBuilding(r)}},Wn)))})):null,o.a.createElement(h.a,{container:!0},o.a.createElement("label",{htmlFor:"upload-plans-button"},o.a.createElement(S.a,{variant:"contained",component:"span",className:n.uploadButton},"Upload Plans"),o.a.createElement("input",{accept:"image/*",className:n.input,style:{display:"none"},id:"upload-plans-button",multiple:!0,type:"file",onChange:this.uploadFiles})),o.a.createElement(g.a,{className:n.hint},"All image formats are allowed."))))}}])&&An(t.prototype,n),r&&An(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);Yn.defaultProps={disableFloorSelect:!1,selectedFloor:1,title:"",files:[],actionButtonName:"Create",existingFloors:[]};var Hn=Object(u.d)(Object(ee.withStyles)((function(e){return{rootPaper:Fn({},e.breakpoints.down("xs"),{marginLeft:24,marginRight:24}),dialogContent:Fn({width:500,padding:24},e.breakpoints.down("xs"),{maxWidth:300,padding:10}),iconButton:{width:e.spacing(4),height:e.spacing(4),marginBottom:e.spacing(1)},dialogTitle:{fontSize:18,color:"#555",fontWeight:"normal",margin:"28px auto",textAlign:"center"},uploadButtonContainer:{marginTop:12},uploadButton:Fn({backgroundColor:"rgba(224, 224, 224, 0.5)",color:"rgba(0, 0, 0, 0.87)",boxShadow:"0px 1px 0px 1px rgba(0,0,0,0.2), 0px 1px 0px 0px rgba(0,0,0,0.14), 0px 1px 1px 0px rgba(0,0,0,0.12)",borderRadius:2,padding:"0px 8px",textTransform:"none",fontWeight:400,fontSize:16,border:"1px outset rgba(0, 0, 0, 0.3)","&:hover":{backgroundColor:"rgba(224, 224, 224, 0.7)"}},e.breakpoints.down("xs"),{fontSize:14}),uploadErrorText:{fontSize:12},helperTextRoot:{color:"rgb(255, 129, 42)"},hint:Fn({fontSize:14,padding:8},e.breakpoints.down("xs"),{fontSize:12,paddingLeft:0}),removeButton:{alignSelf:"end",justify:"flex-end"}}})))(Yn);function Gn(e){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e){return function(e){if(Array.isArray(e))return Un(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Un(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qn(e,t){return(Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=er(e);if(t){var o=er(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $n(this,n)}}function $n(e,t){if(t&&("object"===Gn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qn(e)}function qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nr=o.a.createElement(Dn.a,null),rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qn(e,t)}(i,e);var t,n,r,a=Kn(i);function i(){var e;Vn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tr(qn(e=a.call.apply(a,[this].concat(n))),"state",{buildings:[]}),tr(qn(e),"createAreaForm",null),tr(qn(e),"onFormSubmit",(function(){(0,e.props.onSubmit)(e.state.buildings),e.setState({buildings:[]})})),tr(qn(e),"onClose",(function(){var t=e.props.onClose;e.setState({buildings:[]}),t()})),tr(qn(e),"removeBuilding",(function(t){var n=e.state.buildings;n.splice(t,1),e.setState({buildings:n})})),tr(qn(e),"clearEventFiles",(function(e){e.target.type="text",e.target.type="file"})),tr(qn(e),"uploadFiles",(function(t){var n=e.state.buildings,r=[],o=t.target.files;e.clearEventFiles(t);for(var a=0;a<o.length;a++){var i=o[a];r.push(Object(qe.b)(i))}Promise.all(r).then((function(t){e.setState({buildings:[].concat(Jn(n),Jn(t))})}))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){q.ValidatorForm.addValidationRule("minStringLength",(function(e){return e>=3})),q.ValidatorForm.addValidationRule("maxStringLength",(function(e){return e<=20}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.isOpened,a=t.title,i=t.actionButtonName,l=this.state.buildings;return o.a.createElement(ve.a,{classes:{dialogContent:n.dialogContent},isOpened:r,onClose:this.onClose,title:a,onSubmit:function(){return e.createAreaForm.submit()},submitLabel:i,onEntered:this.onEntered},o.a.createElement(q.ValidatorForm,{ref:function(t){e.createAreaForm=t},onSubmit:this.onFormSubmit},l.length?l.map((function(t,r){return o.a.createElement(h.a,{container:!0,direction:"row",key:"building_container_".concat(t.name)},o.a.createElement(h.a,{item:!0,xs:10},o.a.createElement(q.TextValidator,{type:"text",fullWidth:!0,onChange:function(t){l[r].name=t.target.value,e.setState((function(e){return Zn(Zn({},e),{},{buildings:l})}))},label:"Building name",margin:"dense",name:"building",value:t.name})),o.a.createElement(h.a,{item:!0,xs:2,className:n.removeButton},o.a.createElement(S.a,{onClick:function(){return e.removeBuilding(r)}},nr)))})):null,o.a.createElement(h.a,{container:!0},o.a.createElement("label",{htmlFor:"upload-plans-button"},o.a.createElement(S.a,{variant:"contained",component:"span",className:n.uploadButton},"Upload Plans"),o.a.createElement("input",{accept:"image/*",className:n.input,style:{display:"none"},id:"upload-plans-button",multiple:!0,type:"file",onChange:this.uploadFiles})),o.a.createElement(g.a,{className:n.hint},"All image formats are allowed."))))}}])&&Xn(t.prototype,n),r&&Xn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);rr.defaultProps={title:"",actionButtonName:"Create"};var or=Object(u.d)(Object(ee.withStyles)((function(e){return{rootPaper:tr({},e.breakpoints.down("xs"),{marginLeft:24,marginRight:24}),dialogContent:tr({width:500,padding:24},e.breakpoints.down("xs"),{maxWidth:300,padding:10}),iconButton:{width:e.spacing(4),height:e.spacing(4),marginBottom:e.spacing(1)},dialogTitle:{fontSize:18,color:"#555",fontWeight:"normal",margin:"28px auto",textAlign:"center"},uploadButtonContainer:{marginTop:12},uploadButton:tr({backgroundColor:"rgba(224, 224, 224, 0.5)",color:"rgba(0, 0, 0, 0.87)",boxShadow:"0px 1px 0px 1px rgba(0,0,0,0.2), 0px 1px 0px 0px rgba(0,0,0,0.14), 0px 1px 1px 0px rgba(0,0,0,0.12)",borderRadius:2,padding:"0px 8px",textTransform:"none",fontWeight:400,fontSize:16,border:"1px outset rgba(0, 0, 0, 0.3)","&:hover":{backgroundColor:"rgba(224, 224, 224, 0.7)"}},e.breakpoints.down("xs"),{fontSize:14}),uploadErrorText:{fontSize:12},helperTextRoot:{color:"rgb(255, 129, 42)"},hint:tr({fontSize:14,padding:8},e.breakpoints.down("xs"),{fontSize:12,paddingLeft:0}),removeButton:{alignSelf:"end",justify:"flex-end"}}})))(rr),ar=n("wUID");function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fr(e);if(t){var o=fr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dr(this,n)}}function dr(e,t){if(t&&("object"===ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pr(e)}function pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gr=o.a.createElement(v.a,{key:"red",value:"red"},"Red"),hr=o.a.createElement(v.a,{key:"green",value:"green"},"Green"),br=o.a.createElement(v.a,{key:"blue",value:"blue"},"Blue"),yr=o.a.createElement(v.a,{key:"yellow",value:"yellow"},"Yellow"),vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sr(e,t)}(l,e);var t,n,r,a=ur(l);function l(){var e;lr(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mr(pr(e=a.call.apply(a,[this].concat(n))),"state",{sensors:[]}),mr(pr(e),"editSensorGroupForm",null),mr(pr(e),"onFormSubmit",(function(){(0,e.props.onSubmit)(e.state.sensors)})),mr(pr(e),"editSensorColor",(function(t,n){var r=e.state.sensors,o=JSON.parse(JSON.stringify(r));o[n].color=t,e.setState({sensors:o})})),mr(pr(e),"editSensorNameGroup",(function(t,n){var r=e.state.sensors,o=JSON.parse(JSON.stringify(r));o[n].name=t.target.value,o[n].duplicated=r.some((function(e){return e.name===t.target.value})),e.setState({sensors:o})})),mr(pr(e),"editSensorGroupTime",(function(t,n){var r=e.state.sensors,o=JSON.parse(JSON.stringify(r));o[n].time=t,o[n].badTime=i()(t).add(r[n].logDuration).isAfter(i()()),e.setState({sensors:o})})),mr(pr(e),"editSensorName",(function(t,n,r){var o=e.state.sensors,a=JSON.parse(JSON.stringify(o));a[n].data[r].name=t.target.value,e.setState({sensors:a})})),mr(pr(e),"editSensorType",(function(t,n,r){var o=e.state.sensors,a=JSON.parse(JSON.stringify(o));a[n].data[r].type=t.target.value,e.setState({sensors:a})})),e}return t=l,(n=[{key:"componentWillReceiveProps",value:function(e){this.setState({sensors:e.sensors})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isOpened,r=t.onClose,a=t.classes,l=t.title,c=t.sensorGroupIndex,s=this.state.sensors,u=s&&s[c],d=s.filter((function(e){return e.duplicated})).length>0||s.filter((function(e){return e.badTime})).length>0,p=i()().subtract(u&&u.logDuration,"seconds").startOf("seconds").format("DD-MM-YYYY   hh:mm");return o.a.createElement(ve.a,{classes:{dialogContent:a.dialogContent},isOpened:n,onClose:r,title:l,submitButtonDisabled:d,onSubmit:function(){return e.editSensorGroupForm.submit()},submitLabel:"Edit"},o.a.createElement(q.ValidatorForm,{ref:function(t){e.editSensorGroupForm=t},onSubmit:this.onFormSubmit},o.a.createElement(h.a,{container:!0,spacing:6},o.a.createElement(h.a,{item:!0,xs:12,sm:6},o.a.createElement(q.TextValidator,{autoComplete:"off",type:"text",label:"Edit Group Name",name:"edit group name",error:u&&u.duplicated,helperText:u&&u.duplicated?"duplicate entry, please change name.":"",value:u&&u.name,onChange:function(t){e.editSensorNameGroup(t,c)}})),o.a.createElement(h.a,{item:!0,xs:12,sm:6},o.a.createElement(ye,{label:"Edit start time",disableFuture:!0,error:u&&u.badTime,value:u&&u.time,onChange:function(t){e.editSensorGroupTime(t,c)},helperText:u&&u.badTime?"Start time should not be after ".concat(p):""}))),o.a.createElement(h.a,{item:!0,xs:4,style:{paddingBottom:"10px"}},o.a.createElement(q.SelectValidator,{onChange:function(t){return e.editSensorColor(t.target.value,c)},value:u?u.color:"red",label:"Select color",style:{width:202}},gr,hr,br,yr)),u&&u.data.map((function(t,n){var r="item_".concat(n);return o.a.createElement(h.a,{container:!0,spacing:6,key:r},o.a.createElement(h.a,{item:!0,xs:12,sm:6},o.a.createElement(q.TextValidator,{autoComplete:"off",type:"text",label:"Edit Sensor Name",name:"edit sensor name",value:t.name,onChange:function(t){e.editSensorName(t,c,n)}})),o.a.createElement(h.a,{item:!0,xs:12,sm:6},o.a.createElement(q.SelectValidator,{label:"Select type",style:{minWidth:150},onChange:function(t){e.editSensorType(t,c,n)},value:t.type},tt.a.map((function(e){return o.a.createElement(v.a,{key:e,value:e},e)})))))}))))}}])&&cr(t.prototype,n),r&&cr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.a.Component);vr.defaultProps={title:"Edit",sensorGroupIndex:null,sensors:[]};var Sr=Object(u.d)(Object(ee.withStyles)({dialogContent:{minWidth:600}}))(vr),wr=n("ucgz"),xr=n("56Ss"),Cr=n("VmPI"),Or=n("IsqK");function Er(e){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t){return(Mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rr(e);if(t){var o=Rr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tr(this,n)}}function Tr(e,t){if(t&&("object"===Er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nr(e)}function Nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kr={select:{minWidth:250},labelWrapper:{paddingLeft:16},listItem:{widht:250,maxHeight:224},manageButton:{height:36,padding:"4px 8px 2px",margin:8,borderRadius:10,backgroundColor:tt.v,color:tt.i,fontSize:12,lineHeight:"normal","&:hover":{backgroundColor:tt.v}}},Pr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mr(e,t)}(i,e);var t,n,o,a=jr(i);function i(){var e;Dr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ar(Nr(e=a.call.apply(a,[this].concat(n))),"handleChange",(function(t){(0,e.props.setSelectedToState)(t.target.value)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.open,n=e.classes,o=e.handleClose,a=e.handleOpen,i=e.selectedItems,l=e.items,c=e.title,s=e.reverse,u=e.maxSelectedItemsCount;return r.createElement("div",null,r.createElement(b.a,{sx:{m:1,width:300},required:!0},(i.length>0||s)&&r.createElement(S.a,{id:"openSelector",variant:"contained",onClick:a,className:n.manageButton},c),r.createElement(y.a,{id:"demo-multiple-sensor",multiple:!0,open:t,value:i,onChange:this.handleChange,onOpen:a,onClose:o,renderValue:function(e){return e.join(", ")},style:{display:"none"},MenuProps:{anchorEl:document.getElementById("openSelector"),PaperProps:{style:{maxHeight:224,width:250}}},className:n.select},l.map((function(e){return r.createElement(v.a,{disabled:i.length===u&&!i.includes(e),key:e,value:e},r.createElement(xr.a,null,r.createElement(Cr.a,{checked:s?!i.includes(e):i.includes(e)})),r.createElement(Or.a,{primary:e}))})))))}}])&&Ir(t.prototype,n),o&&Ir(t,o),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.PureComponent);Pr.defaultProps={selectedItems:[],items:[],setSelectedToState:function(){},reverse:!1,title:"",maxSelectedItemsCount:0};var Lr=Object(wr.a)(kr)(Pr),zr=n("6Obz"),Br=n("4XXU");function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wr(e){return function(e){if(Array.isArray(e))return Zr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||_r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e,t){if(e){if("string"==typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zr(e,t):void 0}}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vr(e,t){return(Vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$r(e);if(t){var o=$r(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qr(this,n)}}function Qr(e,t){if(t&&("object"===Fr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kr(e)}function Kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eo=Object(E.a)({root:{left:"10px",top:"14px",zIndex:12,width:3,position:"absolute","&$vertical":{width:8,height:"calc(100% - 77px)"}},thumb:{height:27,width:27,backgroundColor:"#fff",border:"1px solid currentColor",marginTop:-12,marginLeft:-13,boxShadow:"#ebebeb 0 2px 2px","&:focus, &:hover, &$active":{boxShadow:"#ccc 0 2px 3px 1px"},"& .bar":{height:9,width:1,backgroundColor:"currentColor",marginLeft:1,marginRight:1}},active:{},track:{height:3},valueLabel:{left:-4,textAlign:"center"},rail:{color:"#d8d8d8",opacity:1,height:3},vertical:{"& $rail":{width:3},"& $track":{width:3},"& $thumb":{marginLeft:-12,marginBottom:-11}}})(zr.a),to=Object(E.a)({root:{left:"calc(100% - 32px)",top:"14px",zIndex:12,width:3,position:"absolute","&$vertical":{width:8,height:"calc(100% - 50px)"}},thumb:{height:27,width:27,backgroundColor:"#fff",border:"1px solid currentColor",marginTop:-12,marginLeft:-13,boxShadow:"#ebebeb 0 2px 2px","&:focus, &:hover, &$active":{boxShadow:"#ccc 0 2px 3px 1px"},"& .bar":{height:9,width:1,backgroundColor:"currentColor",marginLeft:1,marginRight:1}},active:{},track:{height:3},valueLabel:{left:-4,textAlign:"center"},rail:{color:"#d8d8d8",opacity:1,height:3},vertical:{"& $rail":{width:3},"& $track":{width:3},"& $thumb":{marginLeft:-12,marginBottom:-11}}})(zr.a),no=Object(E.a)({root:{color:tt.v,height:3,position:"absolute",left:"86px",width:"calc(100% - 149px)",top:"506px"},thumb:{height:27,width:27,backgroundColor:"#fff",border:"1px solid currentColor",marginTop:-12,marginLeft:-13,boxShadow:"#ebebeb 0 2px 2px","&:focus, &:hover, &$active":{boxShadow:"#ccc 0 2px 3px 1px"},"& .bar":{height:9,width:1,backgroundColor:"currentColor",marginLeft:1,marginRight:1}},active:{},track:{height:3},valueLabel:{left:-4,textAlign:"center"},rail:{color:"#d8d8d8",opacity:1,height:3}})(zr.a),ro=o.a.createElement(Br.d,{strokeDasharray:"3 3"}),oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vr(e,t)}(l,e);var t,n,r,a=Xr(l);function l(){var e;Jr(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qr(Kr(e=a.call.apply(a,[this].concat(n))),"state",{rangeX:[],rangeY1:[],rangeY2:[]}),qr(Kr(e),"componentDidMount",(function(){var t=e.props.chartDataRange,n=t.minX,r=t.maxX,o=t.minY1,a=t.maxY1,i=t.minY2,l=t.maxY2;e.setState({rangeX:[n,r],rangeY1:[o,a],rangeY2:[i,l]})})),qr(Kr(e),"componentDidUpdate",(function(t){var n=e.props.chartDataRange;if(t.chartDataRange!==n){var r=n.minX,o=n.maxX,a=n.minY1,i=n.maxY1,l=n.minY2,c=n.maxY2;e.setState({rangeX:[r,o],rangeY1:[a,i],rangeY2:[l,c]})}})),qr(Kr(e),"handleChangeSliderX",(function(t,n){e.setState({rangeX:n})})),qr(Kr(e),"handleChangeSliderY1",(function(t,n){e.setState({rangeY1:n})})),qr(Kr(e),"handleChangeSliderY2",(function(t,n){e.setState({rangeY2:n})})),qr(Kr(e),"downSampleData",(function(e,t,n){if(n>=e.length||0===n)return e;var r,o,a,i,l=[],c=0,s=(e.length-2)/(n-2),u=0;l[c++]=e[u];for(var d=0;d<n-2;d++){for(var p=0,f=0,m=Math.floor((d+1)*s)+1,g=Math.floor((d+2)*s)+1,h=(g=g<e.length?g:e.length)-m;m<g;m++){var b=e[m];p+=b.timestamp,f+=b[t]}p/=h,f/=h;var y=Math.floor((d+0)*s)+1,v=Math.floor((d+1)*s)+1,S=e[u],w=S.timestamp,x=S[t];for(o=a=-1;y<v;y++){var C=e[y],O=C.timestamp,E=C[t];(a=.5*Math.abs((w-p)*(E-x)-(w-O)*(f-x)))>o&&(o=a,r=e[y],i=y)}l[c++]=r,u=i}return l[c++]=e[e.length-1],l})),qr(Kr(e),"getChartDataRange",(function(t){var n=e.state,r=Gr(n.rangeX,2),o=r[0],a=r[1],i=Gr(n.rangeY1,2),l=i[0],c=i[1],s=Gr(n.rangeY2,2),u=s[0],d=s[1],p=t.map((function(t,n){var r=JSON.parse(JSON.stringify(t.filter((function(e){return o<=e.timestamp&&e.timestamp<=a})))).reduce((function(e,t){var r=Hr({},t),o={};return o=n?{min:u,max:d}:{min:l,max:c},Object.keys(r).forEach((function(e){"timestamp"===e||o.min<=r[e]&&r[e]<=o.max||(r[e]=null)})),Object.values(r).filter((function(e){return null!==e})).length>1&&e.push(r),e}),[]).reduce((function(e,t){return Object.keys(t).forEach((function(n){if(null!==t[n]&&"timestamp"!==n){var r=t.timestamp,o=t[n];n in e?e[n].push(qr({timestamp:r},n,o)):e[n]=[qr({timestamp:r},n,o)]}})),e}),{});return Object.keys(r).reduce((function(t,n){return t.push.apply(t,Wr(e.downSampleData(r[n],n,50))),t}),[])}));return p.map((function(e,t){var n=e.reduce((function(e,t){return e[t.timestamp]=Hr(Hr({},e[t.timestamp]),t),e}),{});return p.length>1&&p[(t+1)%2].forEach((function(e){e.timestamp in n||(n[e.timestamp]={timestamp:e.timestamp})})),Object.values(n)}))})),qr(Kr(e),"valueLabelFormat",(function(e){var t=i.a.unix(e).format("HH:mm:ss"),n=i.a.unix(e).format("MMM-DD");return"".concat(t,"\n").concat(n)})),e}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.chartData,a=t.sensorTypesToDisplay,l=t.chartDataRange,c=t.availableGroupNames,s=t.excludedSensors,u=this.state,d=u.rangeX,p=u.rangeY1,f=u.rangeY2,m=[],g=Math.max.apply(Math,Wr(c.map((function(e){return e.length})))),b=c.reduce((function(e,t){return e.push.apply(e,Wr(t)),Wr(new Set(e))}),[]).reduce((function(e,t,n){var r=s.includes(t);return e[t]="hsla(".concat(340/g*n,", 100%, 50%, ").concat(r?.5:1,")"),e}),{}),y=r.map((function(e){return e.reduce((function(e,t){var n={};return Object.keys(t).forEach((function(e){s.includes(e)||(n[e]=t[e])})),e.push(n),e}),[])})),v=this.getChartDataRange(y);return o.a.createElement(h.a,{container:!0,className:n.mainWrapper},a.map((function(t,r){return o.a.createElement(h.a,{container:!0,className:r?n.secondChart:n.firstChart,style:{color:"black"},key:"".concat(t,"_chart")},r?o.a.createElement(to,{min:l.minY2,max:l.maxY2,value:f,valueLabelDisplay:"auto",onChange:e.handleChangeSliderY2,orientation:"vertical"}):o.a.createElement(o.a.Fragment,null,o.a.createElement(no,{min:l.minX,max:l.maxX,value:d,valueLabelDisplay:"auto",valueLabelFormat:e.valueLabelFormat,onChange:e.handleChangeSliderX}),o.a.createElement(eo,{min:l.minY1,max:l.maxY1,value:p,valueLabelDisplay:"auto",onChange:e.handleChangeSliderY1,orientation:"vertical"})),o.a.createElement(Br.k,{minHeight:500},o.a.createElement(Br.i,{data:v[r],margin:{top:5,right:30,left:20,bottom:5}},ro,o.a.createElement(Br.m,{dataKey:"timestamp",domain:["dataMin","dataMax"],axisLine:!1,tick:function(e){var t=e.x,n=e.y,a=e.index,l=e.payload.value;if(r)return null;var c="",s=i.a.unix(l).format("HH:mm:ss"),u=i.a.unix(l).format("YYYY-MM-DD"),p=m.find((function(e){var t=e.date;return u===t}));return p?p.tickIndex===a&&(c=u):(m.push({tickIndex:a,date:u}),c=u),o.a.createElement("g",{transform:"translate(".concat(t,",").concat(n,")")},o.a.createElement("text",{x:0,y:0,dy:10,fill:"#666"},o.a.createElement("tspan",{textAnchor:"middle",x:"0"},s),o.a.createElement("tspan",{textAnchor:"middle",x:"0",y:"25"},l===d[1]?u:c)))},padding:{left:20,right:20}}),o.a.createElement(Br.n,{tick:{fill:"black"},tickFormatter:function(e){return"".concat(e," ").concat(t===et.I.TEMPERATURE?et.X.celsius:"")},orientation:r?"right":"left",axisLine:!1,width:64,domain:["temperature"===t?0:"dataMin","dataMax"]}),o.a.createElement(Br.g,{content:function(e){var a=e.payload;return o.a.createElement("ul",{className:n.legendWrapper,style:r?{left:"calc(50% - 60px)",top:20}:{top:20}},o.a.createElement("span",{style:{fontWeight:"bold"}},t," (",r?"right y axis":"left y axis","):"),a.map((function(e){var t=s.includes(e.value);return o.a.createElement("li",{key:"item-".concat(e.value),className:"".concat(n.legendItem," ").concat(r?n.dashedLegendItem:n.straightLegendItem),style:{color:e.color}},o.a.createElement("span",{style:{color:"black",fontSize:14,opacity:t?.3:1}},e.value))})))}}),c[r].map((function(e){return o.a.createElement(Br.h,{connectNulls:!0,key:e,type:"linear",dataKey:e,stroke:b[e],fill:b[e],strokeWidth:4,strokeDasharray:r?"8 3":""})})),";")))})))}}])&&Ur(t.prototype,n),r&&Ur(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.PureComponent);oo.defaultProps={chartData:[],availableGroupNames:[],chartDataRange:{},sensorTypesToDisplay:[],excludedSensors:[]};var ao=Object(E.a)((function(e){return{mainWrapper:{paddingTop:25,backgroundColor:"rgba(255, 255, 255, 0)"},firstChart:qr({position:"relative",width:"calc(100% - 30px)",paddingRight:32,paddingBottom:25},e.breakpoints.down("sm"),{paddingRight:48}),secondChart:{position:"absolute",width:"calc(100% - 30px)",paddingLeft:64},legendWrapper:{position:"absolute",display:"flex",maxWidth:"50%",flexWrap:"wrap",alignItems:"center",marginTop:"30px",listStyleType:"none"},legendItem:{marginLeft:40,fontSize:24,marginBottom:6},straightLegendItem:{"&:before":{content:'"\\2012\\25CF"',position:"absolute",marginLeft:-33,marginTop:2}},dashedLegendItem:{"&:before":{content:'"--\\25CF"',position:"absolute",marginLeft:-33,marginTop:2}}}}))(oo),io=n("ZIcu"),lo=n.n(io),co=n("9QgT"),so=n.n(co),uo=n("HeyD"),po=n.n(uo),fo=n("aavD"),mo=n.n(fo),go=n("SN3g"),ho=n.n(go),bo=n("NHF4"),yo=n.n(bo),vo=n("O5I3"),So=n.n(vo),wo=n("nJDx"),xo=n.n(wo),Co=n("baDH"),Oo=n.n(Co),Eo=n("p2DJ"),Do=n.n(Eo),Io=n("Kh/v");function Mo(e){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jo(e,t){return Ro(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||Bo(e,t)||No()}function To(e){return Ro(e)||Fo(e)||Bo(e)||No()}function No(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ro(e){if(Array.isArray(e))return e}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Po(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Lo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Po(a,r,o,i,l,"next",e)}function l(e){Po(a,r,o,i,l,"throw",e)}i(void 0)}))}}function zo(e){return function(e){if(Array.isArray(e))return Wo(e)}(e)||Fo(e)||Bo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bo(e,t){if(e){if("string"==typeof e)return Wo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wo(e,t):void 0}}function Fo(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Go(e,t){return(Go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Uo(e);if(t){var o=Uo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zo(this,n)}}function Zo(e,t){if(t&&("object"===Mo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jo(e)}function Jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xo={deleteTitle:"",deleteFunction:function(){}},Qo=o.a.createElement(A.a,null),Ko=o.a.createElement(P.a,null),$o=o.a.createElement(z.a,null),qo=o.a.createElement(m.a,{src:lo.a,alt:"arrow left"}),ea=o.a.createElement(m.a,{src:so.a,alt:"arrow right"}),ta=o.a.createElement(D.a,{htmlColor:"white"}),na=o.a.createElement(I.a,{htmlColor:"white"}),ra=o.a.createElement("h3",null,"There is no plan photo for this floor"),oa=o.a.createElement("h3",null,"You can add photos by Drag-n-Drop them here"),aa=o.a.createElement("h2",null,"There is no floor created"),ia=o.a.createElement("br",null),la=o.a.createElement("br",null),ca=o.a.createElement("br",null),sa=o.a.createElement("br",null),ua=o.a.createElement("br",null),da=o.a.createElement("br",null),pa=o.a.createElement("br",null),fa=o.a.createElement("br",null),ma=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Go(e,t)}(l,e);var t,n,r,a=_o(l);function l(){var e;Yo(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vo(Jo(e=a.call.apply(a,[this].concat(n))),"state",{selectedFloor:"",selectedBuilding:"",floors:[],draggedFiles:{},selectChartTypesOpen:!1,selectFilteredGroupOpen:!1,historyEnabled:!1,historySelectedTime:null,createDialogOpened:!1,createAreaDialogOpened:!1,deleteFloorConfirmOpened:!1,unplacedMetersContainerVisible:!0,showCsvParserDialog:!1,showEditSensorGroupDialog:!1,sensorsToAdd:[],newBuildingName:"",metersScrollLeft:0,windowResized:!1,toggle:Xo,selectedTypes:[],excludedSensors:[],sensorGroupIndex:null}),Vo(Jo(e),"metersContainerRef",o.a.createRef()),Vo(Jo(e),"isMobile",Object(ht.a)()),Vo(Jo(e),"getExistingFloors",(function(){return e.state.floors.map((function(e){return e.number}))})),Vo(Jo(e),"bindWindowChangeOrientationHandler",(function(){window.addEventListener("orientationchange",e.windowChangeOrientationHandler)})),Vo(Jo(e),"bindWindowResizeHandler",(function(){window.addEventListener("resize",e.windowResizeHandler)})),Vo(Jo(e),"windowResizeHandler",(function(){clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout((function(){e.setState((function(e){return{windowResized:!e.windowResized}}))}),Io.h)})),Vo(Jo(e),"windowChangeOrientationHandler",(function(){setTimeout((function(){e.setState((function(e){return{windowResized:!e.windowResized}}))}),Io.h)})),Vo(Jo(e),"changeFloor",(function(t){var n=+t.target.value;e.setState({selectedFloor:n,selectedTypes:[],excludedSensors:[],selectedBuilding:0,newBuildingName:""})})),Vo(Jo(e),"changeBuilding",(function(t){var n=+t.target.value;e.setState({selectedBuilding:n})})),Vo(Jo(e),"deleteFloor",(function(){var t=e.state,n=t.selectedFloor,r=t.floors;e.toggleConfirmDialog();var o=r.filter((function(e){return e.number!==n}));e.setState({floors:o,selectedFloor:n-1,selectedTypes:[],newBuildingName:""})})),Vo(Jo(e),"floorCreateSubmit",(function(t,n){-1===e.state.floors.map((function(e){return e.number})).indexOf(Number(t))&&e.setFloorAndBuildings(t,n),e.toggleCreateDialog()})),Vo(Jo(e),"areaCreateSubmit",(function(t){var n,r=e.state,o=r.selectedFloor,a=r.floors,i=0,l=a.findIndex((function(e){return e.number===o}));a[l].buildings?((n=a[l].buildings).push.apply(n,zo(t)),i=a[l].buildings.length-1):a[l].buildings=t;e.setState({floors:a,selectedBuilding:i}),e.toggleCreateAreaDialog()})),Vo(Jo(e),"showAlert",(function(t){var n=e.props.actions,r=t.header,o=t.content;n.showAlert(r,o)})),Vo(Jo(e),"showAlertOnPlanFileLoadError",(function(t){e.showAlert(t)})),Vo(Jo(e),"toggleCreateDialog",(function(){e.setState((function(e){return{createDialogOpened:!e.createDialogOpened,draggedFiles:{}}}))})),Vo(Jo(e),"toggleCreateAreaDialog",(function(){e.setState((function(e){return{createAreaDialogOpened:!e.createAreaDialogOpened}}))})),Vo(Jo(e),"toggleEditSensorGroupDialog",(function(){e.setState((function(e){return{showEditSensorGroupDialog:!e.showEditSensorGroupDialog}}))})),Vo(Jo(e),"editGroupSensor",(function(t){e.setState({sensorGroupIndex:t}),e.toggleEditSensorGroupDialog()})),Vo(Jo(e),"toggleConfirmDialog",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==t){var n=t.deleteTitle,r=t.deleteFunction;e.setState({toggle:{deleteTitle:n,deleteFunction:r},deleteFloorConfirmOpened:!0})}else e.setState({deleteFloorConfirmOpened:!1,toggle:Xo})})),Vo(Jo(e),"scrollHorizontal",(function(t){return function(){var n=e.state.metersScrollLeft,r=e.metersContainerRef.current,o="0",a=0;switch(t){case"left":o="-=".concat(tt.u),a=-1;break;case"right":o="+=".concat(tt.u),a=1;break;default:return}$(r).animate({scrollLeft:o},1.5*tt.s,tt.t.linear,(function(){e.setState({metersScrollLeft:n+a*tt.u})}))}})),Vo(Jo(e),"showArrow",(function(t){var n=e.metersContainerRef.current;switch(t){case"left":return n.scrollLeft?"inline-flex":"none";case"right":return Math.ceil(n.scrollLeft)+n.clientWidth<n.scrollWidth?"inline-flex":"none";default:return"none"}})),Vo(Jo(e),"importData",(function(t){var n=new FileReader;n.readAsText(t,"UTF-8"),n.onload=function(t){var n=JSON.parse(t.target.result);e.setState({selectedFloor:n[0].number,floors:n,selectedBuilding:0})}})),Vo(Jo(e),"downloadFile",Lo(regeneratorRuntime.mark((function t(){var n,r,o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.floors,r=JSON.stringify(n),o=new Blob([r],{type:"application/json"}),t.next=5,URL.createObjectURL(o);case 5:a=t.sent,(i=document.createElement("a")).href=a,i.download="school_floors.json",document.body.appendChild(i),i.click(),document.body.removeChild(i);case 12:case"end":return t.stop()}}),t)})))),Vo(Jo(e),"handleDrop",(function(t){var n=[];if(1!==t.length||"application/json"!==t[0].type){for(var r=0;r<t.length;r++){var o=t[r];"image"===o.type.split("/")[0]&&n.push(o)}n.length&&e.setState({createDialogOpened:!0,draggedFiles:n})}else e.importData(t[0])})),Vo(Jo(e),"handleDropOnFloor",(function(t){for(var n=e.state,r=n.selectedFloor,o=n.floors,a=o.findIndex((function(e){return e.number===r})),i=[],l=0;l<t.length;l++){var c=t[l];"image"===c.type.split("/")[0]?i.push(Object(qe.b)(c)):e.showAlertOnPlanFileLoadError()}Promise.all(i).then((function(t){var n,r=JSON.parse(JSON.stringify(o));(n=r[a].buildings).push.apply(n,zo(t)),e.setState({floors:r,selectedBuilding:r[a].buildings.length-1})}))})),Vo(Jo(e),"onDeleteUnplacedSensors",(function(){var t=e.state,n=t.selectedFloor,r=t.floors,o=JSON.parse(JSON.stringify(r)),a=o.findIndex((function(e){return e.number===n}));-1!==a&&(o[a].unplacedSensors=o[a].unplacedSensors.filter((function(e){return e.placedOnMap})),o[a].unplacedSensors.length>0?(o[a].historyTimestamps=e.getHistoryRange(o[a]),o[a].chartData=e.getChartData(o[a].unplacedSensors)):(o[a].historyTimestamps=null,o[a].chartData=null),e.setState({floors:o,selectedTypes:[],excludedSensors:[]})),e.toggleConfirmDialog()})),Vo(Jo(e),"unplacedFolderLabel",(function(t){var n=e.props.classes;return o.a.createElement(g.a,{component:"div",className:n.unplacedFolderLabel,style:{backgroundColor:"rgba(0, 125, 255, 0.5)",paddingRight:3},noWrap:!0},!t.folded&&t.name)})),Vo(Jo(e),"hasHorizontalScroll",(function(e){return e&&e.scrollWidth>e.clientWidth})),Vo(Jo(e),"updateHistoryTimeSelection",(function(t){var n=e.state,r=n.selectedFloor,o=n.floors.find((function(e){return e.number===r})),a=t!==i()(o.historyTimestamps.max).unix()?t:null;e.setState({historySelectedTime:a})})),Vo(Jo(e),"toggleUnplacedMetersContainer",(function(){var t=e.state.unplacedMetersContainerVisible;e.setState({unplacedMetersContainerVisible:!t})})),Vo(Jo(e),"onDragStop",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(r,o){if(Math.abs(o.lastX)<3&&Math.abs(o.lastY)<3){if(null!==n){var a=document.getElementById("map-".concat(n));a&&(a.style.overflow="hidden")}}else{var i=e.state,l=i.selectedFloor,c=i.floors,s=JSON.parse(JSON.stringify(c)),u=s.findIndex((function(e){return e.number===l})),d=o.node,p=ko(ko({},$(d).offset()),{},{height:$(d).height()+13,width:$(d).width()+13}),f=r.pageY||(0===r.pageY?0:r.changedTouches[0].pageY),m=r.pageX||(0===r.pageX?0:r.changedTouches[0].pageX),g=null===n?s[u].unplacedSensors[t].folded:s[u].buildings[n].placedSensors[t].folded,h=g?p.height:tt.o.folder_height,b=g?p.width:tt.o.folder_width,y=(f-p.top)/p.height*h,v=(m-p.left)/p.width*b,S=s[u].buildings.length,w=zo(Array(S).keys()).map((function(e){return"#".concat(tt.p.container,"-").concat(e)})).map((function(e){return ko(ko({},$(e).offset()),{},{height:$(e).height(),width:$(e).width()})})),x=w.findIndex((function(e){return e.top<f&&f<e.top+e.height&&e.left<m&&m<e.left+e.width}));if(-1===x){if(null!==n){var C=s[u].buildings[n].placedSensors.splice(t,1)[0],O=s[u].unplacedSensors.findIndex((function(e){return e.placedOnMap===C.placedOnMap}));-1!==O&&(s[u].unplacedSensors[O].placedOnMap=null);var E=document.getElementById("map-".concat(n));E&&(E.style.overflow="hidden")}}else{var D={x:"".concat((m-w[x].left-v)/w[x].width*100,"%"),y:"".concat((f-w[x].top-y)/w[x].height*100,"%"),distToRightBorder:w[x].width-(m-w[x].left-v)};if(null===n){var I=s[u].unplacedSensors[t];s[u].lastPlacedSensorId++,I.placedOnMap=s[u].lastPlacedSensorId,s[u].buildings[x].placedSensors.push(ko(ko({},I),D)),e.setState({floors:s});var M=s[u].buildings[x].placedSensors.find((function(e){return e.name===I.name}));return void e.delayUnfold(u,x,M.name)}var j=s[u].buildings[n].placedSensors[t];s[u].buildings[n].placedSensors[t]=ko(ko({},j),D);var T=document.getElementById("map-".concat(n));T&&(T.style.overflow="hidden")}e.setState({floors:s}),e.metersContainerRef.current.style.overflow="hidden",d.style.zIndex=11}}})),Vo(Jo(e),"onDragStart",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(n,r){if(null!==t){var o=document.getElementById("map-".concat(t));o&&(o.style.overflow="visible")}else e.metersContainerRef.current&&(e.metersContainerRef.current.style.overflow="visible");var a=r.node;a&&(a.style.zIndex=tt.c)}})),Vo(Jo(e),"toggleCsvParserDialog",(function(){e.setState((function(e){return{showCsvParserDialog:!e.showCsvParserDialog,sensorsToAdd:[]}}))})),Vo(Jo(e),"delayUnfold",(function(t,n,r){var o=e.state.floors,a=JSON.parse(JSON.stringify(o)),i=a[t].buildings[n].placedSensors.find((function(e){return e.name===r}));a[t].unplacedSensors.find((function(e){return e.name===r})).folded=!1,i.folded=!1,setTimeout((function(){return e.setState({floors:a})}),1e3)})),Vo(Jo(e),"getType",(function(e){return e.match(/temp/gi)?et.I.TEMPERATURE:e.match(/elec/gi)?et.I.ELECTRICITY:e.match(/bright/gi)?et.I.BRIGHTNESS:e.match(/humi/gi)?et.I.HUMIDITY:et.I.OTHER})),Vo(Jo(e),"csvParserSubmit",(function(t){var n=e.state,r=n.floors,o=n.selectedFloor,a=r.find((function(e){return e.number===o}));t.forEach((function(t){p.a.parse(t,{header:!0,transformHeader:function(e,t){return"".concat(t,"-").concat(e)},complete:function(n){if(n.data.length){var r=To(Object.keys(n.data[0])),o=r[0],l=r.slice(1).map((function(t){return{name:t.split("-").slice(1).join("-"),type:e.getType(t.split("-").slice(1).join("-")),values:n.data.filter((function(e){return e[o]})).map((function(e){return{timestamp:parseFloat(e[o])||("0"===e[o]?0:e[o]),value:parseFloat(e[t])||("0"===e[t]?0:e[t])}}))}})),c=t.name.split(".")[0],s=l[0].values.slice(-1)[0].timestamp;e.setState((function(e){return{sensorsToAdd:[].concat(zo(e.sensorsToAdd),[{name:c,data:l,folded:!0,time:i()().subtract(s,"seconds").startOf("seconds"),logDuration:s,badTime:!1,duplicated:a.unplacedSensors.some((function(e){return e.name===c}))||e.sensorsToAdd.filter((function(e){return e.name===c})).length>1}])}}))}}})})),e.setState({showCsvParserDialog:!0})})),Vo(Jo(e),"getMicrobitImage",(function(e){switch(e){case"yellow":return Do.a;case"green":return Oo.a;case"blue":return xo.a;default:return So.a}})),Vo(Jo(e),"handleSensorColorSubmit",(function(t,n){var r=e.state.sensorsToAdd,o=JSON.parse(JSON.stringify(r));o[n].color=t,e.setState({sensorsToAdd:o})})),Vo(Jo(e),"handleSensorsToAddStartTimeChange",(function(t,n){var r=e.state.sensorsToAdd,o=JSON.parse(JSON.stringify(r));o[n].time=t,o[n].badTime=i()(t).add(r[n].logDuration).isAfter(i()()),e.setState({sensorsToAdd:o})})),Vo(Jo(e),"deleteSensorToAdd",(function(t){var n=e.state.sensorsToAdd,r=JSON.parse(JSON.stringify(n));r.splice(t,1),e.setState({sensorsToAdd:r})})),Vo(Jo(e),"handleSensorToAddNameChange",(function(t,n){var r=e.state,o=r.floors,a=r.selectedFloor,i=r.sensorsToAdd,l=o.find((function(e){return e.number===a}));i[n].name=t.target.value,e.setState({sensorsToAdd:i.map((function(e,r){var o=r===n?t.target.value:e.name;return ko(ko({},e),{},{name:o,duplicated:l.unplacedSensors.some((function(e){return e.name===o}))||i.filter((function(e){return e.name===o})).length>1})}))})})),Vo(Jo(e),"onEditSubmit",(function(t){var n=e.state,r=n.selectedFloor,o=n.floors,a=JSON.parse(JSON.stringify(o)),i=o.findIndex((function(e){return e.number===r}));a[i].unplacedSensors=t,a[i].historyTimestamps=e.getHistoryRange(a[i]),a[i].chartData=e.getChartData(a[i].unplacedSensors),e.setState({floors:a}),e.toggleEditSensorGroupDialog()})),Vo(Jo(e),"onSubmitCsv",(function(t){var n,r=e.state,o=r.selectedFloor,a=r.floors,i=JSON.parse(JSON.stringify(a)),l=a.findIndex((function(e){return e.number===o}));(n=i[l].unplacedSensors).push.apply(n,zo(t)),t.length>0&&(i[l].historyTimestamps=e.getHistoryRange(i[l]),i[l].chartData=e.getChartData(i[l].unplacedSensors),e.setState({floors:i})),e.toggleCsvParserDialog()})),Vo(Jo(e),"deleteSensor",(function(t){var n=e.state,r=n.selectedFloor,o=n.floors,a=JSON.parse(JSON.stringify(o)),i=a.findIndex((function(e){return e.number===r}));-1!==i&&a[i].unplacedSensors.splice(t,1),a[i].unplacedSensors.length>0?(a[i].historyTimestamps=e.getHistoryRange(a[i]),a[i].chartData=e.getChartData(a[i].unplacedSensors)):(a[i].historyTimestamps=null,a[i].chartData=null),e.setState({floors:a}),e.toggleConfirmDialog()})),Vo(Jo(e),"deleteBuilding",(function(t){var n=e.state,r=n.selectedFloor,o=n.floors,a=JSON.parse(JSON.stringify(o)),i=a.findIndex((function(e){return e.number===r}));-1!==i&&a[i].buildings.splice(t,1)[0].placedSensors.forEach((function(e){var t=a[i].unplacedSensors.findIndex((function(t){return t.placedOnMap===e.placedOnMap}));a[i].unplacedSensors.splice(t,1)}));e.setState({floors:a}),e.toggleConfirmDialog()})),Vo(Jo(e),"enableBuildingNameEdit",(function(t){var n=e.state,r=n.selectedFloor,o=n.floors,a=o.findIndex((function(e){return e.number===r}));e.setState({newBuildingName:o[a].buildings[t].name},(function(){var e=document.getElementById("buildingName-".concat(t));e&&e.focus()}))})),Vo(Jo(e),"submitNewBuildingName",(function(t){var n=e.state,r=n.selectedFloor,o=n.floors,a=n.newBuildingName,i=JSON.parse(JSON.stringify(o)),l=i.findIndex((function(e){return e.number===r}));i[l].buildings[t].name=a,e.setState({floors:i,newBuildingName:""})})),Vo(Jo(e),"toggleEnableHistory",(function(){var t=e.state,n=t.selectedFloor,r=t.floors.find((function(e){return e.number===n})),o=i()(r.historyTimestamps.min).unix();e.setState((function(e){return{historyEnabled:!e.historyEnabled,historySelectedTime:e.historyEnabled?null:o}}))})),Vo(Jo(e),"getHistoryRange",(function(e){var t=e.unplacedSensors?e.unplacedSensors.reduce((function(e,t){return[].concat(zo(e),zo(t.data[0].values.map((function(e){return i()(t.time).add(e.timestamp,"seconds").format()}))))}),[]):[];return t.sort(),{min:t[0],max:t[t.length-1]}})),Vo(Jo(e),"rewriteSensorData",(function(e,t){return e.map((function(e){var n=e.timestamp,r=e.value;return Vo({timestamp:i()(t.time).add(n,"seconds").unix()},t.name,r)}))})),Vo(Jo(e),"filterChartData",(function(e,t){var n=e[t].reduce((function(e,t){return e[t.timestamp]=ko(ko({},e[t.timestamp]),t),e}),{});return Object.values(n)})),Vo(Jo(e),"getChartData",(function(t){return t.reduce((function(t,n){var r=JSON.parse(JSON.stringify(t));return n.data.forEach((function(t){var o,a=t.type;r[a]?(o=r[a]).push.apply(o,zo(e.rewriteSensorData(t.values,n))):r[a]=e.rewriteSensorData(t.values,n)})),r}),{})})),Vo(Jo(e),"getChartDataValues",(function(e){return Object.entries(e).reduce((function(e,t){var n=jo(t,2),r=n[0],o=n[1];return e.push.apply(e,zo("timestamp"!==r?[o]:[])),e}),[])})),Vo(Jo(e),"getSensorGroupNames",(function(e){var t=new Set;return e.forEach((function(e){return Object.keys(e).forEach((function(e){return"timestamp"!==e&&t.add(e)}))})),zo(t)})),Vo(Jo(e),"getFilteredChartDataRange",(function(t,n){var r=e.getChartDataValues(t[n][0]),o=Math.min.apply(Math,zo(r)),a=Math.max.apply(Math,zo(r));return t[n].forEach((function(t){var n=e.getChartDataValues(t),r=Math.min.apply(Math,zo(n)),i=Math.max.apply(Math,zo(n));r<o&&(o=r),i>a&&(a=i)})),{minY:o,maxY:a}})),Vo(Jo(e),"getFilteredChartData",(function(){var t=e.state,n=t.floors,r=t.selectedFloor,o=t.selectedTypes,a=n.find((function(e){return e.number===r}))||{chartData:{}},i=a.chartData?Object.keys(a.chartData):[],l=o.map((function(t){return a.chartData?e.filterChartData(a.chartData,t,o.filter((function(e){return e!==t}))):[]})),c={minX:null,maxX:null,minY1:null,maxY1:null,minY2:null,maxY2:null},s=l.map((function(t){return e.getSensorGroupNames(t)}));if(l&&l[0]&&l[0][0]&&(c.minX=l[0][0].timestamp,c.maxX=l[0][0].timestamp,l.forEach((function(e){e.forEach((function(e){e.timestamp<c.minX&&(c.minX=e.timestamp),e.timestamp>c.maxX&&(c.maxX=e.timestamp)}))}))),l[0]&&l[0].length){var u=e.getFilteredChartDataRange(l,0),d=u.minY,p=u.maxY;c.minY1=d,c.maxY1=p}if(l[1]&&l[1].length){var f=e.getFilteredChartDataRange(l,1),m=f.minY,g=f.maxY;c.minY2=m,c.maxY2=g}return{chartData:l,availableSensorTypes:i,chartDataRange:c,availableGroupNames:s}})),Vo(Jo(e),"setSelectedTypes",(function(t){e.setState({selectedTypes:t})})),Vo(Jo(e),"setSelectedGroups",(function(t){e.setState({excludedSensors:t})})),Vo(Jo(e),"handleSelectChartTypesOpen",(function(){e.setState({selectChartTypesOpen:!0})})),Vo(Jo(e),"handleSelectChartTypesClose",(function(){e.setState({selectChartTypesOpen:!1})})),Vo(Jo(e),"handleSelectChartGroupOpen",(function(){e.setState({selectFilteredGroupOpen:!0})})),Vo(Jo(e),"handleSelectChartGroupClose",(function(){e.setState({selectFilteredGroupOpen:!1})})),Vo(Jo(e),"toggleSensorsGroup",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=e.state,a=o.floors,i=o.selectedFloor,l=JSON.parse(JSON.stringify(a)),c=l.find((function(e){return e.number===i}));if(null!==n){var s=c.buildings[n].placedSensors.find((function(e){return e.name===r}));s.folded=!s.folded;var u=c.unplacedSensors.find((function(e){return e.name===s.name}));u.folded=!u.folded}else c.unplacedSensors[t].folded=!c.unplacedSensors[t].folded;e.setState({floors:l})})),Vo(Jo(e),"renderNoResources",(function(){var t=e.props.classes;return o.a.createElement(h.a,{container:!0,className:c()(t.metersContainer,t.noResourceContainer),alignItems:"center",justify:"center",style:{borderTop:"1px solid ".concat(tt.f)}},o.a.createElement(g.a,{className:t.noResourceText},"No resource was found"))})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.isMobile?this.bindWindowChangeOrientationHandler():this.bindWindowResizeHandler()}},{key:"componentDidUpdate",value:function(){this.hasHorizontalScroll(this.metersContainerRef.current)&&!document.getElementById("arrows-container")&&this.setState((function(e){return{windowResized:!e.windowResized}}))}},{key:"componentWillUnmount",value:function(){this.isMobile?window.removeEventListener("orientationchange",this.windowChangeOrientationHandler):window.removeEventListener("resize",this.windowResizeHandler)}},{key:"setFloorAndBuildings",value:function(e,t){var n=this.state.floors;n.push({number:e,name:Object(qe.c)(e),unplacedSensors:[],buildings:t,historyTimestamps:null,lastPlacedSensorId:0}),this.setState({selectedFloor:e,selectedBuilding:0,floors:n,selectedTypes:[],excludedSensors:[],newBuildingName:""})}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,r=n.historyEnabled,a=n.historySelectedTime,l=n.selectedFloor,c=n.selectedBuilding,s=n.floors,u=n.createDialogOpened,d=n.createAreaDialogOpened,p=n.deleteFloorConfirmOpened,E=n.unplacedMetersContainerVisible,D=n.showCsvParserDialog,I=n.selectedTypes,M=n.sensorsToAdd,T=n.draggedFiles,R=n.newBuildingName,A=n.toggle,k=n.showEditSensorGroupDialog,P=n.sensorGroupIndex,L=n.selectChartTypesOpen,z=n.excludedSensors,B=n.selectFilteredGroupOpen,F=s.find((function(e){return e.number===l})),W=F&&F.unplacedSensors.filter((function(e){return!e.placedOnMap})),Y=F&&F.buildings&&F.buildings[c],H=this.getFilteredChartData(),G=H.chartData,_=H.availableSensorTypes,Z=H.availableGroupNames,J=H.chartDataRange,U=Z.reduce((function(e,t){return e.push.apply(e,zo(t)),zo(new Set(e))}),[]);return o.a.createElement(h.a,{className:t.root,style:{backgroundColor:tt.f}},o.a.createElement(h.a,{container:!0,alignItems:"center",justify:"center"},o.a.createElement(h.a,{container:!0,justify:"space-between",className:t.selectsContainer},o.a.createElement(h.a,{item:!0,container:!0,xs:12,md:2,lg:4,className:t.floorSelectContainer,alignItems:"center"},s.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{item:!0,xs:8},o.a.createElement(b.a,{margin:"dense",classes:{marginDense:t.formControlMarginDense},fullWidth:!0},o.a.createElement(y.a,{margin:"dense",className:"".concat(t.selectRoot," ").concat(t.selectFloors),onChange:this.changeFloor,name:"floorId",value:l,classes:{select:t.select,icon:t.selectIcon,selectMenu:t.selectMenu}},s.map((function(e){return o.a.createElement(v.a,{key:e.number,value:e.number},o.a.createElement(m.a,{className:"floorsAvatar",src:po.a,alt:"floors",style:{height:18,width:18,marginRight:15,display:"none",verticalAlign:"middle"}}),o.a.createElement("span",{style:{display:"inline-block",verticalAlign:"middle",fontSize:12,fontWeight:500}},e.name))}))))),o.a.createElement(h.a,{item:!0,xs:4},o.a.createElement(S.a,{variant:"contained",style:{backgroundColor:"#CD5C5C",left:8},classes:{root:t.createButton,label:t.createLabel},onClick:function(){e.toggleConfirmDialog({deleteTitle:"Delete Current Floor?",deleteFunction:e.deleteFloor})}},o.a.createElement("img",{src:ho.a,alt:"delete current floor",className:t.floorEditIcon}),"Delete floor"))):null,F&&F.buildings&&F.buildings.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{item:!0,xs:8},o.a.createElement(b.a,{margin:"dense",classes:{marginDense:t.formControlMarginDense},fullWidth:!0},o.a.createElement(y.a,{margin:"dense",className:"".concat(t.selectRoot," ").concat(t.selectAreas),onChange:this.changeBuilding,name:"buildingId",value:c,classes:{select:t.select,icon:t.selectIcon,selectMenu:t.selectMenu}},F.buildings.map((function(e,t){return o.a.createElement(v.a,{key:t,value:t},o.a.createElement(h.a,{container:!0,alignItems:"center"},Qo,o.a.createElement("span",{style:{display:"inline-block",verticalAlign:"middle",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:12,fontWeight:500,marginLeft:12}},e.name)))}))))),o.a.createElement(h.a,{item:!0,xs:4},o.a.createElement(S.a,{variant:"contained",style:{backgroundColor:"#CD5C5C",top:8,left:8},classes:{root:t.createButton,label:t.createLabel},onClick:function(){e.toggleConfirmDialog({deleteTitle:"Would you like delete '".concat(Y.name,"' area?"),deleteFunction:function(){e.deleteBuilding(c)}})}},o.a.createElement("img",{src:ho.a,alt:"delete current area",className:t.floorEditIcon}),"Delete area"))):null),o.a.createElement(h.a,{item:!0,container:!0,xs:12,md:4,lg:4,alignItems:"center",justify:"center"},o.a.createElement("div",{style:{paddingLeft:10,paddingRight:10}},o.a.createElement(g.a,{variant:"caption",className:t.pageLabel,align:"center"},"FLOOR MAPS"))),o.a.createElement(h.a,{item:!0,container:!0,xs:12,md:6,lg:4,justify:"flex-end",alignItems:"center"},o.a.createElement(h.a,{container:!0,className:t.createButtonContainer,wrap:"nowrap",height:"100%"},s.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a,{variant:"contained",classes:{root:t.createButton,label:t.createLabel},onClick:this.downloadFile},o.a.createElement(j.a,{className:t.floorEditIcon}),"Export data")):o.a.createElement("label",{htmlFor:"import-button-file",className:t.importButton},o.a.createElement(S.a,{variant:"contained",component:"span",classes:{root:t.createButton,label:t.createLabel}},o.a.createElement(N.a,{className:t.floorEditIcon}),"Import data"),o.a.createElement("input",{accept:"application/json",className:t.input,style:{display:"none"},id:"import-button-file",type:"file",onChange:function(t){t.persist(),e.importData(t.target.files[0])}})),F?o.a.createElement(S.a,{variant:"contained",classes:{root:t.createButton,label:t.createLabel},onClick:this.toggleCreateAreaDialog},o.a.createElement("img",{src:mo.a,alt:"Add new Area",className:t.floorEditIcon}),"Add new Area"):"",o.a.createElement(S.a,{variant:"contained",classes:{root:t.createButton,label:t.createLabel},onClick:this.toggleCreateDialog},o.a.createElement("img",{src:mo.a,alt:"create new floor",className:t.floorEditIcon}),"Create new Floor")))),o.a.createElement(h.a,{container:!0},F?o.a.createElement(h.a,{container:!0,direction:"column"},o.a.createElement(h.a,{container:!0,className:t.manageButtonsContainer},o.a.createElement(h.a,{container:!0,justify:"flex-start",className:t.manageButtonsBlockItem},W&&W.length>0&&E?o.a.createElement(S.a,{variant:"contained",className:t.manageButton,style:{backgroundColor:"#CD5C5C"},onClick:function(){e.toggleConfirmDialog({deleteTitle:"Delete unplaced sensors?",deleteFunction:e.onDeleteUnplacedSensors})}},o.a.createElement("img",{src:ho.a,alt:"delete current floor unplaced sensors",className:t.floorEditIcon}),"Delete Unplaced Sensors"):null,F&&F.unplacedSensors.length?o.a.createElement(S.a,{variant:"contained",className:t.manageButton,onClick:this.toggleUnplacedMetersContainer},E?"HIDE UNPLACED":"SHOW UNPLACED"):"",F.historyTimestamps?o.a.createElement(S.a,{variant:"contained",className:t.manageButton,classes:{disabled:t.buttonDisabled},onClick:this.toggleEnableHistory,style:{marginRight:12}},r?"HIDE HISTORY":"SHOW HISTORY"):null,o.a.createElement(Lr,{open:L,handleOpen:this.handleSelectChartTypesOpen,handleClose:this.handleSelectChartTypesClose,maxSelectedItemsCount:2,title:"CHANGE SENSOR TYPES",items:_,selectedItems:I,setSelectedToState:this.setSelectedTypes}),F.unplacedSensors.length>0&&(I.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(Lr,{open:B,handleOpen:this.handleSelectChartGroupOpen,handleClose:this.handleSelectChartGroupClose,maxSelectedItemsCount:U.length-1,title:"FILTER SENSORS",items:U,selectedItems:z,setSelectedToState:this.setSelectedGroups,reverse:!0}),o.a.createElement(S.a,{variant:"contained",className:t.manageButton,classes:{disabled:t.buttonDisabled},onClick:function(){return e.setSelectedTypes([])}},"HIDE CHART")):o.a.createElement(S.a,{variant:"contained",id:"openSelector",className:t.manageButton,classes:{disabled:t.buttonDisabled},onClick:this.handleSelectChartTypesOpen},"SHOW CHART"))),I.length?o.a.createElement(h.a,{container:!0,style:{marginBottom:80}},o.a.createElement(ao,{getSensorGroupNames:this.getSensorGroupNames,chartData:G,availableGroupNames:Z,sensorTypesToDisplay:I,chartDataRange:J,excludedSensors:z})):null),E?o.a.createElement(o.a.Fragment,null,o.a.createElement(K,{csvParserSubmit:this.csvParserSubmit,toggleCsvParserDialog:this.toggleCsvParserDialog},o.a.createElement(w.a,{rootRef:this.metersContainerRef},W&&W.length?o.a.createElement(h.a,{container:!0,item:!0,className:t.metersContainer,style:{overflow:"hidden",paddingTop:W.length>0?10:8}},F.unplacedSensors.map((function(n,r){F.unplacedSensors[r].color=F.unplacedSensors[r].color?F.unplacedSensors[r].color:"red";var l="".concat(r,"_folder");return n.placedOnMap?null:o.a.createElement("div",{key:l},o.a.createElement(x.a,{title:"delete",placement:"top-start"},o.a.createElement(C.a,{className:t.deleteSensorContainer,onClick:function(){return e.toggleConfirmDialog({deleteTitle:"Would you like delete '".concat(n.name,"' sensor?"),deleteFunction:function(){e.deleteSensor(r)}})}},o.a.createElement("img",{src:ho.a,alt:"delete current sensor",className:t.deleteSensor}))),o.a.createElement(x.a,{title:"edit",placement:"top-start"},o.a.createElement(C.a,{className:t.editSensorContainer,onClick:function(){return e.editGroupSensor(r)}},o.a.createElement("img",{src:yo.a,alt:"edit current sensor",className:t.editSensor}))),o.a.createElement(x.a,{title:"unfold",placement:"top-start"},o.a.createElement(C.a,{className:t.unfoldSensorContainer,onClick:function(){return e.toggleSensorsGroup(r)}},n.folded?Ko:$o)),o.a.createElement("div",{className:t.unplacedMetersFolder,style:{backgroundColor:"rgba(0, 125, 255, 0.5)"}},e.unplacedFolderLabel(n),n.folded?o.a.createElement(f.a,{id:n.name,className:t.rndMeterWrapper,enableResizing:tt.b,minHeight:tt.o.height,position:{x:0,y:0},onDragStop:e.onDragStop(r),onDragStart:e.onDragStart(),style:{position:"relative"}},o.a.createElement("div",{className:t.foldedUnplacedSensors},o.a.createElement("img",{src:e.getMicrobitImage(n.color),alt:"folded sensor",style:{height:"100%",width:"100%"},onDragStart:function(e){e.preventDefault()}}),o.a.createElement("p",{style:{position:"absolute",top:20,fontSize:15,padding:"0 35px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontWeight:"bold",width:"100%",textAlign:"center"}},n.name),o.a.createElement("p",{style:{position:"absolute",top:45,fontSize:15,fontWeight:"bold",width:"100%",textAlign:"center"}},n.data.length," sensors"))):n.data.map((function(l,c){var s="".concat(c,"_column_").concat(r);return o.a.createElement("div",{key:s,className:t.unplacedFolderedMeterWrapper},o.a.createElement(gt,{folderName:e.unplacedFolderLabel(n),meterId:l.name,name:l.name,sensorType:l.type,meterData:l.values,onDragStop:e.onDragStop(r),onDragStart:e.onDragStart(),disableDragging:!F.buildings.length||!E,sensorStartTime:i()(n.time),historyValue:a,periodDuration:F.historyTimestamps?(i()(F.historyTimestamps.max).unix()-i()(F.historyTimestamps.min).unix())/tt.l:0}))}))))})),this.hasHorizontalScroll(this.metersContainerRef.current)&&o.a.createElement("div",{id:"arrows-container"},o.a.createElement(S.a,{className:t.leftArrow,onClick:this.scrollHorizontal("left"),style:{display:this.showArrow("left")}},qo),o.a.createElement(S.a,{className:t.rightArrow,onClick:this.scrollHorizontal("right"),style:{display:this.showArrow("right")}},ea))):this.renderNoResources()))):null,r&&F.historyTimestamps&&o.a.createElement(h.a,{container:!0,alignItems:"center",justify:"center",className:t.historySliderContainer},o.a.createElement(Cn,{minValue:i()(F.historyTimestamps.min).unix(),maxValue:i()(F.historyTimestamps.max).unix(),stepValue:(i()(F.historyTimestamps.max).unix()-i()(F.historyTimestamps.min).unix())/tt.l,updateValue:this.updateHistoryTimeSelection})),o.a.createElement(Mt,{handleDrop:this.handleDropOnFloor},o.a.createElement(h.a,{className:t.mapsWrapper,container:!0,direction:"column",alignItems:"center"},F.buildings&&F.buildings.length&&Y?o.a.createElement(h.a,{container:!0,justify:"center",key:"locationMap"},o.a.createElement(h.a,{container:!0,justify:"center",alignItems:"center",wrap:"nowrap",style:{maxWidth:600,marginLeft:8}},o.a.createElement(O.a,{disabled:!R,type:"text",value:R||Y.name,inputProps:{id:"buildingName-".concat(c),style:{textAlign:"center",fontWeight:R?"normal":"bold",color:"rgba(0, 0, 0, .8)"}},style:{flex:"1"},onChange:function(t){t.target.value&&e.setState({newBuildingName:t.target.value})}}),R?o.a.createElement(C.a,{variant:"contained",className:t.manageButton,onClick:function(){e.submitNewBuildingName(c)}},ta):o.a.createElement(C.a,{variant:"contained",className:t.manageButton,onClick:function(){e.enableBuildingNameEdit(c)}},na)),o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(Yt,{floor:F,map:Y.image,building:Y,buildingIndex:c,getMicrobitImage:this.getMicrobitImage,handleUnfoldButtonClick:this.toggleSensorsGroup,handleDrop:this.handleDrop,createFloorMap:this.toggleCreateDialog,historyValue:a,periodDuration:F.historyTimestamps?(i()(F.historyTimestamps.max).unix()-i()(F.historyTimestamps.min).unix())/tt.l:0,readonly:!E,showAlertOnPlanFileLoadError:this.showAlertOnPlanFileLoadError,onDragSensorStop:this.onDragStop,onDragSensorStart:this.onDragStart}))):o.a.createElement(h.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.noPhotoContainer},ra,oa)))):o.a.createElement(h.a,{container:!0,justify:"center"},o.a.createElement(Mt,{handleDrop:this.handleDrop},o.a.createElement(h.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.noFloor},aa,o.a.createElement(h.a,{container:!0,justify:"space-around",alignItems:"center"},o.a.createElement(h.a,{item:!0,xs:10,sm:5,container:!0,direction:"column",alignItems:"center",className:t.textNoFloor},o.a.createElement("h3",null,"Click ",o.a.createElement("span",{className:t.buttonTitleSpan},"Import Data")," button at the top to import previously created floors",ia,la,"OR",ca,sa,"drag-n-drop exported JSON file here.")),o.a.createElement(h.a,{item:!0,xs:10,sm:5,container:!0,direction:"column",alignItems:"center",className:t.textNoFloor},o.a.createElement("h3",null,"Click ",o.a.createElement("span",{className:t.buttonTitleSpan},"Create New Floor")," button at the top to add a new one",ua,da,"OR",pa,fa,"drag-n-drop floor map images here.")))))))),o.a.createElement(Pe,{isOpened:D,onClose:this.toggleCsvParserDialog,title:"Add new sensors",onSubmit:this.onSubmitCsv,sensorsToAdd:M,csvParserSubmit:this.csvParserSubmit,deleteSensorToAdd:this.deleteSensorToAdd,handleColorChange:this.handleSensorColorSubmit,handleSensorsToAddStartTimeChange:this.handleSensorsToAddStartTimeChange,handleSensorToAddNameChange:this.handleSensorToAddNameChange}),o.a.createElement(or,{title:"Add new area to the floor",isOpened:d,onClose:this.toggleCreateAreaDialog,onSubmit:this.areaCreateSubmit}),o.a.createElement(Hn,{files:T,title:"Add new floor with map",isOpened:u,onClose:this.toggleCreateDialog,onSubmit:this.floorCreateSubmit,existingFloors:this.getExistingFloors()}),o.a.createElement(Sr,{title:"Edit Sensor Group",isOpened:k,onClose:this.toggleEditSensorGroupDialog,sensorGroupIndex:P,sensors:F&&F.unplacedSensors,onSubmit:this.onEditSubmit}),o.a.createElement(ar.a,{title:A.deleteTitle,isOpened:p,onSubmit:A.deleteFunction,onClose:function(){e.toggleConfirmDialog()}}))}}])&&Ho(t.prototype,n),r&&Ho(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.PureComponent);t.default=Object(u.d)(Object(s.c)(null,(function(e){return{actions:Object(u.b)(ko({},B),e)}})),Object(E.a)((function(e){var t;return{root:{flexGrow:1,fontFamily:"Roboto-Medium",height:"auto",overflow:"hidden"},createButtonContainer:Vo({justifyContent:"flex-end",alignItems:"flex-end"},e.breakpoints.down("sm"),{justifyContent:"center"}),importButton:Vo({width:"auto",borderRadius:40},e.breakpoints.down("sm"),{width:"100%",borderRadius:0}),createButton:Vo({width:"auto",borderRadius:40,backgroundColor:tt.v,padding:"8px 20px 8px 10px",height:42,lineHeight:"normal","&:not(:last-child)":{marginRight:16},"&:hover":{backgroundColor:tt.v}},e.breakpoints.down("sm"),{width:"100%",borderRadius:0,"&:not(:last-child)":{marginRight:0}}),createLabel:{color:tt.i,fontSize:12,lineHeight:"normal"},selectsContainer:Vo({backgroundColor:tt.f,padding:"16px"},e.breakpoints.down("sm"),{padding:"4px 0 0 0"}),floorSelectContainer:Vo({},e.breakpoints.up("md"),{paddingLeft:16}),selectRoot:Vo({fontSize:14,borderRadius:35,padding:"4px 12px 4px 18px",backgroundColor:tt.f,"&::before":{borderBottomWidth:0},"&:hover::before":{borderBottomWidth:"0 !important"},"&::after":{borderBottomWidth:"0 !important"}},e.breakpoints.down("sm"),{borderRadius:0}),choiceAvatar:{height:28,width:28,fontSize:18},selectFloors:Vo({padding:"10px 12px 8px 18px",borderRadius:25},e.breakpoints.down("sm"),{borderRadius:0}),selectAreas:Vo({top:10,padding:"10px 12px 8px 18px",borderRadius:25},e.breakpoints.down("sm"),{borderRadius:0}),select:{color:tt.i,paddingBottom:3},selectIcon:{color:tt.i,right:12},selectMenu:{"& .floorsAvatar":{display:"inline-block !important"},"& .areaAvatar":{display:"inline-block !important",borderRadius:0}},pageLabel:{fontSize:16,fontWeight:"bold",color:"#fff",lineHeight:2},formControlMarginDense:Vo({marginBottom:0,marginTop:0},e.breakpoints.down("sm"),{marginBottom:4}),floorEditIcon:{marginRight:10,height:18,width:25},noFloor:{color:"#2b2b2b",height:"80vh",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'},textNoFloor:{textAlign:"center"},metersContainer:{flexWrap:"nowrap",backgroundColor:tt.f,padding:"27px 16px 8px 16px",height:"auto"},noResourceContainer:{padding:"0px 32px"},unplacedFolderedMeterWrapper:{margin:"2px 5px 0px",height:tt.o.height,width:tt.o.width,position:"relative",flex:"0 0 ".concat(tt.o.width,"px")},leftArrow:{fontSize:32,backgroundColor:tt.e,fontWeight:700,display:"inline-flex",justifyContent:"center",alignItems:"center",width:40,height:120,position:"absolute",left:0,zIndex:100},rightArrow:{fontSize:32,backgroundColor:tt.e,fontWeight:900,display:"inline-flex",justifyContent:"center",alignItems:"center",width:40,height:120,position:"absolute",right:0,zIndex:100},deleteSensorContainer:{width:11,height:11,backgroundColor:"#CD5C5C",zIndex:10,margin:"0px 0px 2px 2px"},deleteSensor:{width:11,height:11},editSensorContainer:{width:11,height:11,backgroundColor:"#eba117",zIndex:10,margin:"0px 0px 2px 2px"},unfoldSensorContainer:{width:11,height:11,backgroundColor:"#93FFD8",zIndex:10,margin:"0px 0px 2px 2px",transform:"rotate(90deg)"},editSensor:{width:11,height:11},unplacedFolderLabel:{position:"absolute",left:0,top:0,lineHeight:"normal",transform:"translateY(-100%)",color:"rgb(255, 255, 255)",fontWeight:600,fontFamily:"Roboto-Medium",padding:"8px 3px 2px 55px",height:27,borderTopLeftRadius:10,borderTopRightRadius:10,width:"100%",textAlign:"center",fontSize:10,textTransform:"uppercase",borderBottom:"1px groove rgba(255, 255, 255, 0.3)"},unplacedMetersFolder:{position:"relative",display:"flex",flexWrap:"nowrap",flex:"0 0 auto",marginRight:10,borderBottomLeftRadius:10,borderBottomRightRadius:10},noResourceText:(t={color:tt.i,textAlign:"center",padding:"12px 0px",fontSize:24},Vo(t,e.breakpoints.down("sm"),{fontSize:24}),Vo(t,e.breakpoints.down("xs"),{padding:0}),t),historySliderContainer:{backgroundColor:tt.h,padding:"10px 30px 16px 30px"},manageButton:{height:36,padding:"4px 8px 2px",margin:8,borderRadius:10,backgroundColor:tt.v,color:tt.i,fontSize:12,lineHeight:"normal","&:hover":{backgroundColor:tt.v}},manageButtonsBlockItem:Vo({},e.breakpoints.up("lg"),{flexWrap:"nowrap"}),manageButtonsContainer:Vo({borderBottom:"1px solid rgba(0, 0, 0, .2)",padding:"8px 16px 25px",backgroundColor:tt.f,position:"relative"},e.breakpoints.down("sm"),{paddingLeft:8,paddingRight:8}),mapsWrapper:{marginRight:16,marginBottom:20},noPhotoContainer:{height:"75vh"},buttonTitleSpan:{backgroundColor:tt.v,color:"white",borderRadius:9,padding:"3px 6px 3px 6px",fontSize:20,fontWeight:500},foldedUnplacedSensors:{height:tt.o.height,width:180,alignItems:"center",justifyContent:"center",position:"relative"},rndMeterWrapper:{height:tt.o.height,width:180,display:"inline-flex !important",flexDirection:"column",alignItems:"center",borderColor:"rgb(192, 192, 192)",padding:"0px 5px"}}})))(ma)},NHF4:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iU3ZnanNTdmcxMDAxIiB3aWR0aD0iMjg4IiBoZWlnaHQ9IjI4OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpzdmdqcz0iaHR0cDovL3N2Z2pzLmNvbS9zdmdqcyI+PGRlZnMgaWQ9IlN2Z2pzRGVmczEwMDIiPjwvZGVmcz48ZyBpZD0iU3ZnanNHMTAwOCIgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSwwLDApIj48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI4OCIgaGVpZ2h0PSIyODgiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUyOC44OTkgNTI4Ljg5OSIgdmlld0JveD0iMCAwIDUyOC44OTkgNTI4Ljg5OSI+PHBhdGggZD0iTTMyOC44ODMsODkuMTI1bDEwNy41OSwxMDcuNTg5bC0yNzIuMzQsMjcyLjM0TDU2LjYwNCwzNjEuNDY1TDMyOC44ODMsODkuMTI1eiBNNTE4LjExMyw2My4xNzdsLTQ3Ljk4MS00Ny45ODEKCQljLTE4LjU0My0xOC41NDMtNDguNjUzLTE4LjU0My02Ny4yNTksMGwtNDUuOTYxLDQ1Ljk2MWwxMDcuNTksMTA3LjU5bDUzLjYxMS01My42MTEKCQlDNTMyLjQ5NSwxMDAuNzUzLDUzMi40OTUsNzcuNTU5LDUxOC4xMTMsNjMuMTc3eiBNMC4zLDUxMi42OWMtMS45NTgsOC44MTIsNS45OTgsMTYuNzA4LDE0LjgxMSwxNC41NjVsMTE5Ljg5MS0yOS4wNjkKCQlMMjcuNDczLDM5MC41OTdMMC4zLDUxMi42OXoiIGZpbGw9IiNmZmZmZmYiIGNsYXNzPSJjb2xvcjAwMCBzdmdTaGFwZSI+PC9wYXRoPjwvc3ZnPjwvZz48L3N2Zz4="},O5I3:function(e,t,n){e.exports=n.p+"microbit-drawing-red.png"},SN3g:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxOCI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogI2ZmZjsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9ImRlbGV0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAwKSI+CiAgICA8ZyBpZD0iR3JvdXBfOTcxIiBkYXRhLW5hbWU9Ikdyb3VwIDk3MSI+CiAgICAgIDxwYXRoIGlkPSJQYXRoXzQ5MCIgZGF0YS1uYW1lPSJQYXRoIDQ5MCIgY2xhc3M9ImNscy0xIiBkPSJNNDIuNCwyLjU5SDM4LjY1OFYxLjk4QTEuOTgyLDEuOTgyLDAsMCwwLDM2LjY3OSwwSDMzLjEyMWExLjk4MiwxLjk4MiwwLDAsMC0xLjk3OSwxLjk4VjIuNTlIMjcuNGEuNS41LDAsMCwwLDAsMWguOVYxNS4zMjhBMi42NzUsMi42NzUsMCwwLDAsMzAuOTcyLDE4aDcuODU2YTIuNjc1LDIuNjc1LDAsMCwwLDIuNjctMi42NzJWMy41OWguOWEuNS41LDAsMCwwLDAtMVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNi45KSIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg=="},UYLu:function(e,t,n){e.exports=n.p+"microbit-logo-red.png"},VPOL:function(e,t,n){e.exports=n.p+"microbit-logo-yellow.png"},X489:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAxOCI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogI2ZmZjsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGcgaWQ9Im1pY3JvYml0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC4yMSAtMS42ODQpIj4KICAgIDxnIGlkPSJnMTMyNTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMjExIDEuNjg1KSI+CiAgICAgIDxwYXRoIGlkPSJwYXRoMTMyNjIiIGNsYXNzPSJjbHMtMSIgZD0iTTIyLjgxMSwxMi42MzRhMS44MTIsMS44MTIsMCwwLDAsMS44MjUtMS44MjUsMS44NTgsMS44NTgsMCwwLDAtMS44MjUtMS44MjUsMS44MTIsMS44MTIsMCwwLDAtMS44MjUsMS44MjUsMS44NTgsMS44NTgsMCwwLDAsMS44MjUsMS44MjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjE2NCAtMS44MDkpIi8+CiAgICAgIDxwYXRoIGlkPSJwYXRoMTMyNzAiIGNsYXNzPSJjbHMtMSIgZD0iTTkuMzM1LDguOTg0QTEuODEyLDEuODEyLDAsMCwwLDcuNTEsMTAuODA5LDEuODI1LDEuODI1LDAsMSwwLDkuMzM1LDguOTg0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC4xOTQgLTEuODA5KSIvPgogICAgICA8cGF0aCBpZD0icGF0aDEzMjc4IiBjbGFzcz0iY2xzLTEiIGQ9Ik05LjM1Myw1LjI4NWE1LjQsNS40LDAsMSwwLDAsMTAuOEgyMy4wNjhhNS40LDUuNCwwLDEsMCwwLTEwLjhIOS4zNTNtMTMuNzE0LDE0LjRIOS4zNTNhOS4wNTQsOS4wNTQsMCwwLDEtOS4xNDMtOSw5LjA1NCw5LjA1NCwwLDAsMSw5LjE0My05SDIzLjA2OGE5LjA1NCw5LjA1NCwwLDAsMSw5LjE0Myw5LDkuMSw5LjEsMCwwLDEtOS4xNDMsOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuMjExIC0xLjY4NSkiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="},ZIcu:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMjR2MjRIMFYweiIvPjwvc3ZnPg=="},aavD:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAxOCI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSwgLmNscy0yIHsKICAgICAgICBmaWxsOiAjZmZmOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIG9wYWNpdHk6IDAuMzk3OwogICAgICB9CiAgICA8L3N0eWxlPgogIDwvZGVmcz4KICA8ZyBpZD0ibmV3X2Zsb29yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTI2OS44NjQgLTk5Ljc0OCkiPgogICAgPHBhdGggaWQ9IkV4Y2x1c2lvbl8xIiBkYXRhLW5hbWU9IkV4Y2x1c2lvbiAxIiBjbGFzcz0iY2xzLTEiIGQ9Ik0xMiwxMS41ODN2MEwwLDUuNzkxLDEyLDAsMjQsNS43OTEsMTIsMTEuNThaTTguNTQ0LDQuNzY4YTEuMDE3LDEuMDE3LDAsMSwwLDAsMi4wMzNoMi4zMjdWOS4wNDVhMS4wMzEsMS4wMzEsMCwwLDAsMS4wNTIsMS4wMDUsMS4wNDIsMS4wNDIsMCwwLDAsMS4wNTItMS4wMDVWNi44SDE1LjNhMS4wMTcsMS4wMTcsMCwxLDAsMC0yLjAzM0gxMi45NzVWMi41MjNhMS4wNDEsMS4wNDEsMCwwLDAtMS4wNTItMSwxLjAyOSwxLjAyOSwwLDAsMC0xLjA1MiwxVjQuNzY4WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTI2OS44NjQgOTkuNzQ4KSIvPgogICAgPHBhdGggaWQ9ImxheWVycyIgY2xhc3M9ImNscy0yIiBkPSJNMTIsMjAuNzM2LDMuMzQ1LDE2LjI4OCwwLDE4LjAwOGwxMiw2LjE2NywxMi02LjE2Ny0zLjM0NS0xLjcxOVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyNjkuODY2IDkzLjU3NCkiLz4KICA8L2c+Cjwvc3ZnPgo="},baDH:function(e,t,n){e.exports=n.p+"microbit-drawing-green.png"},nJDx:function(e,t,n){e.exports=n.p+"microbit-drawing-blue.png"},p2DJ:function(e,t,n){e.exports=n.p+"microbit-drawing-yellow.png"},pN6P:function(e,t,n){e.exports=n.p+"foldIn.png"}}]);