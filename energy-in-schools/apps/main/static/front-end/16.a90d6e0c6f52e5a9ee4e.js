(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{beXw:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),a=n.n(o),r=n("/MKj"),i=n("ANjH"),c=n("RcoH"),l=(n("17x9"),n("tRbT")),s=n("H2TA"),u=n("LvDl"),d=n("mjhd"),p=Object(s.a)({root:{backgroundSize:"100% auto",backgroundPosition:"right top",padding:"0 25px"},characterRoot:{display:"block"},moodContainer:{padding:"20px 0 0 0"},singlePerson:{display:"block"},personName:{display:"block",position:"relative",left:85},person:{top:20,zIndex:100,height:200,left:80},descriptionContainer:{width:285,backgroundSize:"100%",position:"relative",padding:35,textAlign:"center",top:-30},title:{fontSize:23},noTitle:{fontSize:41},description:{fontSize:35},withoutCharacterContainer:{display:"block"},noNameImage:{top:0,left:65,marginBottom:202}})(d.a),b=n("iMV0"),h=Object(s.a)({root:{backgroundSize:"100%",height:"100%"},picture:{height:"200px"},title:{fontSize:25}})(b.a),f=n("rw1T"),g=n("sGJt"),y=n.n(g),m=n("SSU3"),v=n.n(m),w={root:{backgroundImage:"url(".concat(y.a,")"),backgroundRepeat:"no-repeat",paddingTop:20,display:"block",width:"100%",margin:0},energyBlock:{display:"inline-block",width:"32%"},intensity:{display:"inline-block",width:"32%",textAlign:"center",position:"relative",paddingTop:90},textBlock:{backgroundImage:"url(".concat(v.a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"100% 100%",marginTop:15,display:"block",minHeight:150,padding:"40px 0"},carbonIntensityHeading:{fontSize:28,color:"rgb(0, 188, 212)",marginTop:135},carbonIntensityText:{fontSize:25,color:"rgb(255, 187, 60)",width:300,textAlign:"center",margin:"0 auto"},dirtyEnergyImg:{maxWidth:300},clearEnergyImg:{maxWidth:300},energyHeading:{marginTop:10}},k=Object(s.a)(w)(f.a),O=n("vAg0"),j=n("GVjk"),I={root:{backgroundColor:"rgb(249, 188, 60)",backgroundImage:"url(".concat(n.n(j).a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",height:"100%"},carbonIntensityHeading:{fontSize:25},carbonIntensityValue:{fontSize:30},flowerImg:{maxWidth:80,top:-60}},S=Object(s.a)(I)(O.a),P=n("RJa4"),x=Object(s.a)({cashbackGoal:{position:"absolute",top:-10}})(P.a),E=n("pGD6"),C=Object(s.a)({root:{height:"100%",position:"relative",display:"block",paddingTop:50},imgBlock:{padding:"0 20px 30px 30px",width:"40%",float:"left",position:"relative",top:-20},textBlock:{width:"57%",float:"right",height:"auto"},goalLabel:{fontSize:30},goalBlock:{fontSize:30}})(E.a),z=n("jW2N"),D=Object(s.a)({root:{backgroundPositionX:"left",backgroundPositionY:-75,backgroundSize:"100%"},gasBlock:{bottom:"15%"},liveConsumptionValue:{fontSize:48}})(z.a),T=n("0h+V"),A=Object(s.a)({root:{height:"100%",backgroundColor:"rgb(62, 188, 212)"},headline:{fontSize:25}})(T.a),H=n("i6Er"),B=Object(s.a)({root:{backgroundSize:"110%, 100%",backgroundPosition:"center -160px, center",position:"relative",display:"block"},factsHeader:{color:"rgb(243, 143, 49)"},thinkImg:{left:10,width:"14%",display:"block",top:335,bottom:"auto"},headerImage:{float:"left"},factsList:{width:"65%"}})(H.a),R=n("0RI9"),_=n("aclY"),N=Object(s.a)({root:{width:"100%"},weatherContainer:{width:"50%"},newsContainer:{minHeight:600,width:"50%",float:"right"},blockHeadline:{padding:"5px 0"},headerImage:{height:30}})(_.a),G=n("MmAP"),L=Object(s.a)({withWeatherData:{backgroundColor:"rgb(249, 188, 60)",backgroundPosition:"center",backgroundSize:"100% 100%"},headline:{fontSize:25},temp:{fontSize:30},iconContainer:{display:"block",position:"relative",top:30,textAlign:"center"},noWeatherData:{height:"100%"},icon:{fontSize:90}})(G.a),M=n("Gj2X"),W=n("0nQm"),F=n("yu+7"),K=n("qtoO"),V=n("OEMT"),J=n("Jb/i"),U=n("K0eG"),X=n("boEu"),q=n("+zPu"),Y=n("ofer"),Q={root:{position:"relative",height:"100%",minHeight:600},rootBlur:{backgroundColor:"rgba(255, 255, 255, 0.70)",minHeight:600,position:"absolute",width:"100%"},textBlur:{fontFamily:n("TQzm").c.primary,fontSize:35,fontWeight:"bold",position:"relative",color:"rgb(255, 255, 255)",textShadow:"1px 1px 1px rgb(38, 153, 251)",padding:"15% 0",textAlign:"center"}},Z=Object(s.a)(Q)((function(e){var t=e.classes,n=e.backgroundImg;return a.a.createElement(l.a,{className:t.root,style:{backgroundImage:"url(".concat(n,")"),backgroundRepeat:"no-repeat",backgroundSize:"inherit",backgroundPositionX:"center",backgroundPositionY:"top"}},a.a.createElement(l.a,{className:t.rootBlur}),a.a.createElement(Y.a,{className:t.textBlur},"Oops, no data"))})),$=n("id8L"),ee=n.n($),te=n("zA24"),ne=n.n(te),oe=n("blu0"),ae=n.n(oe),re=n("yeri"),ie=n.n(re),ce=n("uNdO"),le=n.n(ce),se=n("8l3h"),ue=n.n(se),de=n("6pEk"),pe=n.n(de),be=n("gaRl"),he=n.n(be),fe=n("esP2"),ge=n.n(fe),ye=n("gw3P"),me=n.n(ye),ve=n("6Gp6");function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var je=[{refreshInterval:ve.c,action:function(e,t){t(Object(X.a)(ve.d.energyDashboardLegacyV1))}}],Ie=function(){function e(t,n,o,a,r,i,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mainComponent=t,this.previewComponent=n,this.slideKeys=o,this.invokeActions=a,this.refreshInterval=r,this.mainLoadingFailedImage=i,this.previewLoadingFailedImage=c}var t,n,o;return t=e,o=[{key:"_renderComponent",value:function(e,t,n,o){return Object(u.isEqual)(t,Object(u.omitBy)(t,u.isNull))?a.a.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),null):n.status?a.a.createElement(q.a,{},null):a.a.createElement(Z,{backgroundImg:o},null)}}],(n=[{key:"renderMain",value:function(t,n,o){return e._renderComponent(this.mainComponent,t,n,o)}},{key:"renderPreview",value:function(t,n,o){return e._renderComponent(this.previewComponent,t,n,o)}}])&&Oe(t.prototype,n),o&&Oe(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Se=[new Ie(p,h,[ve.b.cartoonCharacter],(function(e,t){t(Object(K.a)(e.schoolId))}),6e5,ee.a,ne.a),new Ie(k,S,[ve.b.carbonIntensity],(function(e,t){t(Object(F.a)())}),18e5,y.a,me.a),new Ie(x,C,[ve.b.cashBack],(function(e,t){t(Object(W.a)(e.schoolId))}),36e5,ae.a,ie.a),new Ie(D,A,[ve.b.electricityLiveConsumption,ve.b.gasLiveConsumption],(function(e,t){t(Object(J.a)(U.k,e.schoolId)),t(Object(J.b)(U.p,e.schoolId))}),6e4,le.a,ue.a),new Ie(B,R.a,[ve.b.energyFacts],(function(e,t){t(Object(M.a)(e.schoolId))}),864e5,pe.a,he.a),new Ie(N,L,[ve.b.weather,ve.b.news],(function(e,t){t(Object(V.a)(e.schoolId)),t(Object(V.c)(e.schoolId)),t(Object(V.b)())}),36e5,ge.a,me.a)],Pe=n("G/D/"),xe=n("47xD"),Ee=n("CeR/"),Ce=n("dHhH");function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Be(e);if(t){var a=Be(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return He(this,n)}}function He(e,t){if(t&&("object"===ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Te(e,t)}(i,e);var t,n,o,r=Ae(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e)).activeIntervalsIds=[],t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.match,o=t.dispatch,a=n.params.schoolId;Ce.a.accessToken?this.callDashboardActions(a):Object(Pe.obtainDashboardToken)(a).then((function(){e.callDashboardActions(a)}),(function(e){o(xe.showAlert.bind("There is no school with that UID",Object(Ee.a)(e))),console.log(e)}))}},{key:"shouldComponentUpdate",value:function(e){var t=this.props.energyDashboardData;return e.energyDashboardData.loadingEnds.status!==t.loadingEnds.status}},{key:"componentWillUnmount",value:function(){this.activeIntervalsIds.forEach((function(e){return clearInterval(e)})),this.activeIntervalsIds.length=0}},{key:"callDashboardActions",value:function(e){var t=this,n=this.props.dispatch;je.forEach((function(o){var a=o.action,r=o.refreshInterval;a({schoolId:e},n),r&&t.activeIntervalsIds.push(setInterval((function(){a({schoolId:e},n)}),r))})),Se.forEach((function(o){o.invokeActions({schoolId:e},n),t.activeIntervalsIds.push(setInterval((function(){o.invokeActions({schoolId:e},n)}),o.refreshInterval))}))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.energyDashboardData;return a.a.createElement(l.a,{className:t.root,onKeyDown:this.keyPressHandler,tabIndex:"0"},a.a.createElement(l.a,{className:t.mainSlider},a.a.createElement(c.a,{autoplay:!0,autoplayInterval:11e3,withoutControls:!0,wrapAround:!0,slidesToScroll:1,pauseOnHover:!1,transitionMode:"fade",initialSlideHeight:1,speed:500,swiping:!1},Se.map((function(e,o){return a.a.createElement(l.a,{className:t.slideGrid,key:"slide_main_".concat(o)}," ",e.renderMain(Object(ve.t)(n,e.slideKeys),n.loadingEnds,e.mainLoadingFailedImage))})))),a.a.createElement(l.a,{className:t.previewSlider},a.a.createElement(c.a,{autoplay:!0,autoplayInterval:8e3,slidesToShow:3,slidesToScroll:1,withoutControls:!0,wrapAround:!0,pauseOnHover:!1,initialSlideHeight:1,swiping:!1},Se.map((function(e,o){return a.a.createElement(l.a,{className:t.slideGrid,key:"slide_preview_".concat(o)}," ",e.renderPreview(Object(ve.t)(n,e.slideKeys),n.loadingEnds,e.previewLoadingFailedImage))})))))}}])&&De(t.prototype,n),o&&De(t,o),Object.defineProperty(t,"prototype",{writable:!1}),i}(a.a.Component);t.default=Object(i.d)(Object(s.a)({root:{marginTop:0,marginBottom:0,paddingBottom:"0px",height:"100%",width:"100%",display:"block","& .slider, .slider-slide, .slider-list":{height:"100% !important"}},mainSlider:{position:"absolute",height:"70%",top:0,width:"100%",display:"block",overflow:"hidden"},previewSlider:{position:"absolute",height:"30%",bottom:0,width:"100%",display:"block",overflow:"hidden"},slideGrid:{height:"100%"}}),Object(r.c)((function(e){return{energyDashboardData:e.energyDashboard}}),null))(Re)},esP2:function(e,t,n){e.exports=n.p+"no_weather_500.png"}}]);