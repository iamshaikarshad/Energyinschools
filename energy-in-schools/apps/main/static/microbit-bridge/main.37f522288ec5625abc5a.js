!function(e){function t(t){for(var r,i,c=t[0],s=t[1],u=t[2],f=0,p=[];f<c.length;f++)i=c[f],a[i]&&p.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/static/microbit-bridge/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;o.push([213,1]),n()}({193:function(e,t,n){e.exports=n.p+"microbit_smile.png"},194:function(e,t,n){e.exports=n.p+"microbit_poker.png"},196:function(e,t,n){e.exports=n.p+"connection.gif"},197:function(e,t,n){e.exports=n.p+"flash.gif"},198:function(e,t,n){e.exports=n.p+"flashing.gif"},199:function(e,t,n){e.exports=n.p+"afterFlash.gif"},200:function(e,t,n){e.exports=n.p+"smileFace.gif"},213:function(e,t,n){n(214),e.exports=n(458)},457:function(e,t,n){},458:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(18),i=n(53),c=n(26),s=n.n(c),u=n(191),l="https://energyinschools.co.uk/api/v1";function f(e){var t="["+(new Date).toISOString().slice(11,-5)+"] "+e,n=new CustomEvent("terminalMsg",{detail:{terminalMsg:t}});window.dispatchEvent(n)}function p(e){var t="["+(new Date).toISOString().slice(11,-5)+"] "+e,n=new CustomEvent("historyMsg",{detail:{historyMsg:t}});window.dispatchEvent(n)}var d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},h=function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function c(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}s((r=r.apply(e,t||[])).next())})},g=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},b=function(){function e(){var t=this;this.axiosInterceptors={auth:null},s.a.defaults.baseURL=l,s.a.defaults.headers.post["Content-Type"]="application/json",s.a.interceptors.response.use(u.identity,function(n){return h(t,void 0,void 0,function(){return g(this,function(t){return n.response.status===e.NOT_FOUND?(f("request failed: "+n.response.statusText),[2,Promise.reject(n)]):[2,s()(d(d({},n.config),{url:n.config.url.replace(s.a.defaults.baseURL,""),isRetryRequest:!0}))]})})})}return e.ACCESS_TOKEN_PARAM="access",e.NOT_FOUND=404,e}(),E=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function c(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}s((r=r.apply(e,t||[])).next())})},m=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},y=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t.prototype.getWebHubs=function(){return v(this,void 0,void 0,function(){var e;return m(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,s.a.get("/hubs/")];case 1:return[2,t.sent().data.filter(function(e){return"browser"===e.type})];case 2:throw e=t.sent(),new Error(JSON.stringify(e.response.data));case 3:return[2]}})})},t.prototype.getHubFirmware=function(e,t){return v(this,void 0,void 0,function(){var n,r;return m(this,function(a){switch(a.label){case 0:n=["9900","9901"].includes(null===t||void 0===t?void 0:t.slice(0,4))?"v1":"v2",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,s.a.get("/hubs/microbit-firmware/",{params:"-1"!==e?{uid:e}:{microbit_version:n},responseType:"arraybuffer",headers:{Authorization:void 0}})];case 2:return[2,a.sent().data];case 3:throw r=a.sent(),new Error(JSON.stringify(r.response.data));case 4:return[2]}})})},t}(b)),S=n(27),T=n(105),_=n(136),w=T.getLogger("webhub");_.reg(T),_.apply(w),w.setLevel(T.levels.DEBUG);var R,P,C,k,O=w;!function(e){e[e.SUBTYPE_STRING=1]="SUBTYPE_STRING",e[e.SUBTYPE_INT=2]="SUBTYPE_INT",e[e.SUBTYPE_FLOAT=4]="SUBTYPE_FLOAT",e[e.SUBTYPE_EVENT=8]="SUBTYPE_EVENT"}(R||(R={})),function(e){e[e.REQUEST_TYPE_GET_REQUEST=1]="REQUEST_TYPE_GET_REQUEST",e[e.REQUEST_TYPE_POST_REQUEST=2]="REQUEST_TYPE_POST_REQUEST",e[e.REQUEST_TYPE_CLOUD_VARIABLE=4]="REQUEST_TYPE_CLOUD_VARIABLE",e[e.REQUEST_TYPE_BROADCAST=8]="REQUEST_TYPE_BROADCAST",e[e.REQUEST_TYPE_HELLO=16]="REQUEST_TYPE_HELLO"}(P||(P={})),function(e){e[e.REQUEST_STATUS_ACK=32]="REQUEST_STATUS_ACK",e[e.REQUEST_STATUS_ERROR=64]="REQUEST_STATUS_ERROR",e[e.REQUEST_STATUS_OK=128]="REQUEST_STATUS_OK"}(C||(C={})),function(e){e[e.SLIP_END=192]="SLIP_END",e[e.SLIP_ESC=219]="SLIP_ESC",e[e.SLIP_ESC_END=220]="SLIP_ESC_END",e[e.SLIP_ESC_ESC=221]="SLIP_ESC_ESC"}(k||(k={}));var x=function(){function e(e,t,n,r,a){this.app_id=e,this.namespace_id=t,this.uid=n,this.request_type=r,this.payload=[],null!=a&&this.decode(a)}return e.prototype.getAppID=function(){return this.app_id},e.prototype.getNamespaceID=function(){return this.namespace_id},e.prototype.getUID=function(){return this.uid},e.prototype.getReqRes=function(){return this.request_type},e.prototype.getHeader=function(){return S.pack("<BBHB",[this.app_id,this.namespace_id,this.uid,this.request_type])},e.prototype.getPayload=function(){return this.payload},e.prototype.getFormattedPayloadParts=function(){var e=[];function t(e){return Number(e)===e&&e%1==0}function n(e){return Number(e)===e&&e%1!=0}for(var r=0;r<this.payload.length;r++){var a=this.payload[r];switch(typeof a){case"number":t(a)?e.push(S.pack("<Bi",[R.SUBTYPE_INT,a])):n(a)&&e.push(S.pack("<Bf",[R.SUBTYPE_FLOAT,a]));break;case"string":e.push(S.pack("<B"+(a.length+1)+"s",[R.SUBTYPE_STRING,a+"\0"]));break;default:O.warn("FOUND UNIMPLEMENTED SUBTYPE WHILE ENCODING PACKET "+typeof a+" ("+a+")")}}return e},e.prototype.getFormattedPacket=function(){var e=new Uint8Array(this.length());e.set(this.getHeader());var t=this.getHeader().length;this.getFormattedPayloadParts().forEach(function(n){e.set(n,t),t+=n.length});var n=Array.from(e),r=63-n.length;return n=(n=n.concat(new Array(r).fill(0)).slice(0,61)).concat(k.SLIP_END)},e.prototype.length=function(){var e=0;return e+=this.getHeader().length,this.getFormattedPayloadParts().forEach(function(t){e+=t.length}),e},e.prototype.setRequestBit=function(e){this.request_type|=e},e.prototype.clearRequestBit=function(e){this.request_type&=~e},e.prototype.clearAndError=function(e){return this.setRequestBit(C.REQUEST_STATUS_OK),this.clear(),this.append(0),this},e.prototype.append=function(e){this.payload.push(e)},e.prototype.remove=function(e){this.payload=this.payload.slice(0,e).concat(this.payload.slice(e+1))},e.prototype.get=function(e){return this.payload[e]},e.prototype.clear=function(){this.payload=[]},e.prototype.decode=function(e){var t,n;if(0!=e.length){var r,a=0,o=S.unpack("b",e,0),i=e.slice(1);if(o&R.SUBTYPE_STRING){for(var c in r="",i){if("\0"==String.fromCharCode(i[c]))break;r+=String.fromCharCode(i[c])}a=r.length+1}else o&R.SUBTYPE_INT?(r=null===(t=null===S||void 0===S?void 0:S.unpack("<i",i))||void 0===t?void 0:t[0],a=4):o&R.SUBTYPE_FLOAT&&(r=null===(n=null===S||void 0===S?void 0:S.unpack("<f",i))||void 0===n?void 0:n[0],a=4);this.payload.push(r),this.decode(i.slice(a))}},e.dataToSerialPacket=function(t){for(var n,r,a=[],o=0;o<t.length-1;o++)a.push(t.charCodeAt(o));return r=S.unpack("<BBHB",a.slice(0,5)),n=a.slice(5),new e(r[0],r[1],r[2],r[3],n)},e}(),U=n(84);var D=function(){return(D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},I=function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function c(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}s((r=r.apply(e,t||[])).next())})},N=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},A={0:"city",1:"postcode"},L=function(){function e(e){this.translations=e.translations.json,this.hub_variables=e}return e.prototype.handleRequest=function(e){return I(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.request_type!==P.REQUEST_TYPE_HELLO?[3,2]:(function(){var e=new Event("helloPackageReceived");window.dispatchEvent(e)}(),[4,this.handleHelloPacket(e)]);case 1:return[2,t.sent()];case 2:return e.getReqRes()&(P.REQUEST_TYPE_GET_REQUEST|P.REQUEST_TYPE_POST_REQUEST)?[4,this.handleRESTRequest(e)]:[3,4];case 3:return[2,t.sent()];case 4:return e.getReqRes()&P.REQUEST_TYPE_CLOUD_VARIABLE?[4,this.handleCloudVariable(e)]:[3,6];case 5:return[2,t.sent()];case 6:return e.getReqRes()&P.REQUEST_TYPE_BROADCAST?[4,this.handleBroadcast(e)]:[3,8];case 7:return[2,t.sent()];case 8:return[2,new Promise(function(t,n){n("Unrecognised packet type ("+e.getReqRes()+")")})]}})})},e.prototype.mapQueryString=function(e,t){var n=t.split("/").filter(function(e){return e}),r=e.split("/").filter(function(e){return e}),a=r[0],o=new RegExp("%(.*)%"),i=[];i.service=a,r.shift(),a=r[0];for(var c=0,s=n;c<s.length;c++){var u=s[c],l=o.exec(u)[1];if("?"==l[l.length-1]){if(""==a)break;l=l.substr(0,l.length-1)}i[l]=a,0!=r.length?(r.shift(),a=r[0]):a=""}return i},e.prototype.processRESTRequest=function(e,t,n,r){try{var a=n[r].microbitQueryString,o=this.mapQueryString(e.get(0),a),i=n[r].baseURL,c=o.endpoint?n[r].endpoint[o.endpoint]:{},s=c.queryObject;null==s&&(s=[]);for(var u=void 0,l=new RegExp("%([^%]*)%","g"),f=i;null!==(u=l.exec(i));){var p=u[1].split("?=");f=p[0]in s?f.replace(u[0],s[p[0]]):p.length>1?f.replace(u[0],p[1]):f.replace(u[0],"")}return O.debug("Service: "+o.service.toUpperCase()),O.debug("Query string map",o),this.translation(o,f,c,t,e,r)}catch(e){return O.error(e),new Promise(function(e,t){t("REST REQUEST ERROR")})}},e.prototype.translation=function(e,t,n,r,a,o){return new Promise(function(a,o){switch(e.service){case"energy":try{var i=e,c=i.location_uid,u=i.period_type,l=i.periods_ago,f=i.type,p="hst"===f?"total":"live",d="hst"===f?{period_type:u+"s",periods_ago:l,unit:"watt_hour"}:{unit:"watt"};s.a.get(t+"/"+p,{params:D(D({},d),{location_uid:c,meter_type:"ELECTRICITY"})}).then(function(e){console.log(e);var t=String(U.apply(n.jspath,e.data)[0]);r.append(t),a(r)}).catch(function(e){console.log("ERROR"+e),o("COULD NOT GET ENERGY USAGE")})}catch(e){console.log(e),o("COULD NOT GET ENERGY USAGE")}break;case"weather":var h=e,g=h.filter,b=h.country,E=A[e.filter_type];s.a.get(t,{params:{filter:g,country:b,filter_type:E}}).then(function(e){var t=String(U.apply(n.jspath,e.data)[0]);r.append(t),a(r)}).catch(function(e){console.log("ERROR"+e),o("COULD NOT GET WEATHER")});break;case"carbon":try{s.a.get(""+t).then(function(t){var o="genmix"==e.endpoint?String(U.apply(n.jspath.replace("%unit%",e.unit),t.data)[0]):String(U.apply(n.jspath,t.data)[0]);r.append(o),a(r)}).catch(function(e){o("COULD NOT GET DATA")})}catch(e){o("COULD NOT GET DATA")}break;default:o("UNKNOWN SERVICE "+e.service)}})},e.prototype.handleRESTRequest=function(e){O.debug("Received REST packet");try{var t=new x(e.getAppID(),e.getNamespaceID(),e.getUID()),n=e.get(0).split("/").filter(function(e){return e}),r=n[0];if(n.shift(),!(r in this.translations))return new Promise(function(e,t){t("INVALID SERVICE ("+r+")")});var a=this.translations[r],o=void 0;if(e.getReqRes()&P.REQUEST_TYPE_GET_REQUEST)o="GET",t.request_type|=P.REQUEST_TYPE_GET_REQUEST;else{if(!(e.getReqRes()&P.REQUEST_TYPE_POST_REQUEST))return new Promise(function(e,t){t("INVALID REQUEST TYPE")});o="POST",t.request_type|=P.REQUEST_TYPE_POST_REQUEST}return this.processRESTRequest(e,t,a,o)}catch(e){return O.error(e),new Promise(function(e,t){t("REST PACKET ERROR")})}},e.prototype.handleCloudVariable=function(e){return new Promise(function(e,t){t("CLOUD UNIMPLEMENTED")})},e.prototype.handleBroadcast=function(e){return new Promise(function(e,t){t("BROADCAST UNIMPLEMENTED")})},e.prototype.handleHelloPacket=function(e){var t=this;return new Promise(function(n,r){O.debug("Received HELLO PACKET"),O.debug("School_ID: "+e.get(1)+" hub_id: "+e.get(2)),p("Received HELLO PACKET"),p("School_ID: "+e.get(1)+" hub_id: "+e.get(2));var a=new x(e.getAppID(),e.getNamespaceID(),e.getUID());e.get(1)?e.get(1)?(t.hub_variables.credentials.school_id=e.get(1),t.hub_variables.credentials.pi_id=e.get(2),a.setRequestBit(P.REQUEST_TYPE_HELLO),a.setRequestBit(C.REQUEST_STATUS_OK),a.append(0),n(a)):r("BAD HUB ID"):r("BAD SCHOOL ID")})},e}(),B=function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function c(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}s((r=r.apply(e,t||[])).next())})},j=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},H=function(){function e(e,t,n){void 0===n&&(n=115200),this.targetDevice=e,this.baud=n,this.hubVariables=t,this.packetCount=0,this.isPaused=!1,this.setupSerialHandler()}return e.prototype.write=function(e){return B(this,void 0,void 0,function(){return j(this,function(t){switch(t.label){case 0:return this.targetDevice.stopSerialRead(),this.pause(),[4,this.sendSerialPacket(e)];case 1:return t.sent(),this.play(),this.targetDevice.startSerialRead(this.hubVariables.serial_delay),[2]}})})},e.prototype.setupSerialHandler=function(){return B(this,void 0,void 0,function(){var e=this;return j(this,function(t){return this.targetDevice.on(i.a.EVENT_SERIAL_DATA,function(t){return B(e,void 0,void 0,function(){var e,n,r,a,o,i,c,s,u;return j(this,function(l){switch(l.label){case 0:if(this.isPaused)return[2];if(-1===t.search(String.fromCharCode(k.SLIP_END))||0!==t.charCodeAt(0))return[2];for(e="",c=0;c<t.length;c++){if((n=t.charCodeAt(c))===k.SLIP_END){e+=String.fromCharCode(n);break}n!==k.SLIP_ESC?e+=String.fromCharCode(n):((r=t.charCodeAt(c+1))===k.SLIP_ESC_END?e+=String.fromCharCode(k.SLIP_END):r===k.SLIP_ESC_ESC?e+=String.fromCharCode(k.SLIP_ESC):(e+=String.fromCharCode(n),e+=String.fromCharCode(r)),c+=1)}this.packetCount++,f("Packet count: "+this.packetCount),O.debug("Packet count: "+this.packetCount),l.label=1;case 1:for(l.trys.push([1,4,,6]),o=new L(this.hubVariables),a=x.dataToSerialPacket(e),O.debug("Input Packet:",e),f("Input Packet: RECEIVED"),i=[],c=0;c<e.length;c++)i.push(e.charCodeAt(c));return O.debug("Serial packet:",a),[4,o.handleRequest(a)];case 2:return(u=l.sent()).setRequestBit(C.REQUEST_STATUS_OK),[4,this.write(u)];case 3:return l.sent(),[3,6];case 4:return s=l.sent(),O.error(s),(u=new x(a.getAppID(),a.getNamespaceID(),a.getUID(),a.getReqRes())).clearAndError("ERROR"),[4,this.write(u)];case 5:return l.sent(),[3,6];case 6:return[2]}})})}),[2]})})},e.prototype.sendSerialPacket=function(e){return B(this,void 0,void 0,function(){var t,n;return j(this,function(r){switch(r.label){case 0:O.debug("Output Packet (raw):",e),t=String.fromCharCode.apply(String,e.getFormattedPacket()),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.targetDevice.serialWrite(t)];case 2:return[2,r.sent()];case 3:return n=r.sent(),O.error(n),[3,4];case 4:return[2]}})})},e.prototype.sendSadFace=function(){var e=new x(0,0,0,P.REQUEST_TYPE_HELLO);e.append(-1),this.write(e)},e.prototype.sendHappyFace=function(){var e=new x(0,0,0,P.REQUEST_TYPE_HELLO);e.append(0),this.write(e)},e.prototype.pause=function(){this.isPaused=!0},e.prototype.play=function(){this.isPaused=!1},e}(),Q=n(192),M=n(193),Y=n(194),F=n(8),q=Object(F.a)(function(e){var t;return{image:(t={marginTop:80,width:400},t[e.breakpoints.down("xs")]={width:"100%",marginTop:120},t)}})(function(e){var t=e.classes,n=e.isSmileFace;return a.a.createElement("img",{alt:"",src:n?M:Y,className:t.image})}),G=n(496),V=n(497),z=n(491),K=n(493),W=n(500),J=n(138),$=n.n(J),X=n(137),Z=n.n(X),ee=Object(F.a)(function(e){var t,n,r;return{btn:{position:"fixed",zIndex:100,width:320,top:80,left:0,backgroundColor:"#0177c9",color:"#fff",transition:"all 225ms cubic-bezier(0, 0, 0.2, 1) 0ms;","&:hover":{backgroundColor:"#0177c9"}},right:(t={right:"-176px",paddingLeft:25,justifyContent:"flex-start",borderTopRightRadius:0,borderBottomRightRadius:0,left:"unset","&.open":{borderBottomLeftRadius:0,right:0}},t[e.breakpoints.down("xs")]={right:0,width:144},t),left:(n={left:"-176px",paddingRight:25,justifyContent:"flex-end",borderTopLeftRadius:0,borderBottomLeftRadius:0,right:"unset","&.open":{borderBottomRightRadius:0,left:0}},n[e.breakpoints.down("xs")]={left:0,width:144},n),sidebar:{position:"static !important","& .MuiBackdrop-root":{backgroundColor:"transparent"},"& .MuiPaper-root":(r={width:319.5,height:520,zIndex:99,boxSizing:"border-box",padding:"60px 20px 15px",top:80},r[e.breakpoints.down("xs")]={width:144},r)}}})(function(e){var t=e.direction,n=e.classes,r=e.label,o=e.messages,i=a.a.useState(!1),c=i[0],s=i[1],u=a.a.useRef(null);return a.a.createElement(a.a.Fragment,null,a.a.createElement(z.a,{className:n.btn+" "+("right"===t?n.right:n.left)+" "+(c?"open":"close"),onClick:function(e){return function(){s(e)}}(!c)},"right"===t&&c?a.a.createElement(Z.a,null):a.a.createElement($.a,null),r,"left"===t&&c?a.a.createElement($.a,null):a.a.createElement(Z.a,null)),a.a.createElement(W.a,{ref:u,className:n.sidebar,anchor:t,open:c},o.map(function(e,t){var n=""+t;return a.a.createElement("span",{key:n},o[o.length-1-t],a.a.createElement("br",null))})))}),te=n(492),ne=n(502),re=n(4),ae=n(494),oe=n(495),ie=n(501),ce=n(201),se=n.n(ce),ue=n(139),le=n.n(ue),fe=n(202),pe=n.n(fe),de=n(203),he=n.n(de),ge=n(461),be=n(196),Ee=n.n(be),ve=n(197),me=n.n(ve),ye=n(198),Se=n.n(ye),Te=n(199),_e=n.n(Te),we=n(200),Re=n.n(we),Pe=Object(te.a)(function(e){var t;return Object(ne.a)({tutorialImage:(t={position:"absolute",display:"flex",justifyContent:"center",background:"#fff",zIndex:2e5,width:450,height:316,top:83,left:"calc(50% - 225px)"},t[e.breakpoints.down("xs")]={display:"none"},t),image:{maxWidth:"100%",maxHeight:"100%"}})}),Ce=function(e){var t=e.activeStep,n=Pe({});return a.a.createElement("div",{className:n.tutorialImage},a.a.createElement("img",{className:n.image,src:function(){switch(t){case 0:return Ee.a;case 1:return me.a;case 2:return Se.a;case 3:return _e.a;case 4:return Re.a;default:return!0}}(),alt:""}))},ke=Object(F.a)(function(e){var t;return{alternativeLabel:(t={top:22},t[e.breakpoints.down("xs")]={display:"none"},t),active:{"& $line":{backgroundColor:"#0077c9"}},completed:{"& $line":{backgroundColor:"#0077c9"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}}})(ge.a),Oe=Object(te.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundColor:"#0077c9",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundColor:"#0077c9"}});function xe(e){var t,n=Oe({}),r=e.active,o=e.completed,i={1:a.a.createElement(se.a,null),2:a.a.createElement(le.a,null),3:a.a.createElement(le.a,null),4:a.a.createElement(pe.a,null),5:a.a.createElement(he.a,null)};return a.a.createElement("div",{className:Object(re.a)(n.root,(t={},t[n.active]=r,t[n.completed]=o,t))},i[String(e.icon)])}var Ue=Object(te.a)(function(e){var t,n,r,a;return Object(ne.a)({tutorial:(t={position:"relative",zIndex:101,marginTop:65},t[e.breakpoints.down("xs")]={position:"absolute",top:10},t),overlay:(n={width:"100%",position:"fixed",top:0,bottom:0,left:0,right:0,zIndex:100,backgroundColor:"rgba(255,255,255,0.5)",flexDirection:"column"},n[e.breakpoints.down("xs")]={backgroundColor:"#fff",justifyContent:"center"},n),highlited:(r={zIndex:2e4,pointerEvents:"none"},r[e.breakpoints.down("xs")]={zIndex:1},r),text:{textAlign:"center",marginBottom:50},button:{marginRight:e.spacing(1),backgroundColor:"#0177c9",color:"#fff",transition:"all 225ms cubic-bezier(0, 0, 0.2, 1) 0ms;","&:hover":{backgroundColor:"#0177c9"},"&:disabled":{backgroundColor:"#fff"}},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},steper:(a={},a[e.breakpoints.down("xs")]={display:"block"},a)})});var De=function(e){var t=e.onTutorialClose,n=Ue({}),o=a.a.useState(0),i=o[0],c=o[1],s=["Connect microbit to your computer","Flash microbit","Wait for flashing","Connect to Microbit","Microbit is ready for usage"];a.a.useEffect(function(){5===i&&t()},[i]);var u=Object(r.useCallback)(function(){c(function(e){return e+1})},[]),l=Object(r.useCallback)(function(){c(function(e){return e-1})},[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ce,{activeStep:i}),a.a.createElement("div",{className:n.tutorial},a.a.createElement("div",null,a.a.createElement("div",{className:n.text},a.a.createElement(K.a,{className:n.instructions},function(e){switch(e){case 0:return"Connect a microbit (v1 or v2) to your computer via USB. If your microbit is already flashed with hub software then you can skip next two steps";case 1:return'Click on Flash button; then select the microbit from the pop up menu and click "Connect"';case 2:return"Wait for flashing to complete. When it`s finished you`ll see an unsmiling face";case 3:return'Click on "Connect" button and select flashed microbit from the pop-up menu and "Connect". Wait until you see a smiley face on your microbit';case 4:return"Microbit is ready for usage as hub";default:return""}}(i)),a.a.createElement("div",null,a.a.createElement(z.a,{disabled:0===i,onClick:l,className:n.button},"Back"),a.a.createElement(z.a,{variant:"contained",color:"primary",onClick:u,className:n.button},i===s.length-1?"Close":"Next")))),a.a.createElement(ae.a,{alternativeLabel:!0,className:n.steper,activeStep:i,connector:a.a.createElement(ke,null)},s.map(function(e){return a.a.createElement(oe.a,{key:e},a.a.createElement(ie.a,{StepIconComponent:xe},e))}))))},Ie=n(204),Ne=n.n(Ie),Ae=n(498),Le=n(205),Be=n.n(Le),je="Connect to a micro:bit to start the hub",He=5,Qe={credentials:{school_id:"",pi_id:""},cloud_variable_socket:{address:"localhost",port:8001},translations:{url:"/static/microbit-bridge/translations.json",poll_updates:!1,poll_time:6e4,json:{}},proxy:{address:"/proxy",proxy_requests:!0},dapjs:{serial_delay:150,baud_rate:115200,flash_timeout:5e3,reset_pause:1e3}},Me=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(){return(Ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Fe=function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function c(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}s((r=r.apply(e,t||[])).next())})},qe=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},Ge=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)r[a]=o[i];return r},Ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.numberOfConnectionAttempts=0,t.state={selectedHubUID:"-1",terminalMessages:[""],historyMessages:[""],flashing:!1,helloPackageReceived:!1,connected:!1,status:je,tutorial:!1,errorCaught:!1},t.selectDevice=function(){return new Promise(function(e,t){navigator.usb.requestDevice({filters:[{vendorId:3368,productId:516}]}).then(function(t){e(t)}).catch(function(e){t(e)})})},t.onHelloPackageReceived=function(){t.setState(function(e){return Ye(Ye({},e),{helloPackageReceived:!0})})},t.checkConnection=function(){!t.state.helloPackageReceived&&t.numberOfConnectionAttempts<He?(t.targetDevice.setSerialBaudrate(Qe.dapjs.baud_rate),t.numberOfConnectionAttempts++):(t.state.helloPackageReceived||t.setStatus("Package getting error. Please reconnect device and try again"),t.numberOfConnectionAttempts=0,clearInterval(t.interval))},t.disconnect=function(){var e="Couldn't safely disconnect from the micro:bit. This can happen if the micro:bit was unplugged before being disconnected, all is safe!";Qe.school_id="",Qe.pi_id="",t.serialHandler=null,t.serialNumber="";try{t.targetDevice.removeAllListeners(),t.targetDevice.stopSerialRead(),t.targetDevice.disconnect().catch(function(t){console.log(t,e)})}catch(t){console.log(t,e)}t.targetDevice=null,t.setStatus(je),t.setState(function(e){return Ye(Ye({},e),{connected:!1,helloPackageReceived:!1})})},t.connect=function(e){return new Promise(function(n,r){t.targetDevice&&t.targetDevice.stopSerialRead();var a=new i.b(e);t.targetDevice=new i.a(a),t.serialNumber=e.serialNumber,t.targetDevice.disconnect(),t.targetDevice.connect().then(function(){return t.targetDevice.setSerialBaudrate(Qe.dapjs.baud_rate)}).then(function(){return t.targetDevice.getSerialBaudrate()}).then(function(r){t.targetDevice.startSerialRead(Qe.dapjs.serial_delay),t.serialHandler=new H(t.targetDevice,Qe,r),t.setState(function(e){return Ye(Ye({},e),{connected:!0})}),n("Connected to "+(""!==e.productName?e.productName:"micro:bit"))}).catch(function(e){e instanceof DOMException&&19===e.code?r("Failed to connect: Please close any other browser tabs which have been used for micro:bit coding and try again."):r("Failed to connect: "+e)})})},t.flashDevice=function(e){return new Promise(function(n,r){Qe.school_id="",Qe.pi_id="",t.targetDevice&&t.targetDevice.stopSerialRead(),y.getHubFirmware(t.state.selectedHubUID,e.serialNumber).then(function(a){var o=new i.b(e);return t.targetDevice=new i.a(o),t.targetDevice.disconnect(),t.targetDevice.on(i.a.EVENT_PROGRESS,function(e){t.setState(function(e){return Ye(Ye({},e),{flashing:!0})}),t.setStatus("Flashing: "+Math.round(100*e)+"%")}),t.targetDevice.connect().then(function(){return O.info("Flashing"),p("Flashing"),t.targetDevice.flash(a)}).then(function(){return O.info("Finished flashing! Reconnect micro:bit"),p("Finished flashing! Reconnect micro:bit"),n("Finished flashing! Reconnect micro:bit"),t.setState(function(e){return Ye(Ye({},e),{flashing:!1})}),t.targetDevice.disconnect()}).catch(function(e){e instanceof DOMException&&19===e.code?(t.targetDevice.disconnect(),r("Error flashing: Please close any other browser tabs which have been used for micro:bit coding and try again.")):r("Error flashing: "+e),t.setState(function(e){return Ye(Ye({},e),{flashing:!1})}),O.error("Error flashing: "+e)})}).catch(function(){p("Failed to get hub firmware"),r("Failed to get hub firmware")})})},t.connectButtonHandler=function(){t.state.connected?t.disconnect():t.selectDevice().then(function(e){return t.setStatus("Connecting..."),t.connect(e)}).then(function(e){t.interval=window.setInterval(t.checkConnection,2500),t.setStatus(e)}).catch(function(e){"string"==typeof e&&t.setStatus(e)})},t.setStatus=function(e){t.setState(function(t){return Ye(Ye({},t),{status:e})})},t.flashButtonHandler=function(){t.selectDevice().then(function(e){return t.flashDevice(e)}).then(function(e){t.setStatus(e)}).catch(function(e){"string"==typeof e&&t.setStatus(e)})},t.newHistoryMessageHandler=function(e){t.setState(function(t){return Ye(Ye({},t),{historyMessages:Ge(t.historyMessages,[e.detail.historyMsg])})})},t.newTerminalMessageHandler=function(e){t.setState(function(t){return Ye(Ye({},t),{terminalMessages:Ge(t.terminalMessages,[e.detail.terminalMsg])})})},t.closeTutorial=function(){t.setState(function(e){return Ye(Ye({},e),{tutorial:!1})})},t}return Me(t,e),t.prototype.componentDidMount=function(){return Fe(this,void 0,void 0,function(){var e=this;return qe(this,function(t){return this.getTranslations(),navigator.usb.addEventListener("disconnect",function(t){t.device.serialNumber===e.serialNumber&&e.disconnect(),e.setStatus(je)}),window.addEventListener("terminalMsg",this.newTerminalMessageHandler),window.addEventListener("historyMsg",this.newHistoryMessageHandler),window.addEventListener("helloPackageReceived",this.onHelloPackageReceived),[2]})})},t.prototype.componentWillUnmount=function(){window.removeEventListener("terminalMsg",this.newTerminalMessageHandler),window.removeEventListener("historyMsg",this.newHistoryMessageHandler),window.removeEventListener("helloPackageReceived",this.onHelloPackageReceived)},t.prototype.getTranslations=function(){return Fe(this,void 0,void 0,function(){return qe(this,function(e){return Qe.translations.poll_updates||0===Object.entries(Qe.translations.json).length?(f("Checking for translations updates"),O.info("Checking for translations updates"),Q.ajax({url:Qe.translations.url,method:"GET",dataType:"JSON",cache:!1,timeout:1e4,error:function(e){f("Error receiving translations"),O.error(e)},success:function(e){Qe.translations.json!=={}&&e.version===Qe.translations.json.version||(f("Translations have updated! (v"+e.version+")"),Qe.translations.json=e)}}),setTimeout(this.getTranslations,Qe.translations.poll_time),[2]):[2]})})},t.prototype.render=function(){var e=this,t=this.props.classes;return a.a.createElement("div",{id:"main"},a.a.createElement(G.a,{maxWidth:"xl"},a.a.createElement(V.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center"},a.a.createElement(V.a,{item:!0,xs:12,className:t.controls},a.a.createElement(q,{isSmileFace:this.state.helloPackageReceived}),a.a.createElement(K.a,{variant:"h5",component:"span",gutterBottom:!0,className:t.status},this.state.status,a.a.createElement(Ae.a,{className:Object(re.a)(t.tutorialBtn,{open:this.state.tutorial}),onClick:function(){return e.setState(function(e){return Ye(Ye({},e),{tutorial:!e.tutorial})})}},this.state.tutorial?a.a.createElement(Be.a,null):a.a.createElement(Ne.a,null))),a.a.createElement("div",{id:"additionalInfo"}),a.a.createElement("div",{className:t.buttonContainer},a.a.createElement(z.a,{id:"connect-button",className:t.btn,variant:"outlined",onClick:this.connectButtonHandler,disabled:this.state.flashing},this.state.connected?"Disconnect":"Connect"),a.a.createElement(z.a,{id:"flash-button",className:t.btn+" "+t.btnFlash,variant:"outlined",onClick:this.flashButtonHandler,disabled:this.state.flashing},"Flash")))),a.a.createElement(ee,{messages:this.state.historyMessages,label:"history",direction:"right"}),a.a.createElement(ee,{messages:this.state.terminalMessages,label:"terminal",direction:"left"}),this.state.tutorial&&a.a.createElement(De,{onTutorialClose:this.closeTutorial})))},t}(r.Component),ze=Object(F.a)(function(e){var t,n,r,a;return{controls:{display:"flex",flexDirection:"column",alignItems:"center"},buttonContainer:(t={},t[e.breakpoints.down("xs")]={width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},t),btn:(n={color:"#0177c9",border:"1px solid #0177c9",width:138,height:50,borderRadius:8},n[e.breakpoints.down("xs")]={marginBottom:10,width:"100%"},n["&:hover"]={backgroundColor:"#0177c9",color:"#fff"},n),tutorialBtn:{position:"relative",color:"#0177c9",zIndex:102,"&.open":(r={},r[e.breakpoints.down("xs")]={position:"fixed",top:0,right:20},r)},btnFlash:(a={margin:10},a[e.breakpoints.down("xs")]={marginTop:0},a),status:{textAlign:"center"}}})(Ve),Ke=n(206),We=n(499),Je=Object(Ke.a)({typography:{fontFamily:['"SamsungFont"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(",")}}),$e=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(We.a,{theme:Je},a.a.createElement(ze,null)))};n(456);n(457);Object(o.render)(a.a.createElement(function(){return r.createElement($e,null)},null),document.getElementById("app"))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9taWNyb2JpdF9zbWlsZS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9taWNyb2JpdF9wb2tlci5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9jb25uZWN0aW9uLmdpZiIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2ZsYXNoLmdpZiIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2ZsYXNoaW5nLmdpZiIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2FmdGVyRmxhc2guZ2lmIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvc21pbGVGYWNlLmdpZiIsIndlYnBhY2s6Ly8vLi9zcmMvY29uc3RhbnRzL2NvbmZpZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvRGVidWcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2FwaS9jb3JlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hcGkvaHVicy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGlicy9sb2dnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL1NlcmlhbFBhY2tldC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvUmVxdWVzdEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL1BhY2tldC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvU2VyaWFsSGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9XZWJodWJJbWFnZS50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVHV0b3JpYWxJbWFnZS50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVHV0b3JpYWwudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb25zdGFudHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRhaW5lcnMvV2ViaHViQ29udGFpbmVyLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29udGFpbmVycy9BcHAudHN4Iiwid2VicGFjazovLy8uL3NyYy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRhaW5lcnMvUm9vdC50c3giXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsImluc3RhbGxlZE1vZHVsZXMiLCIwIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJfQVBJX0VORFBPSU5UIiwidGVybWluYWxNc2ciLCJtZXNzYWdlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidGVybWluYWxNZXNzYWdlIiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJkaXNwYXRjaEV2ZW50IiwiaGlzdG9yeU1zZyIsImhpc3RvcnlNZXNzYWdlIiwiY29yZV9BYnN0cmFjdEFwaVNlcnZpY2UiLCJBYnN0cmFjdEFwaVNlcnZpY2UiLCJfdGhpcyIsInRoaXMiLCJheGlvc0ludGVyY2VwdG9ycyIsImF1dGgiLCJheGlvc19kZWZhdWx0IiwiYSIsImRlZmF1bHRzIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJwb3N0IiwiaW50ZXJjZXB0b3JzIiwicmVzcG9uc2UiLCJ1c2UiLCJsb2Rhc2giLCJlcnJvciIsIl9fYXdhaXRlciIsInN0YXR1cyIsIk5PVF9GT1VORCIsInN0YXR1c1RleHQiLCJQcm9taXNlIiwicmVqZWN0IiwiX19hc3NpZ24iLCJjb25maWciLCJ1cmwiLCJyZXBsYWNlIiwiaXNSZXRyeVJlcXVlc3QiLCJBQ0NFU1NfVE9LRU5fUEFSQU0iLCJodWJzIiwiX3N1cGVyIiwiSHVic0FQSVNlcnZpY2UiLCJfX2V4dGVuZHMiLCJnZXRXZWJIdWJzIiwiX2EiLCJzZW50IiwiZmlsdGVyIiwiaHViIiwidHlwZSIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yXzEiLCJnZXRIdWJGaXJtd2FyZSIsImh1YlVpZCIsInNlcmlhbCIsIm1pY3JvYml0X3ZlcnNpb24iLCJpbmNsdWRlcyIsInBhcmFtcyIsInVpZCIsInJlc3BvbnNlVHlwZSIsIkF1dGhvcml6YXRpb24iLCJ1bmRlZmluZWQiLCJlcnJvcl8yIiwibG9nZ2VyIiwibG9nbGV2ZWwiLCJsb2dsZXZlbF9wbHVnaW5fcHJlZml4Iiwic2V0TGV2ZWwiLCJERUJVRyIsIlN1YlR5cGUiLCJSZXF1ZXN0VHlwZSIsIlJlcXVlc3RTdGF0dXMiLCJTbGlwQ2hhciIsImxpYnNfbG9nZ2VyIiwiU2VyaWFsUGFja2V0X1NlcmlhbFBhY2tldCIsIlNlcmlhbFBhY2tldCIsImFwcF9pZCIsIm5hbWVzcGFjZV9pZCIsInJlcXVlc3RfdHlwZSIsInBheWxvYWQiLCJkZWNvZGUiLCJnZXRBcHBJRCIsImdldE5hbWVzcGFjZUlEIiwiZ2V0VUlEIiwiZ2V0UmVxUmVzIiwiZ2V0SGVhZGVyIiwiYnVmZmVycGFjayIsImdldFBheWxvYWQiLCJnZXRGb3JtYXR0ZWRQYXlsb2FkUGFydHMiLCJmb3JtYXR0ZWRQYXlsb2FkIiwiaXNJbnQiLCJOdW1iZXIiLCJpc0Zsb2F0IiwiU1VCVFlQRV9JTlQiLCJTVUJUWVBFX0ZMT0FUIiwiU1VCVFlQRV9TVFJJTkciLCJ3YXJuIiwiZ2V0Rm9ybWF0dGVkUGFja2V0IiwiZmluYWxQYWNrZXQiLCJVaW50OEFycmF5Iiwic2V0Iiwib2Zmc2V0IiwiZm9yRWFjaCIsIml0ZW0iLCJtZXNzYWdlQXJyYXkiLCJBcnJheSIsImZyb20iLCJuZXdMZW5ndGgiLCJjb25jYXQiLCJmaWxsIiwiU0xJUF9FTkQiLCJzZXRSZXF1ZXN0Qml0IiwiYml0VmFsdWUiLCJjbGVhclJlcXVlc3RCaXQiLCJjbGVhckFuZEVycm9yIiwiZXJyb3JNZXNzYWdlIiwiUkVRVUVTVF9TVEFUVVNfT0siLCJjbGVhciIsImFwcGVuZCIsInZhcmlhYmxlIiwicmVtb3ZlIiwiaW5kZXgiLCJyYXdQYXlsb2FkIiwic3VidHlwZSIsInJlbWFpbmRlciIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsIl9iIiwiZGF0YVRvU2VyaWFsUGFja2V0IiwiaGVhZGVyIiwiYnl0ZXMiLCJjaGFyQ29kZUF0IiwiRmlsdGVyVHlwZSIsIjEiLCJSZXF1ZXN0SGFuZGxlcl9SZXF1ZXN0SGFuZGxlciIsIlJlcXVlc3RIYW5kbGVyIiwiaHViX3ZhcmlhYmxlcyIsInRyYW5zbGF0aW9ucyIsImhhbmRsZVJlcXVlc3QiLCJzZXJpYWxQYWNrZXQiLCJSRVFVRVNUX1RZUEVfSEVMTE8iLCJoZWxsb1BhY2thZ2VSZWNlaXZlZCIsIkV2ZW50IiwicmVjZWl2ZWRIZWxsb1BhY2thZ2UiLCJoYW5kbGVIZWxsb1BhY2tldCIsIlJFUVVFU1RfVFlQRV9HRVRfUkVRVUVTVCIsIlJFUVVFU1RfVFlQRV9QT1NUX1JFUVVFU1QiLCJoYW5kbGVSRVNUUmVxdWVzdCIsIlJFUVVFU1RfVFlQRV9DTE9VRF9WQVJJQUJMRSIsImhhbmRsZUNsb3VkVmFyaWFibGUiLCJSRVFVRVNUX1RZUEVfQlJPQURDQVNUIiwiaGFuZGxlQnJvYWRjYXN0IiwicmVzb2x2ZSIsIm1hcFF1ZXJ5U3RyaW5nIiwicXVlcnlTdHJpbmciLCJxdWVyeVN0cmluZ0Zvcm1hdCIsImZvcm1hdFBpZWNlcyIsInNwbGl0IiwieCIsInF1ZXJ5UGllY2VzIiwicm9vdCIsInJlZ2V4cCIsIlJlZ0V4cCIsIm91dCIsIl9pIiwiZm9ybWF0UGllY2VzXzEiLCJmb3JtYXQiLCJleGVjIiwic3Vic3RyIiwicHJvY2Vzc1JFU1RSZXF1ZXN0IiwicmVzcG9uc2VQYWNrZXQiLCJ0cmFuc2xhdGlvbiIsInJlcXVlc3RUeXBlIiwibWJRdWVyeVN0cmluZyIsInF1ZXJ5U3RyTWFwIiwiZW5kcG9pbnQiLCJxdWVyeU9iamVjdCIsInVybFBhcnQiLCJuZXdVUkwiLCJzZWN0aW9uUGFydHMiLCJkZWJ1ZyIsInRvVXBwZXJDYXNlIiwiZSIsImxvY2F0aW9uX3VpZCIsInBlcmlvZF90eXBlIiwicGVyaW9kc19hZ28iLCJyb3V0ZSIsInVuaXQiLCJSZXF1ZXN0SGFuZGxlcl9hc3NpZ24iLCJtZXRlcl90eXBlIiwidGhlbiIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwianNwYXRoIiwiY2F0Y2giLCJjb3VudHJ5IiwiZmlsdGVyX3R5cGUiLCJyb290XzEiLCJTZXJpYWxIYW5kbGVyX1NlcmlhbEhhbmRsZXIiLCJTZXJpYWxIYW5kbGVyIiwidGFyZ2V0RGV2aWNlIiwiaHViVmFyaWFibGVzIiwiYmF1ZCIsInBhY2tldENvdW50IiwiaXNQYXVzZWQiLCJzZXR1cFNlcmlhbEhhbmRsZXIiLCJ3cml0ZSIsInN0b3BTZXJpYWxSZWFkIiwicGF1c2UiLCJzZW5kU2VyaWFsUGFja2V0IiwicGxheSIsInN0YXJ0U2VyaWFsUmVhZCIsIm9uIiwiZGFwX2VzbSIsIkVWRU5UX1NFUklBTF9EQVRBIiwicmF3X2RhdGEiLCJTZXJpYWxIYW5kbGVyX2F3YWl0ZXIiLCJzZWFyY2giLCJTTElQX0VTQyIsIm5leHQiLCJTTElQX0VTQ19FTkQiLCJTTElQX0VTQ19FU0MiLCJyZXF1ZXN0SGFuZGxlciIsInJhd1BhY2tldCIsImVfMSIsInBhY2tldCIsInNlcmlhbFdyaXRlIiwiZV8yIiwic2VuZFNhZEZhY2UiLCJzZW5kSGFwcHlGYWNlIiwiY29tcG9uZW50c19XZWJodWJJbWFnZSIsIndpdGhTdHlsZXMiLCJ0aGVtZSIsImltYWdlIiwibWFyZ2luVG9wIiwid2lkdGgiLCJicmVha3BvaW50cyIsImRvd24iLCJjbGFzc2VzIiwiaXNTbWlsZUZhY2UiLCJyZWFjdF9kZWZhdWx0IiwiY3JlYXRlRWxlbWVudCIsImFsdCIsInNyYyIsIm1pY3JvYml0X3NtaWxlIiwibWljcm9iaXRfcG9rZXIiLCJjbGFzc05hbWUiLCJjb21wb25lbnRzX1NpZGViYXIiLCJidG4iLCJwb3NpdGlvbiIsInpJbmRleCIsInRvcCIsImxlZnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsInRyYW5zaXRpb24iLCImOmhvdmVyIiwicmlnaHQiLCJwYWRkaW5nTGVmdCIsImp1c3RpZnlDb250ZW50IiwiYm9yZGVyVG9wUmlnaHRSYWRpdXMiLCJib3JkZXJCb3R0b21SaWdodFJhZGl1cyIsIiYub3BlbiIsImJvcmRlckJvdHRvbUxlZnRSYWRpdXMiLCJwYWRkaW5nUmlnaHQiLCJib3JkZXJUb3BMZWZ0UmFkaXVzIiwic2lkZWJhciIsIiYgLk11aUJhY2tkcm9wLXJvb3QiLCImIC5NdWlQYXBlci1yb290IiwiX2MiLCJoZWlnaHQiLCJib3hTaXppbmciLCJwYWRkaW5nIiwiZGlyZWN0aW9uIiwibGFiZWwiLCJtZXNzYWdlcyIsInVzZVN0YXRlIiwiaXNPcGVuIiwidG9nZ2xlU2lkZWJhciIsInVzZVJlZiIsIkZyYWdtZW50IiwiQnV0dG9uIiwib25DbGljayIsIm9wZW4iLCJ0b2dnbGVEcmF3ZXIiLCJDaGV2cm9uUmlnaHRfZGVmYXVsdCIsIkNoZXZyb25MZWZ0X2RlZmF1bHQiLCJEcmF3ZXIiLCJyZWYiLCJhbmNob3IiLCJtYXAiLCJ1c2VTdHlsZXMiLCJtYWtlU3R5bGVzIiwiY3JlYXRlU3R5bGVzIiwidHV0b3JpYWxJbWFnZSIsImRpc3BsYXkiLCJiYWNrZ3JvdW5kIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJjb21wb25lbnRzX1R1dG9yaWFsSW1hZ2UiLCJhY3RpdmVTdGVwIiwiY29ubmVjdGlvbl9kZWZhdWx0IiwiZmxhc2hfZGVmYXVsdCIsImZsYXNoaW5nX2RlZmF1bHQiLCJhZnRlckZsYXNoX2RlZmF1bHQiLCJzbWlsZUZhY2VfZGVmYXVsdCIsImdldEltYWdlUGF0aCIsIkNvbG9ybGliQ29ubmVjdG9yIiwiYWx0ZXJuYXRpdmVMYWJlbCIsImFjdGl2ZSIsIiYgJGxpbmUiLCJjb21wbGV0ZWQiLCJsaW5lIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiU3RlcENvbm5lY3RvciIsInVzZUNvbG9ybGliU3RlcEljb25TdHlsZXMiLCJhbGlnbkl0ZW1zIiwiYm94U2hhZG93IiwiQ29sb3JsaWJTdGVwSWNvbiIsInByb3BzIiwiaWNvbnMiLCJVc2JfZGVmYXVsdCIsIjIiLCJGbGFzaE9uX2RlZmF1bHQiLCIzIiwiNCIsIkRldmljZUh1Yl9kZWZhdWx0IiwiNSIsIlNlbnRpbWVudFNhdGlzZmllZEFsdF9kZWZhdWx0IiwiY2xzeF9tIiwiaWNvbiIsIlR1dG9yaWFsX3VzZVN0eWxlcyIsInR1dG9yaWFsIiwib3ZlcmxheSIsImJvdHRvbSIsImZsZXhEaXJlY3Rpb24iLCJoaWdobGl0ZWQiLCJwb2ludGVyRXZlbnRzIiwidGV4dCIsInRleHRBbGlnbiIsIm1hcmdpbkJvdHRvbSIsImJ1dHRvbiIsIm1hcmdpblJpZ2h0Iiwic3BhY2luZyIsIiY6ZGlzYWJsZWQiLCJpbnN0cnVjdGlvbnMiLCJzdGVwZXIiLCJfZCIsIlR1dG9yaWFsIiwib25UdXRvcmlhbENsb3NlIiwic2V0QWN0aXZlU3RlcCIsInN0ZXBzIiwidXNlRWZmZWN0IiwiaGFuZGxlTmV4dCIsInJlYWN0IiwicHJldkFjdGl2ZVN0ZXAiLCJoYW5kbGVCYWNrIiwiVHlwb2dyYXBoeSIsInN0ZXAiLCJnZXRTdGVwQ29udGVudCIsImRpc2FibGVkIiwidmFyaWFudCIsIlN0ZXBwZXIiLCJjb25uZWN0b3IiLCJTdGVwIiwiU3RlcExhYmVsIiwiU3RlcEljb25Db21wb25lbnQiLCJERUZBVUxUX1NUQVRVUyIsIk1BWF9OVU1CRVJfT0ZfQ09OTkVDVElPTl9BVFRFTVBUUyIsImNyZWRlbnRpYWxzIiwic2Nob29sX2lkIiwicGlfaWQiLCJjbG91ZF92YXJpYWJsZV9zb2NrZXQiLCJhZGRyZXNzIiwicG9ydCIsInBvbGxfdXBkYXRlcyIsInBvbGxfdGltZSIsImpzb24iLCJwcm94eSIsInByb3h5X3JlcXVlc3RzIiwiZGFwanMiLCJzZXJpYWxfZGVsYXkiLCJiYXVkX3JhdGUiLCJmbGFzaF90aW1lb3V0IiwicmVzZXRfcGF1c2UiLCJXZWJodWJDb250YWluZXJfV2ViaHViQ29udGFpbmVyIiwiV2ViaHViQ29udGFpbmVyIiwiYXJndW1lbnRzIiwibnVtYmVyT2ZDb25uZWN0aW9uQXR0ZW1wdHMiLCJzdGF0ZSIsInNlbGVjdGVkSHViVUlEIiwidGVybWluYWxNZXNzYWdlcyIsImhpc3RvcnlNZXNzYWdlcyIsImZsYXNoaW5nIiwiY29ubmVjdGVkIiwiZXJyb3JDYXVnaHQiLCJzZWxlY3REZXZpY2UiLCJuYXZpZ2F0b3IiLCJ1c2IiLCJyZXF1ZXN0RGV2aWNlIiwiZmlsdGVycyIsInZlbmRvcklkIiwicHJvZHVjdElkIiwiZGV2aWNlIiwib25IZWxsb1BhY2thZ2VSZWNlaXZlZCIsInNldFN0YXRlIiwicHJldlN0YXRlIiwiV2ViaHViQ29udGFpbmVyX2Fzc2lnbiIsImNoZWNrQ29ubmVjdGlvbiIsInNldFNlcmlhbEJhdWRyYXRlIiwic2V0U3RhdHVzIiwiY2xlYXJJbnRlcnZhbCIsImludGVydmFsIiwiZGlzY29ubmVjdCIsIkVSUk9SX01FU1NBR0UiLCJzZXJpYWxIYW5kbGVyIiwic2VyaWFsTnVtYmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiY29ubmVjdCIsInRyYW5zcG9ydCIsImdldFNlcmlhbEJhdWRyYXRlIiwicHJvZHVjdE5hbWUiLCJlcnIiLCJET01FeGNlcHRpb24iLCJjb2RlIiwiZmxhc2hEZXZpY2UiLCJmaXJtd2FyZSIsIkVWRU5UX1BST0dSRVNTIiwicHJvZ3Jlc3MiLCJNYXRoIiwicm91bmQiLCJpbmZvIiwiZmxhc2giLCJjb25uZWN0QnV0dG9uSGFuZGxlciIsInNldEludGVydmFsIiwiZmxhc2hCdXR0b25IYW5kbGVyIiwibmV3SGlzdG9yeU1lc3NhZ2VIYW5kbGVyIiwiX19zcHJlYWRBcnJheXMiLCJuZXdUZXJtaW5hbE1lc3NhZ2VIYW5kbGVyIiwiY2xvc2VUdXRvcmlhbCIsIldlYmh1YkNvbnRhaW5lcl9leHRlbmRzIiwiY29tcG9uZW50RGlkTW91bnQiLCJnZXRUcmFuc2xhdGlvbnMiLCJhZGRFdmVudExpc3RlbmVyIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZW50cmllcyIsImpxdWVyeSIsIm1ldGhvZCIsImRhdGFUeXBlIiwiY2FjaGUiLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsInJlbmRlciIsImlkIiwiQ29udGFpbmVyIiwiR3JpZCIsImNvbnRhaW5lciIsInhzIiwiY29udHJvbHMiLCJjb21wb25lbnQiLCJndXR0ZXJCb3R0b20iLCJJY29uQnV0dG9uIiwidHV0b3JpYWxCdG4iLCJDbG9zZV9kZWZhdWx0IiwiTGl2ZUhlbHBfZGVmYXVsdCIsImJ1dHRvbkNvbnRhaW5lciIsImJ0bkZsYXNoIiwiY29udGFpbmVyc19XZWJodWJDb250YWluZXIiLCJtYXJnaW4iLCJBcHBfdGhlbWUiLCJjcmVhdGVUaGVtZSIsInR5cG9ncmFwaHkiLCJmb250RmFtaWx5Iiwiam9pbiIsImNvbnRhaW5lcnNfQXBwIiwiVGhlbWVQcm92aWRlciIsInJlYWN0X2RvbSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiXSwibWFwcGluZ3MiOiJh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RUFBQWhPLEVBQUFpTyxjQUFBRCxFQUFBaE8sRUFBQXdRLFNBQUEsS0FDRXhDLEVBQUFoTyxFQUFBaU8sY0FBQzRPLEdBQUEsR0FBaUJyUCxNQUFPK08sSUFDdkJ2TyxFQUFBaE8sRUFBQWlPLGNBQUNvTyxHQUFlLHVCQ2Z4QjFnQixPQUFBbWhCLEVBQUEsT0FBQW5oQixDQUFPcVMsRUFBQWhPLEVBQUFpTyxjQ0RRLFdBQ2IsT0FBT2tILEVBQUEsY0FBQ3lILEdBQUcsT0RBRCxNQUFLRyxTQUFTQyxlQUFlIiwiZmlsZSI6Im1haW4uMzdmNTIyMjg4ZWM1NjI1YWJjNWEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQwOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL3N0YXRpYy9taWNyb2JpdC1icmlkZ2UvXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFsyMTMsMV0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJtaWNyb2JpdF9zbWlsZS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJtaWNyb2JpdF9wb2tlci5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJjb25uZWN0aW9uLmdpZlwiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZsYXNoLmdpZlwiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZsYXNoaW5nLmdpZlwiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFmdGVyRmxhc2guZ2lmXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwic21pbGVGYWNlLmdpZlwiOyIsIi8vIFRoaXMgY29uc3RhbnQgaXMgaGFuZGxlZCBieSB3ZWJwYWNrIGRlcGVuZGluZyBvbiBidWlsZCBlbnZpcm9ubWVudFxuZGVjbGFyZSBjb25zdCBBUElfRU5EUE9JTlQ6IHN0cmluZztcbmNvbnN0IF9BUElfRU5EUE9JTlQgPSBBUElfRU5EUE9JTlQ7XG5leHBvcnQgeyBfQVBJX0VORFBPSU5UIGFzIEFQSV9FTkRQT0lOVCB9O1xuXG4vKiBEZWJ1ZyBDb25zdGFudHMgKi9cbmV4cG9ydCBjb25zdCBERUJVRyA9IHRydWU7XG5leHBvcnQgY29uc3QgVElNRVNUQU1QUyA9IHRydWU7XG4iLCIvLyBpbXBvcnQgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5leHBvcnQgZnVuY3Rpb24gdGVybWluYWxNc2cobWVzc2FnZTogYW55KSB7XG4gIGNvbnN0IHRlcm1pbmFsTXNnID0gYFske25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgxMSwgLTUpfV0gJHttZXNzYWdlfWA7XG4gIGNvbnN0IHRlcm1pbmFsTWVzc2FnZSA9IG5ldyBDdXN0b21FdmVudCgndGVybWluYWxNc2cnLCB7XG4gICAgZGV0YWlsOiB7IHRlcm1pbmFsTXNnIH1cbiAgfSk7XG5cbiAgd2luZG93LmRpc3BhdGNoRXZlbnQodGVybWluYWxNZXNzYWdlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpc3RvcnlNc2cobWVzc2FnZTogYW55KSB7XG4gIGNvbnN0IGhpc3RvcnlNc2cgPSBgWyR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDExLCAtNSl9XSAke21lc3NhZ2V9YDtcbiAgY29uc3QgaGlzdG9yeU1lc3NhZ2UgPSBuZXcgQ3VzdG9tRXZlbnQoJ2hpc3RvcnlNc2cnLCB7XG4gICAgZGV0YWlsOiB7IGhpc3RvcnlNc2cgfVxuICB9KTtcblxuICB3aW5kb3cuZGlzcGF0Y2hFdmVudChoaXN0b3J5TWVzc2FnZSk7XG59XG4iLCJpbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgQVBJX0VORFBPSU5UIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL2NvbmZpZyc7XG5pbXBvcnQgeyB0ZXJtaW5hbE1zZyB9IGZyb20gJy4uL0RlYnVnJztcblxuZXhwb3J0IGNsYXNzIEFic3RyYWN0QXBpU2VydmljZSB7XG4gIHN0YXRpYyBBQ0NFU1NfVE9LRU5fUEFSQU0gPSAnYWNjZXNzJztcblxuICBzdGF0aWMgTk9UX0ZPVU5EID0gNDA0O1xuXG4gIGF4aW9zSW50ZXJjZXB0b3JzID0geyBhdXRoOiBudWxsIH07XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9IEFQSV9FTkRQT0lOVDtcbiAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLnBvc3RbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShfLmlkZW50aXR5LCBhc3luYyBlcnJvciA9PiB7XG4gICAgICBpZihlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IEFic3RyYWN0QXBpU2VydmljZS5OT1RfRk9VTkQpIHtcbiAgICAgICAgdGVybWluYWxNc2coYHJlcXVlc3QgZmFpbGVkOiAke2Vycm9yLnJlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBheGlvcyh7XG4gICAgICAgIC4uLmVycm9yLmNvbmZpZyxcbiAgICAgICAgdXJsOiBlcnJvci5jb25maWcudXJsLnJlcGxhY2UoYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCwgJycpLCAvLyBmaXggZG91YmxlIGJhc2UgdXJsIGlzc3VlIG9uIHJldHJpZXMgcmVxdWVzdHNcbiAgICAgICAgaXNSZXRyeVJlcXVlc3Q6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbn1cbiIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgc2hvcnRpZCBmcm9tICdzaG9ydGlkJztcbmltcG9ydCB7IEFic3RyYWN0QXBpU2VydmljZSB9IGZyb20gJy4vY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSHViIHtcbiAgaWQ6IG51bWJlcjtcbiAgdWlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICBzdWJfbG9jYXRpb25faWQ6IG51bWJlcjtcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xufVxuXG5jbGFzcyBIdWJzQVBJU2VydmljZSBleHRlbmRzIEFic3RyYWN0QXBpU2VydmljZSB7XG4gIGFzeW5jIGdldFdlYkh1YnMoKTogUHJvbWlzZTxBcnJheTxIdWI+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCcvaHVicy8nKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmZpbHRlcigoaHViOiBIdWIpID0+IGh1Yi50eXBlID09PSAnYnJvd3NlcicpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkoZXJyb3IucmVzcG9uc2UuZGF0YSkpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldEh1YkZpcm13YXJlKGh1YlVpZDogc3RyaW5nLCBzZXJpYWw6IHN0cmluZyk6IFByb21pc2U8QXJyYXlCdWZmZXI+IHtcbiAgICBjb25zdCBtaWNyb2JpdF92ZXJzaW9uID0gWyc5OTAwJywgJzk5MDEnXS5pbmNsdWRlcyhzZXJpYWw/LnNsaWNlKDAsNCkpID8gJ3YxJyA6ICd2Mic7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCcvaHVicy9taWNyb2JpdC1maXJtd2FyZS8nLCB7XG4gICAgICAgIHBhcmFtczogaHViVWlkICE9PSAnLTEnID8geyB1aWQ6IGh1YlVpZCB9IDogeyBtaWNyb2JpdF92ZXJzaW9uIH0sXG4gICAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJyxcbiAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiB1bmRlZmluZWQgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KGVycm9yLnJlc3BvbnNlLmRhdGEpKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEh1YnNBUElTZXJ2aWNlKCk7XG4iLCJpbXBvcnQgKiBhcyBsb2cgZnJvbSAnbG9nbGV2ZWwnO1xuaW1wb3J0ICogYXMgcHJlZml4IGZyb20gJ2xvZ2xldmVsLXBsdWdpbi1wcmVmaXgnO1xuXG5jb25zdCBsb2dnZXIgPSBsb2cuZ2V0TG9nZ2VyKCd3ZWJodWInKTtcblxucHJlZml4LnJlZyhsb2cpO1xucHJlZml4LmFwcGx5KGxvZ2dlcik7XG5cbmxvZ2dlci5zZXRMZXZlbChsb2cubGV2ZWxzLkRFQlVHKTtcblxuZXhwb3J0IGRlZmF1bHQgbG9nZ2VyO1xuIiwiaW1wb3J0IHsgUGFja2V0IH0gZnJvbSAnLi9QYWNrZXQnO1xuaW1wb3J0ICogYXMgYnVmZmVycGFjayBmcm9tICdidWZmZXJwYWNrJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi4vbGlicy9sb2dnZXInO1xuXG5leHBvcnQgZW51bSBTdWJUeXBlIHtcbiAgU1VCVFlQRV9TVFJJTkcgPSAweDAxLFxuICBTVUJUWVBFX0lOVCA9IDB4MDIsXG4gIFNVQlRZUEVfRkxPQVQgPSAweDA0LFxuICBTVUJUWVBFX0VWRU5UID0gMHgwOFxufVxuXG5leHBvcnQgZW51bSBSZXF1ZXN0VHlwZSB7XG4gIFJFUVVFU1RfVFlQRV9HRVRfUkVRVUVTVCA9IDB4MDEsXG4gIFJFUVVFU1RfVFlQRV9QT1NUX1JFUVVFU1QgPSAweDAyLFxuICBSRVFVRVNUX1RZUEVfQ0xPVURfVkFSSUFCTEUgPSAweDA0LFxuICBSRVFVRVNUX1RZUEVfQlJPQURDQVNUID0gMHgwOCxcbiAgUkVRVUVTVF9UWVBFX0hFTExPID0gMHgxMFxufVxuXG5leHBvcnQgZW51bSBSZXF1ZXN0U3RhdHVzIHtcbiAgUkVRVUVTVF9TVEFUVVNfQUNLID0gMHgyMCxcbiAgUkVRVUVTVF9TVEFUVVNfRVJST1IgPSAweDQwLFxuICBSRVFVRVNUX1NUQVRVU19PSyA9IDB4ODBcbn1cblxuZXhwb3J0IGVudW0gU2xpcENoYXIge1xuICBTTElQX0VORCA9IDB4YzAsXG4gIFNMSVBfRVNDID0gMHhkYixcbiAgU0xJUF9FU0NfRU5EID0gMHhkYyxcbiAgU0xJUF9FU0NfRVNDID0gMHhkZFxufVxuXG5leHBvcnQgY29uc3QgSEVBREVSX0xFTkdUSCA9IDU7XG5leHBvcnQgY29uc3QgSEVBREVSX1NUUlVDVFVSRSA9ICc8QkJIQic7IC8vIHVzZWQgZm9yIHBhY2tpbmcgYW5kIGJ1ZmZlcnBhY2sudW5wYWNraW5nIHRoZSBoZWFkZXIgdmFsdWVzIChMaXR0bGUtZW5kaWFuIEJ5dGUgQnl0ZSBTaG9ydCBCeXRlKVxuXG5leHBvcnQgY2xhc3MgU2VyaWFsUGFja2V0IGltcGxlbWVudHMgUGFja2V0IHtcbiAgYXBwX2lkOiBudW1iZXI7XG4gIG5hbWVzcGFjZV9pZDogbnVtYmVyO1xuICB1aWQ6IG51bWJlcjtcbiAgcmVxdWVzdF90eXBlOiBudW1iZXI7XG4gIHBheWxvYWQ6IGFueVtdO1xuXG4gIC8qKipcbiAgICogQ3JlYXRlcyBhIFNlcmlhbFBhY2tldCBhbmQgaW5pdGlhbGlzZXMgaGVhZGVyIGFuZCBwYXlsb2FkIHZhcmlhYmxlcy5cbiAgICpcbiAgICogQHBhcmFtIGFwcF9pZCBhcHBfaWQgZnJvbSB0aGUgbWljcm86Yml0XG4gICAqIEBwYXJhbSBuYW1lc3BhY2VfaWQgbmFtZXNwYWNlX2lkIGZyb20gdGhlIG1pY3JvOmJpdFxuICAgKiBAcGFyYW0gdWlkIHVpZCBmcm9tIHRoZSBtaWNybzpiaXRcbiAgICogQHBhcmFtIHJlcXVlc3RfdHlwZSByZXF1ZXN0X3R5cGUgZnJvbSB0aGUgbWljcm86Yml0XG4gICAqIEBwYXJhbSBwYXlsb2FkIEVuY29kZWQgcHJvdG90eXBlIGZyb20gdGhlIG1pY3JvOmJpdFxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgYXBwX2lkOiBudW1iZXIsXG4gICAgbmFtZXNwYWNlX2lkOiBudW1iZXIsXG4gICAgdWlkOiBudW1iZXIsXG4gICAgcmVxdWVzdF90eXBlPzogbnVtYmVyLFxuICAgIHBheWxvYWQ/OiBudW1iZXJbXVxuICApIHtcbiAgICB0aGlzLmFwcF9pZCA9IGFwcF9pZDtcbiAgICB0aGlzLm5hbWVzcGFjZV9pZCA9IG5hbWVzcGFjZV9pZDtcbiAgICB0aGlzLnVpZCA9IHVpZDtcbiAgICB0aGlzLnJlcXVlc3RfdHlwZSA9IHJlcXVlc3RfdHlwZTtcbiAgICB0aGlzLnBheWxvYWQgPSBbXTtcblxuICAgIC8vIGlmIHRoZSBhIHBheWxvYWQgd2FzIHBhc3NlZCBpbiwgZGVjb2RlIGl0XG4gICAgaWYgKHBheWxvYWQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5kZWNvZGUocGF5bG9hZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqKlxuICAgKiBSZXR1cm5zIHRoZSBhcHBfaWQgb2YgdGhlIHBhY2tldC5cbiAgICovXG4gIHB1YmxpYyBnZXRBcHBJRCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmFwcF9pZDtcbiAgfVxuXG4gIC8qKipcbiAgICogUmV0dXJucyB0aGUgbmFtZXNwYWNlX2lkIG9mIHRoZSBwYWNrZXQuXG4gICAqL1xuICBwdWJsaWMgZ2V0TmFtZXNwYWNlSUQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lc3BhY2VfaWQ7XG4gIH1cblxuICAvKioqXG4gICAqIFJldHVybnMgdGhlIFVJRCBvZiB0aGUgcGFja2V0LlxuICAgKi9cbiAgcHVibGljIGdldFVJRCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnVpZDtcbiAgfVxuXG4gIC8qKipcbiAgICogUmV0dXJucyB0aGUgcmVxdWVzdF90eXBlIG9yJ2VkIHdpdGggdGhlIHJlc3BvbnNlX3R5cGUuXG4gICAqL1xuICBwdWJsaWMgZ2V0UmVxUmVzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdF90eXBlO1xuICB9XG5cbiAgLyoqKlxuICAgKiBSZXR1cm5zIHRoZSBoZWFkZXIgaW4gYSBieXRlIGFycmF5IHJlYWR5IGZvciBzZW5kaW5nIHRvIHRoZSBtaWNybzpiaXQuXG4gICAqL1xuICBwdWJsaWMgZ2V0SGVhZGVyKCk6IG51bWJlcltdIHtcbiAgICByZXR1cm4gYnVmZmVycGFjay5wYWNrKEhFQURFUl9TVFJVQ1RVUkUsIFtcbiAgICAgIHRoaXMuYXBwX2lkLFxuICAgICAgdGhpcy5uYW1lc3BhY2VfaWQsXG4gICAgICB0aGlzLnVpZCxcbiAgICAgIHRoaXMucmVxdWVzdF90eXBlXG4gICAgXSk7XG4gIH1cblxuICAvKioqXG4gICAqIFJldHVybnMgdGhlIG5vbi1mb3JtYXR0ZWQgcGF5bG9hZCBpbiBhcnJheSBmb3JtLlxuICAgKi9cbiAgcHVibGljIGdldFBheWxvYWQoKTogYW55W10ge1xuICAgIHJldHVybiB0aGlzLnBheWxvYWQ7XG4gIH1cblxuICAvKioqXG4gICAqIENvbnZlcnRzIHZhbHVlcyBmb3VuZCBpbiB0aGUgcGF5bG9hZCBpbnRvIGFuIGFycmF5IG9mIGJ5dGUgYXJyYXlzIHJlYWR5IGZvciBzZW5kaW5nIHRvIHRoZSBtaWNybzpiaXQuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBTZXJpYWxQYWNrZXQncyBwYXlsb2FkIGluIGJ5dGUgYXJyYXkgZm9ybVxuICAgKi9cbiAgcHVibGljIGdldEZvcm1hdHRlZFBheWxvYWRQYXJ0cygpOiBudW1iZXJbXSB7XG4gICAgbGV0IGZvcm1hdHRlZFBheWxvYWQ6IGFueSA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgdmFsdWUgaXMgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuIFZhbHVlIHRvIGNoZWNrIGlzIGFuIGludGVnZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ludChuKSB7XG4gICAgICByZXR1cm4gTnVtYmVyKG4pID09PSBuICYmIG4gJSAxID09PSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHZhbHVlIGlzIGEgZmxvYXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbiBWYWx1ZSB0byBjaGVjayBpcyBhIGZsb2F0XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGbG9hdChuKSB7XG4gICAgICByZXR1cm4gTnVtYmVyKG4pID09PSBuICYmIG4gJSAxICE9PSAwO1xuICAgIH1cblxuICAgIC8vIGZvcm1hdCB0aGUgcGF5bG9hZCBkYXRhIGNvcnJlY3RseVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXlsb2FkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdmFsdWU6IHVua25vd24gPSB0aGlzLnBheWxvYWRbaV07XG5cbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ251bWJlcic6IC8vIGludCBvciBmbG9hdFxuICAgICAgICAgIGlmIChpc0ludCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFBheWxvYWQucHVzaChcbiAgICAgICAgICAgICAgYnVmZmVycGFjay5wYWNrKCc8QmknLCBbU3ViVHlwZS5TVUJUWVBFX0lOVCwgdmFsdWVdKVxuICAgICAgICAgICAgKTsgLy8gcGFjayBpbnRlZ2VyIGludG8gYSBieXRlIGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIGZvcm1hdHRlZCBwYXlsb2FkXG4gICAgICAgICAgfSBlbHNlIGlmIChpc0Zsb2F0KHZhbHVlKSkge1xuICAgICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZC5wdXNoKFxuICAgICAgICAgICAgICBidWZmZXJwYWNrLnBhY2soJzxCZicsIFtTdWJUeXBlLlNVQlRZUEVfRkxPQVQsIHZhbHVlXSlcbiAgICAgICAgICAgICk7IC8vIHBhY2sgZmxvYXQgaW50byBhIGJ5dGUgYXJyYXkgYW5kIGFwcGVuZCBpdCB0byB0aGUgZm9ybWF0dGVkIHBheWxvYWRcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnc3RyaW5nJzogLy8gc3RyaW5nXG4gICAgICAgICAgZm9ybWF0dGVkUGF5bG9hZC5wdXNoKFxuICAgICAgICAgICAgYnVmZmVycGFjay5wYWNrKGA8QiR7dmFsdWUubGVuZ3RoICsgMX1zYCwgW1xuICAgICAgICAgICAgICBTdWJUeXBlLlNVQlRZUEVfU1RSSU5HLFxuICAgICAgICAgICAgICB2YWx1ZSArICdcXDAnXG4gICAgICAgICAgICBdKVxuICAgICAgICAgICk7IC8vIHBhY2sgc3RyaW5nIGludG8gYSBieXRlIGFycmF5XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvL1RPRE86IEltcGxlbWVudCBFdmVudHNcbiAgICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAgIGBGT1VORCBVTklNUExFTUVOVEVEIFNVQlRZUEUgV0hJTEUgRU5DT0RJTkcgUEFDS0VUICR7dHlwZW9mIHZhbHVlfSAoJHt2YWx1ZX0pYFxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmb3JtYXR0ZWRQYXlsb2FkO1xuICB9XG5cbiAgLyoqKlxuICAgKiBSZXR1cm5zIGEgZm9ybWF0dGVkIHBhY2tldCBpbiBieXRlIGFycmF5IGZvcm0uXG4gICAqXG4gICAqIEJ5dGUgIHwgICBVc2VcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiAwIC0gNCB8IGFwcF9pZFxuICAgKiAgICAgICB8IG5hbWVzcGFjZV9pZFxuICAgKiAgICAgICB8IHVpZFxuICAgKiAgICAgICB8IHJlcXVlc3RfdHlwZVxuICAgKiAgICAgICB8XG4gICAqIDUgLSBuIHwgcGF5bG9hZCBjb250aWd1b3VzbHkgc3RvcmVkXG4gICAqIG4gKyAxIHwgU0xJUF9FTkQgKDE5MilcbiAgICovXG4gIHB1YmxpYyBnZXRGb3JtYXR0ZWRQYWNrZXQoKTogbnVtYmVyW10ge1xuICAgIGxldCBmaW5hbFBhY2tldCA9IG5ldyBVaW50OEFycmF5KHRoaXMubGVuZ3RoKCkpOyAvLyBjcmVhdGUgbmV3IGFycmF5IHRvIHN0b3JlIGFsbCBvdGhlcnNcbiAgICBmaW5hbFBhY2tldC5zZXQodGhpcy5nZXRIZWFkZXIoKSk7IC8vIGFkZCBoZWFkZXIgdG8gbmV3IGFycmF5XG5cbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5nZXRIZWFkZXIoKS5sZW5ndGg7IC8vIHNldCBvZmZzZXQgdG8gdGhlIGxlbmd0aCBvZiB0aGUgaGVhZGVyXG5cbiAgICAvLyBsb29wIHRocm91Z2ggYWxsIHBhcnRzIG9mIHRoZSBwYXlsb2FkLCBhZGRpbmcgZWFjaCBlbGVtZW50IGF0IHRoZSBvZmZzZXRcbiAgICB0aGlzLmdldEZvcm1hdHRlZFBheWxvYWRQYXJ0cygpLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBmaW5hbFBhY2tldC5zZXQoaXRlbSwgb2Zmc2V0KTtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIG9mZnNldCArPSBpdGVtLmxlbmd0aDtcbiAgICB9KTtcblxuICAgIC8vIFdPUktBUk9VTkQuIFRPRE8uIEZpbGwgcmVzcG9uc2UgcGFja2V0IHdpdGggemVyb3MgZm9yIHByZXZlbnRpbmcgZGF0YSBzZW50IG1lc3NhZ2UgaW4gaW5wdXQgcGFja2FnZVxuXG4gICAgbGV0IG1lc3NhZ2VBcnJheSA9IEFycmF5LmZyb20oZmluYWxQYWNrZXQpO1xuXG4gICAgbGV0IG5ld0xlbmd0aCA9IDYzIC0gbWVzc2FnZUFycmF5Lmxlbmd0aDtcblxuICAgIG1lc3NhZ2VBcnJheSA9IG1lc3NhZ2VBcnJheVxuICAgICAgLmNvbmNhdChuZXcgQXJyYXkobmV3TGVuZ3RoKS5maWxsKDApKVxuICAgICAgLnNsaWNlKDAsIDYxKTsgLy8gZmlyc3QgMiBieXRlcyBhcmUgcmVzZXJ2ZWQsIGxhc3QgYnl0ZSBpcyBmb3Igc2xpcF9lbmRcblxuICAgIG1lc3NhZ2VBcnJheSA9IG1lc3NhZ2VBcnJheS5jb25jYXQoU2xpcENoYXIuU0xJUF9FTkQpO1xuXG4gICAgcmV0dXJuIG1lc3NhZ2VBcnJheTsgLy8gY29uZGVuc2UgaW50byBvbmUgbm9uLXR5cGVkIGFycmF5IGFuZCBhcHBlbmQgYSBTTElQX0VORCBjaGFyYWN0ZXJcbiAgfVxuXG4gIC8qKipcbiAgICogQ2FsY3VsYXRlcyBhbmQgcmV0dXJucyB0aGUgbGVuZ3RoIHRvdGFsIG9mIHRoZSBwYWNrZXQgYmVmb3JlIGFueSBTTElQIGhhcyBiZWVuIGFkZGVkLlxuICAgKi9cbiAgcHVibGljIGxlbmd0aCgpOiBudW1iZXIge1xuICAgIGxldCBsZW5ndGggPSAwO1xuICAgIGxlbmd0aCArPSB0aGlzLmdldEhlYWRlcigpLmxlbmd0aDtcblxuICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgcGF5bG9hZCBwYXJ0c1xuICAgIHRoaXMuZ2V0Rm9ybWF0dGVkUGF5bG9hZFBhcnRzKCkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGxlbmd0aCArPSBpdGVtLmxlbmd0aDtcbiAgICB9KTtcblxuICAgIHJldHVybiBsZW5ndGg7XG4gIH1cblxuICAvKioqXG4gICAqIFNldHMgYSBiaXQgaW4gdGhlIHJlcXVlc3RfdHlwZSBoZWFkZXIgYnl0ZS5cbiAgICogQHBhcmFtIGJpdFZhbHVlIFRoZSBiaXQgdG8gc2V0XG4gICAqL1xuICBwdWJsaWMgc2V0UmVxdWVzdEJpdChiaXRWYWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5yZXF1ZXN0X3R5cGUgfD0gYml0VmFsdWU7XG4gIH1cblxuICAvKioqXG4gICAqIENsZWFycyBhIGdpdmVuIGJpdCBpbiB0aGUgcmVxdWVzdF90eXBlIGhlYWRlciBieXRlLlxuICAgKiBAcGFyYW0gYml0VmFsdWUgVGhlIGJpdCB0byBjbGVhclxuICAgKi9cbiAgcHVibGljIGNsZWFyUmVxdWVzdEJpdChiaXRWYWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5yZXF1ZXN0X3R5cGUgJj0gfmJpdFZhbHVlO1xuICB9XG5cbiAgLyoqKlxuICAgKiBNb2RpZmllcyB0aGUgU2VyaWFsUGFja2V0IHRvIHJldHVybiBhbiBlcnJvciBzdGF0dXMgYnkgY2xlYXJpbmcgYW55IHByZXZpb3VzbHkgc2V0IHN0YXR1cyBmbGFnc1xuICAgKiB3aGlsZSByZXRhaW5pbmcgdGhlIHJlcXVlc3QgdHlwZSAoZS5nLiBSRVNULCBoZWxsbywgZXRjLilcbiAgICovXG4gIHB1YmxpYyBjbGVhckFuZEVycm9yKGVycm9yTWVzc2FnZT86IHN0cmluZyk6IFNlcmlhbFBhY2tldCB7XG4gICAgLy8gc2V0IHN0YXR1cyBjb2RlIHRvIFJFUVVFU1RfU1RBVFVTX0VSUk9SXG4gICAgdGhpcy5zZXRSZXF1ZXN0Qml0KFJlcXVlc3RTdGF0dXMuUkVRVUVTVF9TVEFUVVNfT0spOyAvL0ZJWE1FOiBUaGUgUHl0aG9uIGh1YiB1c2VzIFJFUVVFU1RfU1RBVFVTX09LIHRvIHJlcGx5IHdpdGggYW4gZXJyb3JcbiAgICAvL3RoaXMuc2V0UmVxdWVzdEJpdChSZXF1ZXN0U3RhdHVzLlJFUVVFU1RfU1RBVFVTX0VSUk9SKTsgLy9GSVhNRTogVGhlIFB5dGhvbiBodWIgdXNlcyBSRVFVRVNUX1NUQVRVU19PSyB0byByZXBseSB3aXRoIGFuIGVycm9yXG5cbiAgICAvLyBjbGVhciBwYXlsb2FkIGFuZCBhZGQgYW4gZXJyb3IgbWVzc2FnZSBpZiBuZWNlc3NhcnlcbiAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICAvLyBhcHBlbmQgb2sgZm9yIHdlYmh1YlxuICAgIHRoaXMuYXBwZW5kKDApO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKioqXG4gICAqIEFwcGVuZHMgYSB2YXJpYWJsZSBvbnRvIHRoZSBlbmQgb2YgdGhlIHBheWxvYWQuXG4gICAqXG4gICAqIEBwYXJhbSB2YXJpYWJsZSBUaGUgdmFyaWFibGUgdG8gYWRkIHRvIHRoZSBTZXJpYWxQYWNrZXQgcGF5bG9hZFxuICAgKi9cbiAgcHVibGljIGFwcGVuZCh2YXJpYWJsZTogYW55KSB7XG4gICAgdGhpcy5wYXlsb2FkLnB1c2godmFyaWFibGUpO1xuICB9XG5cbiAgLyoqKlxuICAgKiBSZW1vdmVzIGFuIGVsZW1lbnQgZnJvbSB0aGUgcGF5bG9hZCBhdCBhIGdpdmVuIGluZGV4LlxuICAgKlxuICAgKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIHZhcmlhYmxlIHRvIHJlbW92ZVxuICAgKi9cbiAgcHVibGljIHJlbW92ZShpbmRleDogbnVtYmVyKSB7XG4gICAgdGhpcy5wYXlsb2FkID0gdGhpcy5wYXlsb2FkXG4gICAgICAuc2xpY2UoMCwgaW5kZXgpXG4gICAgICAuY29uY2F0KHRoaXMucGF5bG9hZC5zbGljZShpbmRleCArIDEpKTtcbiAgfVxuXG4gIC8qKipcbiAgICogUmV0dXJucyBhIHBheWxvYWQgdmFyaWFibGUgYXQgYSBnaXZlbiBpbmRleC5cbiAgICpcbiAgICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSB2YXJpYWJsZVxuICAgKiBAcmV0dXJuIFRoZSBlbGVtZW50IGZyb20gdGhlIHBheWxvYWQgYXQgaW5kZXhcbiAgICovXG4gIHB1YmxpYyBnZXQoaW5kZXg6IG51bWJlcik6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMucGF5bG9hZFtpbmRleF07XG4gIH1cblxuICBwdWJsaWMgY2xlYXIoKSB7XG4gICAgdGhpcy5wYXlsb2FkID0gW107XG4gIH1cblxuICBwcml2YXRlIGRlY29kZShyYXdQYXlsb2FkOiBudW1iZXJbXSkge1xuICAgIGlmIChyYXdQYXlsb2FkLmxlbmd0aCA9PSAwKSByZXR1cm47XG5cbiAgICBsZXQgZGF0YTogYW55O1xuICAgIGxldCBvZmZzZXQgPSAwO1xuXG4gICAgLy8gZ3JhYiBzdWJ0eXBlIGFuZCB0aGUgcmVtYWluZGVyIG9mIHRoZSBwYWNrZXRcbiAgICBsZXQgc3VidHlwZSA9IGJ1ZmZlcnBhY2sudW5wYWNrKCdiJywgcmF3UGF5bG9hZCwgMCk7XG4gICAgbGV0IHJlbWFpbmRlciA9IHJhd1BheWxvYWQuc2xpY2UoMSk7XG5cbiAgICAvLyBjb21wYXJlIGFnYWluc3QgZWFjaCBzdWJ0eXBlIGFuZCBwcm9jZXNzIHRoZSBkYXRhIGFjY29yZGluZ2x5XG4gICAgaWYgKHN1YnR5cGUgJiBTdWJUeXBlLlNVQlRZUEVfU1RSSU5HKSB7XG4gICAgICBkYXRhID0gJyc7XG4gICAgICAvLyBsb29wIHRocm91Z2ggYWxsIGNoYXJhY3RlcnMgb2YgdGhlIHN0cmluZ1xuICAgICAgZm9yIChsZXQgYyBpbiByZW1haW5kZXIpIHtcbiAgICAgICAgaWYgKFN0cmluZy5mcm9tQ2hhckNvZGUocmVtYWluZGVyW2NdKSA9PSAnXFwwJylcbiAgICAgICAgICAvLyBpZiB3ZSBmaW5kIGEgdGVybWluYXRpbmcgY2hhcmFjdGVyLCBzdG9wXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRhdGEgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShyZW1haW5kZXJbY10pOyAvLyBhZGQgdGhlIGNoYXJhY3RlciB0byB0aGUgZGF0YVxuICAgICAgfVxuICAgICAgb2Zmc2V0ID0gZGF0YS5sZW5ndGggKyAxOyAvLyBzdHJpbmcgaXMgbiArIDEgYnl0ZXMgKCsxIGZvciB0ZXJtaW5hdGluZyBjaGFyKVxuICAgIH0gZWxzZSBpZiAoc3VidHlwZSAmIFN1YlR5cGUuU1VCVFlQRV9JTlQpIHtcbiAgICAgIGRhdGEgPSBidWZmZXJwYWNrPy51bnBhY2soJzxpJywgcmVtYWluZGVyKT8uWzBdOyAvL0ZJWE1FOiBUaGlzIHNlZW1zIHRvIHJldHVybiBpbmNvcnJlY3QgdmFsdWVzIChiaWcvbGl0dGxlIGVuZGlhbj8pXG4gICAgICBvZmZzZXQgPSA0OyAvLyBpbnRlZ2VyIGlzIDQgYnl0ZXNcbiAgICB9IGVsc2UgaWYgKHN1YnR5cGUgJiBTdWJUeXBlLlNVQlRZUEVfRkxPQVQpIHtcbiAgICAgIGRhdGEgPSBidWZmZXJwYWNrPy51bnBhY2soJzxmJywgcmVtYWluZGVyKT8uWzBdO1xuICAgICAgb2Zmc2V0ID0gNDsgLy8gZmxvYXQgaXMgNCBieXRlc1xuICAgIH1cblxuICAgIHRoaXMucGF5bG9hZC5wdXNoKGRhdGEpOyAvLyBwcm9jZXNzIGxhc3QgYml0IG9mIHBheWxvYWQgdGhhdCB3YXNuJ3QgY292ZXJlZCBieSB0aGUgbG9vcFxuICAgIHRoaXMuZGVjb2RlKHJlbWFpbmRlci5zbGljZShvZmZzZXQpKTtcbiAgfVxuXG4gIC8qKipcbiAgICogQ29udmVydHMgcmF3IGRhdGEgaW50byBhIFNlcmlhbFBhY2tldCBmb3IgZWFzeSBwcm9jZXNzaW5nLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSBSYXcgc2VyaWFsIGRhdGEgY29taW5nIGZyb20gdGhlIGJyaWRnaW5nIG1pY3JvOmJpdFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBkYXRhVG9TZXJpYWxQYWNrZXQoZGF0YTogc3RyaW5nKTogU2VyaWFsUGFja2V0IHtcbiAgICBsZXQgYnl0ZXMgPSBbXTtcbiAgICBsZXQgcGF5bG9hZDogYW55W107XG4gICAgbGV0IGhlYWRlcjogYW55W107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgYnl0ZXMucHVzaChkYXRhLmNoYXJDb2RlQXQoaSkpO1xuICAgIH1cbiAgICAvLyBidWZmZXJwYWNrLnVucGFjayBoZWFkZXIgdXNpbmcgaGVhZGVyIHN0cnVjdHVyZVxuICAgIGhlYWRlciA9IGJ1ZmZlcnBhY2sudW5wYWNrKEhFQURFUl9TVFJVQ1RVUkUsIGJ5dGVzLnNsaWNlKDAsIEhFQURFUl9MRU5HVEgpKTtcbiAgICBwYXlsb2FkID0gYnl0ZXMuc2xpY2UoSEVBREVSX0xFTkdUSCk7XG5cbiAgICAvLyBjcmVhdGUgcGFja2V0IHVzaW5nIHRoZSBoZWFkZXIgYnl0ZXMgYW5kIHRoZSBwYXlsb2FkIGRhdGFcbiAgICByZXR1cm4gbmV3IFNlcmlhbFBhY2tldChcbiAgICAgIGhlYWRlclswXSxcbiAgICAgIGhlYWRlclsxXSxcbiAgICAgIGhlYWRlclsyXSxcbiAgICAgIGhlYWRlclszXSxcbiAgICAgIHBheWxvYWRcbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBqc3BhdGggZnJvbSAnanNwYXRoJztcbmltcG9ydCB7IFJlcXVlc3RTdGF0dXMsIFJlcXVlc3RUeXBlLCBTZXJpYWxQYWNrZXQgfSBmcm9tICcuL1NlcmlhbFBhY2tldCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuLi9saWJzL2xvZ2dlcic7XG5pbXBvcnQgeyByZWNlaXZlZEhlbGxvUGFja2FnZSB9IGZyb20gJy4vUGFja2V0JztcbmltcG9ydCB7IGhpc3RvcnlNc2cgfSBmcm9tICcuL0RlYnVnJztcblxuY29uc3QgRmlsdGVyVHlwZSA9IHtcbiAgJzAnOiAnY2l0eScsXG4gICcxJzogJ3Bvc3Rjb2RlJ1xufTtcblxuZXhwb3J0IGNsYXNzIFJlcXVlc3RIYW5kbGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSB0cmFuc2xhdGlvbnM7XG4gIHByaXZhdGUgcmVhZG9ubHkgaHViX3ZhcmlhYmxlcztcblxuICBjb25zdHJ1Y3RvcihodWJfdmFyaWFibGVzOiB7fSkge1xuICAgIHRoaXMudHJhbnNsYXRpb25zID0gaHViX3ZhcmlhYmxlc1sndHJhbnNsYXRpb25zJ11bJ2pzb24nXTsgLy8gZ3JhYiB0aGUgdHJhbnNsYXRpb25zIHBhcnQgZm9yIGVhc2llciBhY2Nlc3NcbiAgICB0aGlzLmh1Yl92YXJpYWJsZXMgPSBodWJfdmFyaWFibGVzO1xuICB9XG5cbiAgLyoqKlxuICAgKiBIYW5kbGVzIGFsbCByZXF1ZXN0cyBhbmQgZm9yd2FyZHMgdGhlIGNhbGxzIG9udG8gdGhlIGNvcnJlY3QgaGFuZGxlciBiYXNlZCBvbiB0aGUgcmVxdWVzdCB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0gc2VyaWFsUGFja2V0IEluY29taW5nIHNlcmlhbCBwYWNrZXQgKEFMTCBSRVFVRVNUUylcbiAgICovXG4gIHB1YmxpYyBhc3luYyBoYW5kbGVSZXF1ZXN0KFxuICAgIHNlcmlhbFBhY2tldDogU2VyaWFsUGFja2V0XG4gICk6IFByb21pc2U8U2VyaWFsUGFja2V0PiB7XG4gICAgLy8gaWYgSEVMTE8gcGFja2V0XG4gICAgaWYgKHNlcmlhbFBhY2tldC5yZXF1ZXN0X3R5cGUgPT09IFJlcXVlc3RUeXBlLlJFUVVFU1RfVFlQRV9IRUxMTykge1xuICAgICAgcmVjZWl2ZWRIZWxsb1BhY2thZ2UoKTtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmhhbmRsZUhlbGxvUGFja2V0KHNlcmlhbFBhY2tldCk7XG5cbiAgICAgIC8vIGlmIGEgUkVTVCByZXF1ZXN0XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHNlcmlhbFBhY2tldC5nZXRSZXFSZXMoKSAmXG4gICAgICAoUmVxdWVzdFR5cGUuUkVRVUVTVF9UWVBFX0dFVF9SRVFVRVNUIHxcbiAgICAgICAgUmVxdWVzdFR5cGUuUkVRVUVTVF9UWVBFX1BPU1RfUkVRVUVTVClcbiAgICApIHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmhhbmRsZVJFU1RSZXF1ZXN0KHNlcmlhbFBhY2tldCk7XG5cbiAgICAgIC8vIGlmIGEgQ0xPVUQgdmFyaWFibGVcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgc2VyaWFsUGFja2V0LmdldFJlcVJlcygpICYgUmVxdWVzdFR5cGUuUkVRVUVTVF9UWVBFX0NMT1VEX1ZBUklBQkxFXG4gICAgKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5oYW5kbGVDbG91ZFZhcmlhYmxlKHNlcmlhbFBhY2tldCk7XG5cbiAgICAgIC8vIGlmIGEgQlJPQURDQVNUIHJlcXVlc3RcbiAgICB9IGVsc2UgaWYgKHNlcmlhbFBhY2tldC5nZXRSZXFSZXMoKSAmIFJlcXVlc3RUeXBlLlJFUVVFU1RfVFlQRV9CUk9BRENBU1QpIHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmhhbmRsZUJyb2FkY2FzdChzZXJpYWxQYWNrZXQpO1xuICAgIH1cblxuICAgIC8vIGlmIGFueSBvdGhlciByZXF1ZXN0IHR5cGUgd2FzIGZvdW5kLCByZWplY3QgaXQgYXMgdW5yZWNvZ25pc2VkXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHJlamVjdChgVW5yZWNvZ25pc2VkIHBhY2tldCB0eXBlICgke3NlcmlhbFBhY2tldC5nZXRSZXFSZXMoKX0pYCk7XG4gICAgfSk7XG4gIH1cblxuICAvKioqXG4gICAqIE1hcHMgYSBtaWNybzpiaXQgcXVlcnkgc3RyaW5nIHRvIGEgZGVmaW5lZCBxdWVyeSBzdHJpbmcgZm9ybWF0IGFuZCByZXR1cm5zXG4gICAqIGl0IGluIGEgbGlzdC5cbiAgICpcbiAgICogQHBhcmFtIHF1ZXJ5U3RyaW5nIFRoZSBzdHJpbmcgdG8gYmUgbWFwcGVkIChjb21lcyBmcm9tIHRoZSBtaWNybzpiaXQpXG4gICAqIEBwYXJhbSBxdWVyeVN0cmluZ0Zvcm1hdCBUaGUgc3RyaW5nIGZvcm1hdCAoY29tZXMgZnJvbSB0cmFuc2xhdGlvbnMuanNvbilcbiAgICovXG4gIHByaXZhdGUgbWFwUXVlcnlTdHJpbmcocXVlcnlTdHJpbmc6IHN0cmluZywgcXVlcnlTdHJpbmdGb3JtYXQ6IHN0cmluZykge1xuICAgIGxldCBmb3JtYXRQaWVjZXMgPSBxdWVyeVN0cmluZ0Zvcm1hdC5zcGxpdCgnLycpLmZpbHRlcih4ID0+IHgpO1xuICAgIGxldCBxdWVyeVBpZWNlcyA9IHF1ZXJ5U3RyaW5nLnNwbGl0KCcvJykuZmlsdGVyKHggPT4geCk7XG4gICAgbGV0IHJvb3QgPSBxdWVyeVBpZWNlc1swXTtcbiAgICBsZXQgcmVnZXhwID0gbmV3IFJlZ0V4cCgnJSguKiklJyk7IC8vIHJlZ2V4IHRoYXQgd2lsbCBmaW5kIGFsbCAlc3RyaW5ncyVcbiAgICBsZXQgb3V0ID0gW107XG5cbiAgICBvdXRbJ3NlcnZpY2UnXSA9IHJvb3Q7IC8vIHNldCB0aGUgc2VydmljZSB3ZSBhcmUgdXNpbmcgdG8gdGhlIGZpcnN0IGVsZW1lbnQgKGUuZy4gY2FyYm9uLCBzaGFyZSwgZXRjLilcbiAgICBxdWVyeVBpZWNlcy5zaGlmdCgpOyAvLyBzaGlmdCBwaWVjZXMgb3ZlciBhZnRlciBnZXR0aW5nIHJvb3RcbiAgICByb290ID0gcXVlcnlQaWVjZXNbMF07IC8vIGdldCBmaXJzdCBwaWVjZVxuXG4gICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBwaWVjZXMgaW4gdGhlIHF1ZXJ5IGZvcm1hdCAoc3BsaXQgYnkgLylcbiAgICBmb3IgKGxldCBmb3JtYXQgb2YgZm9ybWF0UGllY2VzKSB7XG4gICAgICBsZXQgbmFtZSA9IHJlZ2V4cC5leGVjKGZvcm1hdCk7XG4gICAgICBsZXQga2V5ID0gbmFtZVsxXTtcblxuICAgICAgLy8gaWYgaXQgaXMgYW4gb3B0aW9uYWwgYXR0cmlidXRlXG4gICAgICBpZiAoa2V5W2tleS5sZW5ndGggLSAxXSA9PSAnPycpIHtcbiAgICAgICAgaWYgKHJvb3QgPT0gJycpIGJyZWFrO1xuXG4gICAgICAgIGtleSA9IGtleS5zdWJzdHIoMCwga2V5Lmxlbmd0aCAtIDEpOyAvLyByZW1vdmUgdGhlID8gZnJvbSB0aGUgYXR0cmlidXRlIG5hbWVcbiAgICAgIH1cbiAgICAgIG91dFtrZXldID0gcm9vdDsgLy8gc2V0IHRoZSBrZXkgYW5kIHZhbHVlIGluIHRoZSBvdXRwdXQgbGlzdFxuXG4gICAgICBpZiAocXVlcnlQaWVjZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgcm9vdCA9ICcnO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgcXVlcnlQaWVjZXMuc2hpZnQoKTtcbiAgICAgIHJvb3QgPSBxdWVyeVBpZWNlc1swXTsgLy8gc2V0IHRoZSByb290IHRvIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICBwcml2YXRlIHByb2Nlc3NSRVNUUmVxdWVzdChcbiAgICBzZXJpYWxQYWNrZXQ6IFNlcmlhbFBhY2tldCxcbiAgICByZXNwb25zZVBhY2tldDogU2VyaWFsUGFja2V0LFxuICAgIHRyYW5zbGF0aW9uOiBhbnlbXSxcbiAgICByZXF1ZXN0VHlwZTogc3RyaW5nXG4gICk6IFByb21pc2U8U2VyaWFsUGFja2V0PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIGdldHMgdGhlIGZvcm1hdCBmb3IgdGhlIG1pY3JvOmJpdCBxdWVyeSBzdHJpbmdcbiAgICAgIGxldCBtYlF1ZXJ5U3RyaW5nID0gdHJhbnNsYXRpb25bcmVxdWVzdFR5cGVdWydtaWNyb2JpdFF1ZXJ5U3RyaW5nJ107IC8vIGdldCBtaWNyb2JpdFF1ZXJ5U3RyaW5nIGZyb20gdHJhbnNsYXRpb25cblxuICAgICAgLy8gbWFwcyB0aGUgcXVlcnkgc3RyaW5nIGNvbWluZyBmcm9tIHRoZSBtaWNybzpiaXQgdG8gdGhlIHRyYW5zbGF0ZWQgZm9ybWF0XG4gICAgICBsZXQgcXVlcnlTdHJNYXAgPSB0aGlzLm1hcFF1ZXJ5U3RyaW5nKHNlcmlhbFBhY2tldC5nZXQoMCksIG1iUXVlcnlTdHJpbmcpO1xuXG4gICAgICAvLyBnZXRzIHRoZSBiYXNlVVJMIGZvciB0aGUgc3BlY2lmaWVkIHNlcnZpY2VcbiAgICAgIGxldCBiYXNlVVJMID0gdHJhbnNsYXRpb25bcmVxdWVzdFR5cGVdWydiYXNlVVJMJ107XG5cbiAgICAgIC8vIGdldHMgdGhlIGVuZHBvaW50IGpzb25cbiAgICAgIGxldCBlbmRwb2ludCA9IHF1ZXJ5U3RyTWFwWydlbmRwb2ludCddXG4gICAgICAgID8gdHJhbnNsYXRpb25bcmVxdWVzdFR5cGVdWydlbmRwb2ludCddW3F1ZXJ5U3RyTWFwWydlbmRwb2ludCddXVxuICAgICAgICA6IHt9O1xuXG4gICAgICAvLyBnZXRzIHRoZSBxdWVyeU9iamVjdCBmb3IgdGhlIHNwZWNpZmllZCBlbmRwb2ludFxuICAgICAgbGV0IHF1ZXJ5T2JqZWN0ID0gZW5kcG9pbnRbJ3F1ZXJ5T2JqZWN0J107XG4gICAgICAvLyBpZiB0aGVyZSB3YXMgbm8gcXVlcnkgb2JqZWN0LCBzZXQgaXQgdG8gYmxhbmtcbiAgICAgIGlmIChxdWVyeU9iamVjdCA9PSBudWxsKSBxdWVyeU9iamVjdCA9IFtdO1xuICAgICAgLy9jb25zb2xlLmxvZyhxdWVyeU9iamVjdCk7XG5cbiAgICAgIC8vIHJlZ2V4IGZvciBmaW5kaW5nIHVybCBwYXJ0cyAoZS5nLiBhcGlfZW5kcG9pbnQsIGV0YylcbiAgICAgIGxldCB1cmxQYXJ0O1xuICAgICAgbGV0IHJlZ2V4cCA9IG5ldyBSZWdFeHAoJyUoW14lXSopJScsICdnJyk7IC8vXCIoPz1cXFxcdyolKSUqXFxcXHcrJSpcIik7XG4gICAgICBsZXQgbmV3VVJMID0gYmFzZVVSTDtcblxuICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBVUkwgYW5kIHJlcGxhY2UgYW55ICUgc3Vycm91bmRlZCB1cmwgcGFydHMgd2l0aCB0aGVpciBxdWVyeU9iamVjdCBjb3VudGVycGFydHNcbiAgICAgIHdoaWxlICgodXJsUGFydCA9IHJlZ2V4cC5leGVjKGJhc2VVUkwpKSAhPT0gbnVsbCkge1xuICAgICAgICAvLyBncmFiIHRoZSBkZWZhdWx0IHBhcmFtZXRlciBmcm9tIHRoZSBVUkxcbiAgICAgICAgbGV0IHNlY3Rpb25QYXJ0cyA9IHVybFBhcnRbMV0uc3BsaXQoJz89Jyk7XG5cbiAgICAgICAgaWYgKHNlY3Rpb25QYXJ0c1swXSBpbiBxdWVyeU9iamVjdCkge1xuICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGEgcXVlcnlPYmplY3QgcGFydCwgcmVwbGFjZSBpdCB3aXRoIHRoZSB2YWx1ZVxuICAgICAgICAgIG5ld1VSTCA9IG5ld1VSTC5yZXBsYWNlKHVybFBhcnRbMF0sIHF1ZXJ5T2JqZWN0W3NlY3Rpb25QYXJ0c1swXV0pO1xuICAgICAgICB9IGVsc2UgaWYgKHNlY3Rpb25QYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBkZWZhdWx0LCBzZXQgaXQgdG8gaXRcbiAgICAgICAgICBuZXdVUkwgPSBuZXdVUkwucmVwbGFjZSh1cmxQYXJ0WzBdLCBzZWN0aW9uUGFydHNbMV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGlmIG5vbmUgb2YgdGhlIGFib3ZlLCByZXBsYWNlIHdpdGggbm90aGluZ1xuICAgICAgICAgIG5ld1VSTCA9IG5ld1VSTC5yZXBsYWNlKHVybFBhcnRbMF0sICcnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsb2dnZXIuZGVidWcoYFNlcnZpY2U6ICR7cXVlcnlTdHJNYXBbJ3NlcnZpY2UnXS50b1VwcGVyQ2FzZSgpfWApO1xuICAgICAgbG9nZ2VyLmRlYnVnKCdRdWVyeSBzdHJpbmcgbWFwJywgcXVlcnlTdHJNYXApO1xuXG4gICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGlvbihcbiAgICAgICAgcXVlcnlTdHJNYXAsXG4gICAgICAgIG5ld1VSTCxcbiAgICAgICAgZW5kcG9pbnQsXG4gICAgICAgIHJlc3BvbnNlUGFja2V0LFxuICAgICAgICBzZXJpYWxQYWNrZXQsXG4gICAgICAgIHJlcXVlc3RUeXBlXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihlKTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHJlamVjdCgnUkVTVCBSRVFVRVNUIEVSUk9SJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKioqXG4gICAqIEBwYXJhbSBxdWVyeVN0ck1hcFxuICAgKiBAcGFyYW0gdXJsXG4gICAqIEBwYXJhbSBlbmRwb2ludFxuICAgKiBAcGFyYW0gcmVzcG9uc2VQYWNrZXRcbiAgICogQHBhcmFtIHNlcmlhbFBhY2tldFxuICAgKiBAcGFyYW0gcmVxdWVzdFR5cGVcbiAgICovXG4gIHByaXZhdGUgdHJhbnNsYXRpb24oXG4gICAgcXVlcnlTdHJNYXA6IGFueVtdLFxuICAgIHVybDogc3RyaW5nLFxuICAgIGVuZHBvaW50OiBhbnlbXSxcbiAgICByZXNwb25zZVBhY2tldDogU2VyaWFsUGFja2V0LFxuICAgIHNlcmlhbFBhY2tldDogU2VyaWFsUGFja2V0LFxuICAgIHJlcXVlc3RUeXBlOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxTZXJpYWxQYWNrZXQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc3dpdGNoIChxdWVyeVN0ck1hcFsnc2VydmljZSddKSB7XG4gICAgICAgIGNhc2UgJ2VuZXJneSc6XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgbG9jYXRpb25fdWlkLFxuICAgICAgICAgICAgICBwZXJpb2RfdHlwZSxcbiAgICAgICAgICAgICAgcGVyaW9kc19hZ28sXG4gICAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgIH0gPSBxdWVyeVN0ck1hcCBhcyBhbnk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gdHlwZSA9PT0gJ2hzdCcgPyAndG90YWwnIDogJ2xpdmUnO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID1cbiAgICAgICAgICAgICAgdHlwZSA9PT0gJ2hzdCdcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgcGVyaW9kX3R5cGU6IGAke3BlcmlvZF90eXBlfXNgLFxuICAgICAgICAgICAgICAgICAgICBwZXJpb2RzX2FnbyxcbiAgICAgICAgICAgICAgICAgICAgdW5pdDogJ3dhdHRfaG91cidcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgdW5pdDogJ3dhdHQnXG4gICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBheGlvc1xuICAgICAgICAgICAgICAuZ2V0KGAke3VybH0vJHtyb3V0ZX1gLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICBsb2NhdGlvbl91aWQsXG4gICAgICAgICAgICAgICAgICBtZXRlcl90eXBlOiAnRUxFQ1RSSUNJVFknXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAudGhlbihzdWNjZXNzID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdWNjZXNzKTtcblxuICAgICAgICAgICAgICAgIGxldCBkYXRhID0gU3RyaW5nKFxuICAgICAgICAgICAgICAgICAganNwYXRoLmFwcGx5KGVuZHBvaW50Wydqc3BhdGgnXSwgc3VjY2Vzcy5kYXRhKVswXVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICByZXNwb25zZVBhY2tldC5hcHBlbmQoZGF0YSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZVBhY2tldCk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SJyArIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZWplY3QoJ0NPVUxEIE5PVCBHRVQgRU5FUkdZIFVTQUdFJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIHJlamVjdCgnQ09VTEQgTk9UIEdFVCBFTkVSR1kgVVNBR0UnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3dlYXRoZXInOlxuICAgICAgICAgIGNvbnN0IHsgZmlsdGVyLCBjb3VudHJ5IH0gPSBxdWVyeVN0ck1hcCBhcyBhbnk7XG4gICAgICAgICAgY29uc3QgZmlsdGVyX3R5cGUgPSBGaWx0ZXJUeXBlW3F1ZXJ5U3RyTWFwWydmaWx0ZXJfdHlwZSddXTtcblxuICAgICAgICAgIGF4aW9zXG4gICAgICAgICAgICAuZ2V0KHVybCwge1xuICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICAgICAgY291bnRyeSxcbiAgICAgICAgICAgICAgICBmaWx0ZXJfdHlwZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oc3VjY2VzcyA9PiB7XG4gICAgICAgICAgICAgIGxldCBkYXRhID0gU3RyaW5nKFxuICAgICAgICAgICAgICAgIGpzcGF0aC5hcHBseShlbmRwb2ludFsnanNwYXRoJ10sIHN1Y2Nlc3MuZGF0YSlbMF1cbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICByZXNwb25zZVBhY2tldC5hcHBlbmQoZGF0YSk7XG4gICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2VQYWNrZXQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicgKyBlcnJvcik7XG4gICAgICAgICAgICAgIHJlamVjdCgnQ09VTEQgTk9UIEdFVCBXRUFUSEVSJyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjYXJib24nOlxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBheGlvc1xuICAgICAgICAgICAgICAuZ2V0KGAke3VybH1gKVxuICAgICAgICAgICAgICAudGhlbihzdWNjZXNzID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9XG4gICAgICAgICAgICAgICAgICBxdWVyeVN0ck1hcFsnZW5kcG9pbnQnXSA9PSAnZ2VubWl4J1xuICAgICAgICAgICAgICAgICAgICA/IFN0cmluZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzcGF0aC5hcHBseShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnRbJ2pzcGF0aCddLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyV1bml0JScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlTdHJNYXBbJ3VuaXQnXVxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIClbMF1cbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIDogU3RyaW5nKGpzcGF0aC5hcHBseShlbmRwb2ludFsnanNwYXRoJ10sIHN1Y2Nlc3MuZGF0YSlbMF0pO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlUGFja2V0LmFwcGVuZChkYXRhKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlUGFja2V0KTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoJ0NPVUxEIE5PVCBHRVQgREFUQScpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZWplY3QoJ0NPVUxEIE5PVCBHRVQgREFUQScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWplY3QoYFVOS05PV04gU0VSVklDRSAke3F1ZXJ5U3RyTWFwWydzZXJ2aWNlJ119YCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKioqXG4gICAqIEhhbmRsZXMgUkVTVCByZXF1ZXN0cyBhbmQgZ2F0aGVycyB0aGUgY29ycmVjdCB0cmFuc2xhdGlvbnMgYW5kIGRhdGEgbmVlZGVkIHRvIHByb2Nlc3MgdGhlIFJFU1QgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHNlcmlhbFBhY2tldCBJbmNvbWluZyBzZXJpYWwgcGFja2V0IChSRVNUIFJFUVVFU1QpXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZVJFU1RSZXF1ZXN0KHNlcmlhbFBhY2tldDogU2VyaWFsUGFja2V0KTogUHJvbWlzZTxTZXJpYWxQYWNrZXQ+IHtcbiAgICBsb2dnZXIuZGVidWcoJ1JlY2VpdmVkIFJFU1QgcGFja2V0Jyk7XG4gICAgdHJ5IHtcbiAgICAgIGxldCByZXNwb25zZVBhY2tldCA9IG5ldyBTZXJpYWxQYWNrZXQoXG4gICAgICAgIHNlcmlhbFBhY2tldC5nZXRBcHBJRCgpLFxuICAgICAgICBzZXJpYWxQYWNrZXQuZ2V0TmFtZXNwYWNlSUQoKSxcbiAgICAgICAgc2VyaWFsUGFja2V0LmdldFVJRCgpXG4gICAgICApO1xuICAgICAgbGV0IHF1ZXJ5UGllY2VzID0gc2VyaWFsUGFja2V0XG4gICAgICAgIC5nZXQoMClcbiAgICAgICAgLnNwbGl0KCcvJylcbiAgICAgICAgLmZpbHRlcih4ID0+IHgpO1xuICAgICAgbGV0IHJvb3QgPSBxdWVyeVBpZWNlc1swXTtcblxuICAgICAgcXVlcnlQaWVjZXMuc2hpZnQoKTsgLy8gc2hpZnQgcGllY2VzIG92ZXIgYWZ0ZXIgZ2V0dGluZyByb290XG5cbiAgICAgIC8vIGNoZWNrIGlmIHRoZSBlbmRwb2ludCBpcyBpbiB0aGUgdHJhbnNsYXRpb25zXG4gICAgICBpZiAoIShyb290IGluIHRoaXMudHJhbnNsYXRpb25zKSkge1xuICAgICAgICAvL1RPRE86IHV0aWxpc2UgcHJvbWlzZXMgbW9yZSBhbmQgcmVqZWN0IHRoZSBlcnJvcnMgaW5zdGVhZFxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIHJlamVjdChgSU5WQUxJRCBTRVJWSUNFICgke3Jvb3R9KWApO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gZ2V0IHRyYW5zbGF0aW9uIGZvciBlbmRwb2ludFxuICAgICAgbGV0IHRyYW5zbGF0aW9uID0gdGhpcy50cmFuc2xhdGlvbnNbcm9vdF07XG4gICAgICBsZXQgcmVxdWVzdFR5cGU7XG5cbiAgICAgIC8vIGRlY29kZSByZXF1ZXN0IHR5cGUgKEdFVCBvciBQT1NUKVxuICAgICAgaWYgKHNlcmlhbFBhY2tldC5nZXRSZXFSZXMoKSAmIFJlcXVlc3RUeXBlLlJFUVVFU1RfVFlQRV9HRVRfUkVRVUVTVCkge1xuICAgICAgICByZXF1ZXN0VHlwZSA9ICdHRVQnO1xuICAgICAgICByZXNwb25zZVBhY2tldC5yZXF1ZXN0X3R5cGUgfD0gUmVxdWVzdFR5cGUuUkVRVUVTVF9UWVBFX0dFVF9SRVFVRVNUO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgc2VyaWFsUGFja2V0LmdldFJlcVJlcygpICYgUmVxdWVzdFR5cGUuUkVRVUVTVF9UWVBFX1BPU1RfUkVRVUVTVFxuICAgICAgKSB7XG4gICAgICAgIHJlcXVlc3RUeXBlID0gJ1BPU1QnO1xuICAgICAgICByZXNwb25zZVBhY2tldC5yZXF1ZXN0X3R5cGUgfD0gUmVxdWVzdFR5cGUuUkVRVUVTVF9UWVBFX1BPU1RfUkVRVUVTVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KCdJTlZBTElEIFJFUVVFU1QgVFlQRScpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1JFU1RSZXF1ZXN0KFxuICAgICAgICBzZXJpYWxQYWNrZXQsXG4gICAgICAgIHJlc3BvbnNlUGFja2V0LFxuICAgICAgICB0cmFuc2xhdGlvbixcbiAgICAgICAgcmVxdWVzdFR5cGVcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyLmVycm9yKGUpO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcmVqZWN0KCdSRVNUIFBBQ0tFVCBFUlJPUicpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqKlxuICAgKiBDdXJyZW50bHkgdW5pbXBsaW1lbnRlZC5cbiAgICogVE9ETzogSW1wbGVtZW50IGNsb3VkIHZhcmlhYmxlc1xuICAgKlxuICAgKiBAcGFyYW0gc2VyaWFsUGFja2V0IEluY29taW5nIHNlcmlhbCBwYWNrZXQgKENMT1VEIFZBUklBQkxFKVxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVDbG91ZFZhcmlhYmxlKFxuICAgIHNlcmlhbFBhY2tldDogU2VyaWFsUGFja2V0XG4gICk6IFByb21pc2U8U2VyaWFsUGFja2V0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHJlamVjdCgnQ0xPVUQgVU5JTVBMRU1FTlRFRCcpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqKlxuICAgKiBDdXJyZW50bHkgdW5pbXBsaW1lbnRlZC5cbiAgICogVE9ETzogSW1wbGVtZW50IGJyb2FkY2FzdFxuICAgKlxuICAgKiBAcGFyYW0gc2VyaWFsUGFja2V0IEluY29taW5nIHNlcmlhbCBwYWNrZXQgKENMT1VEIFZBUklBQkxFKVxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVCcm9hZGNhc3Qoc2VyaWFsUGFja2V0OiBTZXJpYWxQYWNrZXQpOiBQcm9taXNlPFNlcmlhbFBhY2tldD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZWplY3QoJ0JST0FEQ0FTVCBVTklNUExFTUVOVEVEJyk7XG4gICAgfSk7XG4gIH1cblxuICAvKioqXG4gICAqIEhhbmRsZXMgdGhlIEhlbGxvIHBhY2tldCB0aGF0IGlzIHNlbnQgZnJvbSB0aGUgYnJpZGdpbmcgbWljcm86Yml0IHVwb24gaW5pdGlhbGlzZWQgY29ubmVjdGlvbi5cbiAgICogQW4gXCJPS1wiIHJlc3BvbnNlIGlzIHJldHVybmVkLlxuICAgKlxuICAgKiBAcGFyYW0gc2VyaWFsUGFja2V0IEluY29taW5nIHNlcmlhbCBwYWNrZXQgKEhFTExPIFBBQ0tFVClcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlSGVsbG9QYWNrZXQoc2VyaWFsUGFja2V0OiBTZXJpYWxQYWNrZXQpOiBQcm9taXNlPFNlcmlhbFBhY2tldD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsb2dnZXIuZGVidWcoYFJlY2VpdmVkIEhFTExPIFBBQ0tFVGApO1xuICAgICAgbG9nZ2VyLmRlYnVnKFxuICAgICAgICBgU2Nob29sX0lEOiAke3NlcmlhbFBhY2tldC5nZXQoMSl9IGh1Yl9pZDogJHtzZXJpYWxQYWNrZXQuZ2V0KDIpfWBcbiAgICAgICk7XG5cbiAgICAgIGhpc3RvcnlNc2coJ1JlY2VpdmVkIEhFTExPIFBBQ0tFVCcpO1xuICAgICAgaGlzdG9yeU1zZyhcbiAgICAgICAgYFNjaG9vbF9JRDogJHtzZXJpYWxQYWNrZXQuZ2V0KDEpfSBodWJfaWQ6ICR7c2VyaWFsUGFja2V0LmdldCgyKX1gXG4gICAgICApO1xuXG4gICAgICBsZXQgcmVzcG9uc2VQYWNrZXQgPSBuZXcgU2VyaWFsUGFja2V0KFxuICAgICAgICBzZXJpYWxQYWNrZXQuZ2V0QXBwSUQoKSxcbiAgICAgICAgc2VyaWFsUGFja2V0LmdldE5hbWVzcGFjZUlEKCksXG4gICAgICAgIHNlcmlhbFBhY2tldC5nZXRVSUQoKVxuICAgICAgKTtcblxuICAgICAgLy8gaWYgdGhlIHNjaG9vbCBJRCBpcyBibGFua1xuICAgICAgaWYgKCFzZXJpYWxQYWNrZXQuZ2V0KDEpKSB7XG4gICAgICAgIHJlamVjdCgnQkFEIFNDSE9PTCBJRCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHRoZSBodWIgSUQgaXMgYmxhbmtcbiAgICAgIGlmICghc2VyaWFsUGFja2V0LmdldCgxKSkge1xuICAgICAgICByZWplY3QoJ0JBRCBIVUIgSUQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgaHViIHZhcmlhYmxlcyBwaV9pZCBhbmQgc2Nob29sX2lkIHRvIHRydWVcbiAgICAgIHRoaXMuaHViX3ZhcmlhYmxlc1snY3JlZGVudGlhbHMnXVsnc2Nob29sX2lkJ10gPSBzZXJpYWxQYWNrZXQuZ2V0KDEpO1xuICAgICAgdGhpcy5odWJfdmFyaWFibGVzWydjcmVkZW50aWFscyddWydwaV9pZCddID0gc2VyaWFsUGFja2V0LmdldCgyKTtcblxuICAgICAgLy8gc2V0IHJlcXVlc3QgdHlwZSB0byBoZWxsbyBhbmQgc3RhdHVzIHRvIE9LXG4gICAgICByZXNwb25zZVBhY2tldC5zZXRSZXF1ZXN0Qml0KFJlcXVlc3RUeXBlLlJFUVVFU1RfVFlQRV9IRUxMTyk7XG4gICAgICByZXNwb25zZVBhY2tldC5zZXRSZXF1ZXN0Qml0KFJlcXVlc3RTdGF0dXMuUkVRVUVTVF9TVEFUVVNfT0spO1xuICAgICAgcmVzcG9uc2VQYWNrZXQuYXBwZW5kKDApOyAvLyBhcHBlbmQgYSAwIGZvciBPS1xuXG4gICAgICByZXNvbHZlKHJlc3BvbnNlUGFja2V0KTsgLy8gcmVzb2x2ZSB0aGUgcmVzcG9uc2UgcGFja2V0IHRvIGJlIHNlbnQgdG8gdGhlIGJyaWRnZSBtaWNybzpiaXRcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGludGVyZmFjZSBQYWNrZXQge1xuICBhcHBfaWQ6IG51bWJlcjtcbiAgbmFtZXNwYWNlX2lkOiBudW1iZXI7XG4gIHVpZDogbnVtYmVyO1xuICByZXF1ZXN0X3R5cGU/OiBudW1iZXI7XG4gIHJlc3BvbnNlX3R5cGU/OiBudW1iZXI7XG4gIHBheWxvYWQ6IGFueVtdO1xuXG4gIGdldEFwcElEKCk6IG51bWJlcjtcbiAgZ2V0TmFtZXNwYWNlSUQoKTogbnVtYmVyO1xuICBnZXRVSUQoKTogbnVtYmVyO1xuICBnZXRSZXFSZXMoKTogbnVtYmVyO1xuICBnZXRIZWFkZXIoKTogbnVtYmVyW107XG4gIGdldFBheWxvYWQoKTogbnVtYmVyW107XG4gIGdldEZvcm1hdHRlZFBheWxvYWRQYXJ0cygpOiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlY2VpdmVkSGVsbG9QYWNrYWdlKCkge1xuICBjb25zdCBoZWxsb1BhY2thZ2VSZWNlaXZlZCA9IG5ldyBFdmVudCgnaGVsbG9QYWNrYWdlUmVjZWl2ZWQnKTtcblxuICB3aW5kb3cuZGlzcGF0Y2hFdmVudChoZWxsb1BhY2thZ2VSZWNlaXZlZCk7XG59XG4iLCJpbXBvcnQgeyBEQVBMaW5rIH0gZnJvbSAnZGFwanMnO1xuaW1wb3J0IHtcbiAgUmVxdWVzdFN0YXR1cyxcbiAgUmVxdWVzdFR5cGUsXG4gIFNlcmlhbFBhY2tldCxcbiAgU2xpcENoYXJcbn0gZnJvbSAnLi9TZXJpYWxQYWNrZXQnO1xuaW1wb3J0IHsgUmVxdWVzdEhhbmRsZXIgfSBmcm9tICcuL1JlcXVlc3RIYW5kbGVyJztcbmltcG9ydCB7IERFQlVHIH0gZnJvbSAnLi4vY29uc3RhbnRzL2NvbmZpZyc7XG5pbXBvcnQgeyB0ZXJtaW5hbE1zZyB9IGZyb20gJy4vRGVidWcnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuLi9saWJzL2xvZ2dlcic7XG5cbmV4cG9ydCBjbGFzcyBTZXJpYWxIYW5kbGVyIHtcbiAgcHJpdmF0ZSB0YXJnZXREZXZpY2U6IERBUExpbms7XG4gIHByaXZhdGUgYmF1ZDogbnVtYmVyO1xuICBwcml2YXRlIHJlYWRvbmx5IGh1YlZhcmlhYmxlczoge307XG4gIHByaXZhdGUgcGFja2V0Q291bnQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBpc1BhdXNlZDogYm9vbGVhbjtcblxuICAvKioqXG4gICAqIENyZWF0ZXMgYSBTZXJpYWxIYW5kbGVyIHdpdGggYSBjaG9zZW4gREFQTGluayB0YXJnZXQgYW5kIGEgYmF1ZCBnaXZlbiByYXRlLlxuICAgKlxuICAgKiBAcGFyYW0gdGFyZ2V0RGV2aWNlIERBUExpbmsgdGFyZ2V0IGRldmljZSB0byBjb25uZWN0IHRvXG4gICAqIEBwYXJhbSBodWJWYXJpYWJsZXMgVmFyaWFibGVzIHN0b3JlZCBmb3IgY29tbXVuaWNhdGlvbiBvZiB0aGUgaHViXG4gICAqIEBwYXJhbSBiYXVkIEJhdWQgcmF0ZSBvZiB0aGUgc2VyaWFsIGNvbW11bmljYXRpb24gKERlZmF1bHQ6IDExNTIwMClcbiAgICovXG4gIGNvbnN0cnVjdG9yKHRhcmdldERldmljZTogREFQTGluaywgaHViVmFyaWFibGVzOiB7fSwgYmF1ZCA9IDExNTIwMCkge1xuICAgIHRoaXMudGFyZ2V0RGV2aWNlID0gdGFyZ2V0RGV2aWNlO1xuICAgIHRoaXMuYmF1ZCA9IGJhdWQ7XG4gICAgdGhpcy5odWJWYXJpYWJsZXMgPSBodWJWYXJpYWJsZXM7XG4gICAgdGhpcy5wYWNrZXRDb3VudCA9IDA7XG4gICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5zZXR1cFNlcmlhbEhhbmRsZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyB3cml0ZShzZXJpYWxQYWNrZXQ6IFNlcmlhbFBhY2tldCkge1xuICAgIHRoaXMudGFyZ2V0RGV2aWNlLnN0b3BTZXJpYWxSZWFkKCk7XG4gICAgdGhpcy5wYXVzZSgpO1xuXG4gICAgYXdhaXQgdGhpcy5zZW5kU2VyaWFsUGFja2V0KHNlcmlhbFBhY2tldCk7XG5cbiAgICB0aGlzLnBsYXkoKTtcbiAgICB0aGlzLnRhcmdldERldmljZS5zdGFydFNlcmlhbFJlYWQodGhpcy5odWJWYXJpYWJsZXNbJ3NlcmlhbF9kZWxheSddKTtcbiAgfVxuXG4gIC8qKipcbiAgICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byB0aGUgREFQTGluayB0YXJnZXQgdG8gbGlzdGVuIHRvIHNlcmlhbCBldmVudHMgYW5kIHByb2Nlc3MgdGhlIGRhdGFcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgc2V0dXBTZXJpYWxIYW5kbGVyKCkge1xuICAgIHRoaXMudGFyZ2V0RGV2aWNlLm9uKERBUExpbmsuRVZFTlRfU0VSSUFMX0RBVEEsIGFzeW5jIHJhd19kYXRhID0+IHtcbiAgICAgIC8vIGlmIHNlcmlhbCBoYW5kbGluZyBpcyBwYXVzZWQsIGRvbnQgcGVyZm9ybSBhbnkgYWN0aW9uc1xuICAgICAgaWYgKHRoaXMuaXNQYXVzZWQpIHJldHVybjtcblxuICAgICAgaWYgKFxuICAgICAgICByYXdfZGF0YS5zZWFyY2goU3RyaW5nLmZyb21DaGFyQ29kZShTbGlwQ2hhci5TTElQX0VORCkpID09PSAtMSB8fFxuICAgICAgICByYXdfZGF0YS5jaGFyQ29kZUF0KDApICE9PSAwXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBERUFMIHdpdGggU0xJUCBDaGFyc1xuICAgICAgbGV0IGRhdGEgPSAnJztcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXdfZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgYyA9IHJhd19kYXRhLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgaWYgKGMgPT09IFNsaXBDaGFyLlNMSVBfRU5EKSB7XG4gICAgICAgICAgZGF0YSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPT09IFNsaXBDaGFyLlNMSVBfRVNDKSB7XG4gICAgICAgICAgbGV0IG5leHQgPSByYXdfZGF0YS5jaGFyQ29kZUF0KGkgKyAxKTtcblxuICAgICAgICAgIGlmIChuZXh0ID09PSBTbGlwQ2hhci5TTElQX0VTQ19FTkQpIHtcbiAgICAgICAgICAgIGRhdGEgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShTbGlwQ2hhci5TTElQX0VORCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChuZXh0ID09PSBTbGlwQ2hhci5TTElQX0VTQ19FU0MpIHtcbiAgICAgICAgICAgIGRhdGEgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShTbGlwQ2hhci5TTElQX0VTQyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgICAgIGRhdGEgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShuZXh0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpICs9IDE7XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wYWNrZXRDb3VudCsrO1xuICAgICAgdGVybWluYWxNc2coYFBhY2tldCBjb3VudDogJHt0aGlzLnBhY2tldENvdW50fWApO1xuICAgICAgbG9nZ2VyLmRlYnVnKGBQYWNrZXQgY291bnQ6ICR7dGhpcy5wYWNrZXRDb3VudH1gKTtcblxuICAgICAgbGV0IHNlcmlhbFBhY2tldDogU2VyaWFsUGFja2V0O1xuXG4gICAgICB0cnkge1xuICAgICAgICBsZXQgcmVxdWVzdEhhbmRsZXIgPSBuZXcgUmVxdWVzdEhhbmRsZXIodGhpcy5odWJWYXJpYWJsZXMpOyAvLyBjcmVhdGUgYSBSZXF1ZXN0SGFuZGxlciB0byBoYW5kbGUgdGhpcyByZXF1ZXN0XG4gICAgICAgIHNlcmlhbFBhY2tldCA9IFNlcmlhbFBhY2tldC5kYXRhVG9TZXJpYWxQYWNrZXQoZGF0YSk7IC8vIGNvbnZlcnQgdGhlIGRhdGEgdG8gYSBTZXJpYWxQYWNrZXRcbiAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgbG9nZ2VyLmRlYnVnKCdJbnB1dCBQYWNrZXQ6JywgZGF0YSk7XG4gICAgICAgICAgdGVybWluYWxNc2coJ0lucHV0IFBhY2tldDogUkVDRUlWRUQnKTtcbiAgICAgICAgICBsZXQgcmF3UGFja2V0ID0gW107XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByYXdQYWNrZXQucHVzaChkYXRhLmNoYXJDb2RlQXQoaSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsb2dnZXIuZGVidWcoJ1NlcmlhbCBwYWNrZXQ6Jywgc2VyaWFsUGFja2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSB0aGUgcmVxdWVzdCBhbmQgYXdhaXQgdGhlIHByb21pc2VkIHJlc29sdmUgcGFja2V0IG9yIHJlYXNvbiBmb3IgZXJyb3JcbiAgICAgICAgbGV0IHJlc3BvbnNlUGFja2V0ID0gYXdhaXQgcmVxdWVzdEhhbmRsZXIuaGFuZGxlUmVxdWVzdChzZXJpYWxQYWNrZXQpO1xuICAgICAgICByZXNwb25zZVBhY2tldC5zZXRSZXF1ZXN0Qml0KFJlcXVlc3RTdGF0dXMuUkVRVUVTVF9TVEFUVVNfT0spO1xuICAgICAgICBhd2FpdCB0aGlzLndyaXRlKHJlc3BvbnNlUGFja2V0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGUpO1xuICAgICAgICAvLyBjbGVhciBhbGwgZGF0YSBmcm9tIGlucHV0IHBhY2tldCBhbmQgcmV0dXJuIGl0IGFzIGFuIGVycm9yIHBhY2tldFxuICAgICAgICBsZXQgcmVzcG9uc2VQYWNrZXQgPSBuZXcgU2VyaWFsUGFja2V0KFxuICAgICAgICAgIHNlcmlhbFBhY2tldC5nZXRBcHBJRCgpLFxuICAgICAgICAgIHNlcmlhbFBhY2tldC5nZXROYW1lc3BhY2VJRCgpLFxuICAgICAgICAgIHNlcmlhbFBhY2tldC5nZXRVSUQoKSxcbiAgICAgICAgICBzZXJpYWxQYWNrZXQuZ2V0UmVxUmVzKClcbiAgICAgICAgKTtcbiAgICAgICAgcmVzcG9uc2VQYWNrZXQuY2xlYXJBbmRFcnJvcignRVJST1InKTtcbiAgICAgICAgYXdhaXQgdGhpcy53cml0ZShyZXNwb25zZVBhY2tldCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKioqXG4gICAqIFNlbmRzIGEgU2VyaWFsUGFja2V0IHRvIHRoZSBkZXZpY2UgdmlhIHNlcmlhbCBjb21tdW5pY2F0aW9uIGluIHRoZSBjb3JyZWN0IGZvcm1hdCByZXF1aXJlZC5cbiAgICpcbiAgICogQHBhcmFtIHNlcmlhbFBhY2tldCBTZXJpYWwgcGFja2V0IHRvIHNlbmQgdG8gYnJpZGdlIG1pY3JvOmJpdFxuICAgKi9cbiAgcHVibGljIGFzeW5jIHNlbmRTZXJpYWxQYWNrZXQoc2VyaWFsUGFja2V0OiBTZXJpYWxQYWNrZXQpIHtcbiAgICBpZiAoREVCVUcpIHtcbiAgICAgIGxvZ2dlci5kZWJ1ZygnT3V0cHV0IFBhY2tldCAocmF3KTonLCBzZXJpYWxQYWNrZXQpO1xuICAgIH1cblxuICAgIGxldCBwYWNrZXQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLnNlcmlhbFBhY2tldC5nZXRGb3JtYXR0ZWRQYWNrZXQoKSk7XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMudGFyZ2V0RGV2aWNlLnNlcmlhbFdyaXRlKHBhY2tldCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyLmVycm9yKGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKipcbiAgICogU2VuZHMgYSBzYWQgZmFjZSB0byB0aGUgYnJpZGdlIG1pY3JvOmJpdFxuICAgKi9cbiAgcHVibGljIHNlbmRTYWRGYWNlKCkge1xuICAgIGxldCByZXNwb25zZVBhY2tldCA9IG5ldyBTZXJpYWxQYWNrZXQoXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICBSZXF1ZXN0VHlwZS5SRVFVRVNUX1RZUEVfSEVMTE9cbiAgICApO1xuICAgIHJlc3BvbnNlUGFja2V0LmFwcGVuZCgtMSk7XG4gICAgdGhpcy53cml0ZShyZXNwb25zZVBhY2tldCk7XG4gIH1cblxuICAvKioqXG4gICAqIFNlbmRzIGEgaGFwcHkgZmFjZSB0byB0aGUgYnJpZGdlIG1pY3JvOmJpdFxuICAgKi9cbiAgcHVibGljIHNlbmRIYXBweUZhY2UoKSB7XG4gICAgbGV0IHJlc3BvbnNlUGFja2V0ID0gbmV3IFNlcmlhbFBhY2tldChcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIFJlcXVlc3RUeXBlLlJFUVVFU1RfVFlQRV9IRUxMT1xuICAgICk7XG4gICAgcmVzcG9uc2VQYWNrZXQuYXBwZW5kKDApO1xuICAgIHRoaXMud3JpdGUocmVzcG9uc2VQYWNrZXQpO1xuICB9XG5cbiAgLyoqKlxuICAgKiBQYXVzZXMgdGhlIHNlcmlhbCBoYW5kbGVyIGZvciBvdGhlciBzZXJpYWwgY29tbXVuaWNhdGlvbiAoZS5nLiBmbGFzaGluZykuXG4gICAqL1xuICBwdWJsaWMgcGF1c2UoKSB7XG4gICAgdGhpcy5pc1BhdXNlZCA9IHRydWU7XG4gIH1cblxuICAvKioqXG4gICAqIFBhdXNlcyB0aGUgc2VyaWFsIGhhbmRsZXIgZm9yIG90aGVyIHNlcmlhbCBjb21tdW5pY2F0aW9uIChlLmcuIGZsYXNoaW5nKS5cbiAgICovXG4gIHB1YmxpYyBwbGF5KCkge1xuICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0Jztcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCAqIGFzIHNtaWxlSW1nIGZyb20gJy4uL2ltYWdlcy9taWNyb2JpdF9zbWlsZS5wbmcnO1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0ICogYXMgZmxhdEltZyBmcm9tICcuLi9pbWFnZXMvbWljcm9iaXRfcG9rZXIucG5nJztcbmltcG9ydCB7IHdpdGhTdHlsZXMsIFRoZW1lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcbmltcG9ydCB7IFdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XG5cbmNvbnN0IHN0eWxlcyA9ICh0aGVtZTogVGhlbWUpID0+ICh7XG4gIGltYWdlOiB7XG4gICAgbWFyZ2luVG9wOiA4MCxcbiAgICB3aWR0aDogNDAwLFxuICAgIFt0aGVtZS5icmVha3BvaW50cy5kb3duKCd4cycpXToge1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIG1hcmdpblRvcDogMTIwXG4gICAgfVxuICB9XG59KTtcblxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgV2l0aFN0eWxlczx0eXBlb2Ygc3R5bGVzPiB7XG4gIGlzU21pbGVGYWNlOiBib29sZWFuO1xufVxuXG5jb25zdCBXZWJodWJJbWFnZTogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHtcbiAgY2xhc3NlcyxcbiAgaXNTbWlsZUZhY2Vcbn0pID0+IHtcbiAgZnVuY3Rpb24gZ2V0SW1hZ2UoKSB7XG4gICAgaWYgKGlzU21pbGVGYWNlKSB7XG4gICAgICByZXR1cm4gc21pbGVJbWc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZsYXRJbWc7XG4gIH1cbiAgcmV0dXJuIDxpbWcgYWx0PVwiXCIgc3JjPXtnZXRJbWFnZSgpfSBjbGFzc05hbWU9e2NsYXNzZXMuaW1hZ2V9IC8+O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMpKFdlYmh1YkltYWdlKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRHJhd2VyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RyYXdlcic7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0J1dHRvbic7XG5pbXBvcnQgeyB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcbmltcG9ydCBDaGV2cm9uTGVmdCBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2hldnJvbkxlZnQnO1xuaW1wb3J0IENoZXZyb25SaWdodCBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2hldnJvblJpZ2h0JztcblxuY29uc3Qgc3R5bGVzID0gdGhlbWUgPT4gKHtcbiAgYnRuOiB7XG4gICAgcG9zaXRpb246ICdmaXhlZCcgYXMgJ2ZpeGVkJyxcbiAgICB6SW5kZXg6IDEwMCxcbiAgICB3aWR0aDogMzIwLFxuICAgIHRvcDogODAsXG4gICAgbGVmdDogMCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDE3N2M5JyxcbiAgICBjb2xvcjogJyNmZmYnLFxuICAgIHRyYW5zaXRpb246ICdhbGwgMjI1bXMgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSkgMG1zOycsXG4gICAgJyY6aG92ZXInOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDE3N2M5J1xuICAgIH1cbiAgfSxcbiAgcmlnaHQ6IHtcbiAgICByaWdodDogJy0xNzZweCcsXG4gICAgcGFkZGluZ0xlZnQ6IDI1LFxuICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcsXG4gICAgYm9yZGVyVG9wUmlnaHRSYWRpdXM6IDAsXG4gICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6IDAsXG4gICAgbGVmdDogJ3Vuc2V0JyxcblxuICAgICcmLm9wZW4nOiB7XG4gICAgICBib3JkZXJCb3R0b21MZWZ0UmFkaXVzOiAwLFxuICAgICAgcmlnaHQ6IDBcbiAgICB9LFxuXG4gICAgW3RoZW1lLmJyZWFrcG9pbnRzLmRvd24oJ3hzJyldOiB7XG4gICAgICByaWdodDogMCxcbiAgICAgIHdpZHRoOiAxNDRcbiAgICB9XG4gIH0sXG4gIGxlZnQ6IHtcbiAgICBsZWZ0OiAnLTE3NnB4JyxcbiAgICBwYWRkaW5nUmlnaHQ6IDI1LFxuICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgIGJvcmRlclRvcExlZnRSYWRpdXM6IDAsXG4gICAgYm9yZGVyQm90dG9tTGVmdFJhZGl1czogMCxcbiAgICByaWdodDogJ3Vuc2V0JyxcbiAgICAnJi5vcGVuJzoge1xuICAgICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6IDAsXG4gICAgICBsZWZ0OiAwXG4gICAgfSxcblxuICAgIFt0aGVtZS5icmVha3BvaW50cy5kb3duKCd4cycpXToge1xuICAgICAgbGVmdDogMCxcbiAgICAgIHdpZHRoOiAxNDRcbiAgICB9XG4gIH0sXG4gIHNpZGViYXI6IHtcbiAgICBwb3NpdGlvbjogJ3N0YXRpYyAhaW1wb3J0YW50JyBhcyAnc3RhdGljJyxcbiAgICAnJiAuTXVpQmFja2Ryb3Atcm9vdCc6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50J1xuICAgIH0sXG4gICAgJyYgLk11aVBhcGVyLXJvb3QnOiB7XG4gICAgICB3aWR0aDogMzE5LjUsXG4gICAgICBoZWlnaHQ6IDUyMCxcbiAgICAgIHpJbmRleDogOTksXG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyBhcyAnYm9yZGVyLWJveCcsXG4gICAgICBwYWRkaW5nOiAnNjBweCAyMHB4IDE1cHgnLFxuICAgICAgdG9wOiA4MCxcbiAgICAgIFt0aGVtZS5icmVha3BvaW50cy5kb3duKCd4cycpXToge1xuICAgICAgICB3aWR0aDogMTQ0XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxuY29uc3QgU2lkZWJhciA9ICh7IGRpcmVjdGlvbiwgY2xhc3NlcywgbGFiZWwsIG1lc3NhZ2VzIH0pID0+IHtcbiAgY29uc3QgW2lzT3BlbiwgdG9nZ2xlU2lkZWJhcl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHNpZGViYXIgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIGZ1bmN0aW9uIHRvZ2dsZURyYXdlcihvcGVuOiBib29sZWFuKSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRvZ2dsZVNpZGViYXIob3Blbik7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXtgJHtjbGFzc2VzLmJ0bn0gJHtcbiAgICAgICAgICBkaXJlY3Rpb24gPT09ICdyaWdodCcgPyBjbGFzc2VzLnJpZ2h0IDogY2xhc3Nlcy5sZWZ0XG4gICAgICAgIH0gJHtpc09wZW4gPyAnb3BlbicgOiAnY2xvc2UnfWB9XG4gICAgICAgIG9uQ2xpY2s9e3RvZ2dsZURyYXdlcighaXNPcGVuKX1cbiAgICAgID5cbiAgICAgICAge2RpcmVjdGlvbiA9PT0gJ3JpZ2h0JyAmJiBpc09wZW4gPyA8Q2hldnJvblJpZ2h0IC8+IDogPENoZXZyb25MZWZ0IC8+fVxuICAgICAgICB7bGFiZWx9XG4gICAgICAgIHtkaXJlY3Rpb24gPT09ICdsZWZ0JyAmJiBpc09wZW4gPyA8Q2hldnJvbkxlZnQgLz4gOiA8Q2hldnJvblJpZ2h0IC8+fVxuICAgICAgPC9CdXR0b24+XG4gICAgICA8RHJhd2VyXG4gICAgICAgIHJlZj17c2lkZWJhcn1cbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnNpZGViYXJ9XG4gICAgICAgIGFuY2hvcj17ZGlyZWN0aW9ufVxuICAgICAgICBvcGVuPXtpc09wZW59XG4gICAgICA+XG4gICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIGluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYCR7aW5kZXh9YDtcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8c3BhbiBrZXk9e2tleX0+XG4gICAgICAgICAgICAgIHttZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxIC0gaW5kZXhdfVxuICAgICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvRHJhd2VyPlxuICAgIDwvPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMpKFNpZGViYXIpO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1ha2VTdHlsZXMsIFRoZW1lLCBjcmVhdGVTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IENvbm5lY3Rpb25HSUYgZnJvbSAnLi4vaW1hZ2VzL2Nvbm5lY3Rpb24uZ2lmJztcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBGbGFzaCBmcm9tICcuLi9pbWFnZXMvZmxhc2guZ2lmJztcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBGbGFzaGluZyBmcm9tICcuLi9pbWFnZXMvZmxhc2hpbmcuZ2lmJztcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBBZnRlckZsYXNoIGZyb20gJy4uL2ltYWdlcy9hZnRlckZsYXNoLmdpZic7XG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgU21pbGVGYWNlIGZyb20gJy4uL2ltYWdlcy9zbWlsZUZhY2UuZ2lmJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgYWN0aXZlU3RlcDogbnVtYmVyO1xufVxuXG5jb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKCh0aGVtZTogVGhlbWUpID0+XG4gIGNyZWF0ZVN0eWxlcyh7XG4gICAgdHV0b3JpYWxJbWFnZToge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBiYWNrZ3JvdW5kOiAnI2ZmZicsXG4gICAgICB6SW5kZXg6IDIwMDAwMCxcbiAgICAgIHdpZHRoOiA0NTAsXG4gICAgICBoZWlnaHQ6IDMxNixcbiAgICAgIHRvcDogODMsXG4gICAgICBsZWZ0OiAnY2FsYyg1MCUgLSAyMjVweCknLFxuICAgICAgW3RoZW1lLmJyZWFrcG9pbnRzLmRvd24oJ3hzJyldOiB7XG4gICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgfVxuICAgIH0sXG4gICAgaW1hZ2U6IHtcbiAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICBtYXhIZWlnaHQ6ICcxMDAlJ1xuICAgIH1cbiAgfSlcbik7XG5cbmNvbnN0IFR1dG9yaWFsSW1hZ2U6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7IGFjdGl2ZVN0ZXAgfSkgPT4ge1xuICBjb25zdCBjbGFzc2VzID0gdXNlU3R5bGVzKHt9KTtcblxuICBmdW5jdGlvbiBnZXRJbWFnZVBhdGgoKSB7XG4gICAgc3dpdGNoIChhY3RpdmVTdGVwKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uR0lGO1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gRmxhc2g7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBGbGFzaGluZztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIEFmdGVyRmxhc2g7XG4gICAgICBjYXNlIDQ6XG4gICAgICAgIHJldHVybiBTbWlsZUZhY2U7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnR1dG9yaWFsSW1hZ2V9PlxuICAgICAgPGltZyBjbGFzc05hbWU9e2NsYXNzZXMuaW1hZ2V9IHNyYz17Z2V0SW1hZ2VQYXRoKCl9IGFsdD1cIlwiIC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUdXRvcmlhbEltYWdlO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgbWFrZVN0eWxlcyxcbiAgVGhlbWUsXG4gIGNyZWF0ZVN0eWxlcyxcbiAgd2l0aFN0eWxlc1xufSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgU3RlcHBlciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TdGVwcGVyJztcbmltcG9ydCBTdGVwIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1N0ZXAnO1xuaW1wb3J0IFN0ZXBMYWJlbCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TdGVwTGFiZWwnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XG5pbXBvcnQgVVNCSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvVXNiJztcbmltcG9ydCBGbGFzaEljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0ZsYXNoT24nO1xuaW1wb3J0IEh1Ykljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0RldmljZUh1Yic7XG5pbXBvcnQgU21pbGVJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9TZW50aW1lbnRTYXRpc2ZpZWRBbHQnO1xuaW1wb3J0IFN0ZXBDb25uZWN0b3IgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU3RlcENvbm5lY3Rvcic7XG5pbXBvcnQgeyBTdGVwSWNvblByb3BzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU3RlcEljb24nO1xuaW1wb3J0IFR1dG9yaWFsSW1hZ2UgZnJvbSAnLi9UdXRvcmlhbEltYWdlJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgb25UdXRvcmlhbENsb3NlOiAoKSA9PiB2b2lkO1xufVxuXG5jb25zdCBDb2xvcmxpYkNvbm5lY3RvciA9IHdpdGhTdHlsZXMoKHRoZW1lOiBUaGVtZSkgPT4gKHtcbiAgYWx0ZXJuYXRpdmVMYWJlbDoge1xuICAgIHRvcDogMjIsXG4gICAgW3RoZW1lLmJyZWFrcG9pbnRzLmRvd24oJ3hzJyldOiB7XG4gICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICB9XG4gIH0sXG4gIGFjdGl2ZToge1xuICAgICcmICRsaW5lJzoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwNzdjOSdcbiAgICB9XG4gIH0sXG4gIGNvbXBsZXRlZDoge1xuICAgICcmICRsaW5lJzoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwNzdjOSdcbiAgICB9XG4gIH0sXG4gIGxpbmU6IHtcbiAgICBoZWlnaHQ6IDMsXG4gICAgYm9yZGVyOiAwLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyNlYWVhZjAnLFxuICAgIGJvcmRlclJhZGl1czogMVxuICB9XG59KSkoU3RlcENvbm5lY3Rvcik7XG5cbmNvbnN0IHVzZUNvbG9ybGliU3RlcEljb25TdHlsZXMgPSBtYWtlU3R5bGVzKHtcbiAgcm9vdDoge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyNjY2MnLFxuICAgIHpJbmRleDogMSxcbiAgICBjb2xvcjogJyNmZmYnLFxuICAgIHdpZHRoOiA1MCxcbiAgICBoZWlnaHQ6IDUwLFxuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICB9LFxuICBhY3RpdmU6IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDA3N2M5JyxcbiAgICBib3hTaGFkb3c6ICcwIDRweCAxMHB4IDAgcmdiYSgwLDAsMCwuMjUpJ1xuICB9LFxuICBjb21wbGV0ZWQ6IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDA3N2M5J1xuICB9XG59KTtcblxuZnVuY3Rpb24gQ29sb3JsaWJTdGVwSWNvbihwcm9wczogU3RlcEljb25Qcm9wcykge1xuICBjb25zdCBjbGFzc2VzID0gdXNlQ29sb3JsaWJTdGVwSWNvblN0eWxlcyh7fSk7XG4gIGNvbnN0IHsgYWN0aXZlLCBjb21wbGV0ZWQgfSA9IHByb3BzO1xuXG4gIGNvbnN0IGljb25zOiB7IFtpbmRleDogc3RyaW5nXTogUmVhY3QuUmVhY3RFbGVtZW50IH0gPSB7XG4gICAgMTogPFVTQkljb24gLz4sXG4gICAgMjogPEZsYXNoSWNvbiAvPixcbiAgICAzOiA8Rmxhc2hJY29uIC8+LFxuICAgIDQ6IDxIdWJJY29uIC8+LFxuICAgIDU6IDxTbWlsZUljb24gLz5cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17Y2xzeChjbGFzc2VzLnJvb3QsIHtcbiAgICAgICAgW2NsYXNzZXMuYWN0aXZlXTogYWN0aXZlLFxuICAgICAgICBbY2xhc3Nlcy5jb21wbGV0ZWRdOiBjb21wbGV0ZWRcbiAgICAgIH0pfVxuICAgID5cbiAgICAgIHtpY29uc1tTdHJpbmcocHJvcHMuaWNvbildfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5jb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKCh0aGVtZTogVGhlbWUpID0+XG4gIGNyZWF0ZVN0eWxlcyh7XG4gICAgdHV0b3JpYWw6IHtcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgekluZGV4OiAxMDEsXG4gICAgICBtYXJnaW5Ub3A6IDY1LFxuICAgICAgW3RoZW1lLmJyZWFrcG9pbnRzLmRvd24oJ3hzJyldOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IDEwXG4gICAgICB9XG4gICAgfSxcbiAgICBvdmVybGF5OiB7XG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB6SW5kZXg6IDEwMCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC41KScsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgIFt0aGVtZS5icmVha3BvaW50cy5kb3duKCd4cycpXToge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInXG4gICAgICB9XG4gICAgfSxcbiAgICBoaWdobGl0ZWQ6IHtcbiAgICAgIHpJbmRleDogMjAwMDAsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICBbdGhlbWUuYnJlYWtwb2ludHMuZG93bigneHMnKV06IHtcbiAgICAgICAgekluZGV4OiAxXG4gICAgICB9XG4gICAgfSxcbiAgICB0ZXh0OiB7XG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInIGFzICdjZW50ZXInLFxuICAgICAgbWFyZ2luQm90dG9tOiA1MFxuICAgIH0sXG4gICAgYnV0dG9uOiB7XG4gICAgICBtYXJnaW5SaWdodDogdGhlbWUuc3BhY2luZygxKSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMTc3YzknLFxuICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgIHRyYW5zaXRpb246ICdhbGwgMjI1bXMgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSkgMG1zOycsXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAxNzdjOSdcbiAgICAgIH0sXG4gICAgICAnJjpkaXNhYmxlZCc6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZidcbiAgICAgIH1cbiAgICB9LFxuICAgIGluc3RydWN0aW9uczoge1xuICAgICAgbWFyZ2luVG9wOiB0aGVtZS5zcGFjaW5nKDEpLFxuICAgICAgbWFyZ2luQm90dG9tOiB0aGVtZS5zcGFjaW5nKDEpXG4gICAgfSxcbiAgICBzdGVwZXI6IHtcbiAgICAgIFt0aGVtZS5icmVha3BvaW50cy5kb3duKCd4cycpXToge1xuICAgICAgICBkaXNwbGF5OiAnYmxvY2snXG4gICAgICB9XG4gICAgfVxuICB9KVxuKTtcblxuZnVuY3Rpb24gZ2V0U3RlcHMoKSB7XG4gIHJldHVybiBbXG4gICAgJ0Nvbm5lY3QgbWljcm9iaXQgdG8geW91ciBjb21wdXRlcicsXG4gICAgJ0ZsYXNoIG1pY3JvYml0JyxcbiAgICAnV2FpdCBmb3IgZmxhc2hpbmcnLFxuICAgICdDb25uZWN0IHRvIE1pY3JvYml0JyxcbiAgICAnTWljcm9iaXQgaXMgcmVhZHkgZm9yIHVzYWdlJ1xuICBdO1xufVxuXG5mdW5jdGlvbiBnZXRTdGVwQ29udGVudChzdGVwOiBudW1iZXIpIHtcbiAgc3dpdGNoIChzdGVwKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuICdDb25uZWN0IGEgbWljcm9iaXQgKHYxIG9yIHYyKSB0byB5b3VyIGNvbXB1dGVyIHZpYSBVU0IuIElmIHlvdXIgbWljcm9iaXQgaXMgYWxyZWFkeSBmbGFzaGVkIHdpdGggaHViIHNvZnR3YXJlIHRoZW4geW91IGNhbiBza2lwIG5leHQgdHdvIHN0ZXBzJztcbiAgICBjYXNlIDE6XG4gICAgICByZXR1cm4gJ0NsaWNrIG9uIEZsYXNoIGJ1dHRvbjsgdGhlbiBzZWxlY3QgdGhlIG1pY3JvYml0IGZyb20gdGhlIHBvcCB1cCBtZW51IGFuZCBjbGljayBcIkNvbm5lY3RcIic7XG4gICAgY2FzZSAyOlxuICAgICAgcmV0dXJuICdXYWl0IGZvciBmbGFzaGluZyB0byBjb21wbGV0ZS4gV2hlbiBpdGBzIGZpbmlzaGVkIHlvdWBsbCBzZWUgYW4gdW5zbWlsaW5nIGZhY2UnO1xuICAgIGNhc2UgMzpcbiAgICAgIHJldHVybiAnQ2xpY2sgb24gXCJDb25uZWN0XCIgYnV0dG9uIGFuZCBzZWxlY3QgZmxhc2hlZCBtaWNyb2JpdCBmcm9tIHRoZSBwb3AtdXAgbWVudSBhbmQgXCJDb25uZWN0XCIuIFdhaXQgdW50aWwgeW91IHNlZSBhIHNtaWxleSBmYWNlIG9uIHlvdXIgbWljcm9iaXQnO1xuICAgIGNhc2UgNDpcbiAgICAgIHJldHVybiAnTWljcm9iaXQgaXMgcmVhZHkgZm9yIHVzYWdlIGFzIGh1Yic7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5jb25zdCBDdXN0b21pemVkU3RlcHBlcnM6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9ICh7XG4gIG9uVHV0b3JpYWxDbG9zZVxufSkgPT4ge1xuICBjb25zdCBjbGFzc2VzID0gdXNlU3R5bGVzKHt9KTtcbiAgY29uc3QgW2FjdGl2ZVN0ZXAsIHNldEFjdGl2ZVN0ZXBdID0gUmVhY3QudXNlU3RhdGUoMCk7XG4gIGNvbnN0IHN0ZXBzID0gZ2V0U3RlcHMoKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhY3RpdmVTdGVwID09PSA1KSB7XG4gICAgICBvblR1dG9yaWFsQ2xvc2UoKTtcbiAgICB9XG4gIH0sIFthY3RpdmVTdGVwXSk7XG5cbiAgY29uc3QgaGFuZGxlTmV4dCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRBY3RpdmVTdGVwKHByZXZBY3RpdmVTdGVwID0+IHByZXZBY3RpdmVTdGVwICsgMSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVCYWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldEFjdGl2ZVN0ZXAocHJldkFjdGl2ZVN0ZXAgPT4gcHJldkFjdGl2ZVN0ZXAgLSAxKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxUdXRvcmlhbEltYWdlIGFjdGl2ZVN0ZXA9e2FjdGl2ZVN0ZXB9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy50dXRvcmlhbH0+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMudGV4dH0+XG4gICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuaW5zdHJ1Y3Rpb25zfT5cbiAgICAgICAgICAgICAge2dldFN0ZXBDb250ZW50KGFjdGl2ZVN0ZXApfVxuICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXthY3RpdmVTdGVwID09PSAwfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUJhY2t9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmJ1dHRvbn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJhY2tcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB2YXJpYW50PVwiY29udGFpbmVkXCJcbiAgICAgICAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU5leHR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmJ1dHRvbn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHthY3RpdmVTdGVwID09PSBzdGVwcy5sZW5ndGggLSAxID8gJ0Nsb3NlJyA6ICdOZXh0J31cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxTdGVwcGVyXG4gICAgICAgICAgYWx0ZXJuYXRpdmVMYWJlbFxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5zdGVwZXJ9XG4gICAgICAgICAgYWN0aXZlU3RlcD17YWN0aXZlU3RlcH1cbiAgICAgICAgICBjb25uZWN0b3I9ezxDb2xvcmxpYkNvbm5lY3RvciAvPn1cbiAgICAgICAgPlxuICAgICAgICAgIHtzdGVwcy5tYXAobGFiZWwgPT4gKFxuICAgICAgICAgICAgPFN0ZXAga2V5PXtsYWJlbH0+XG4gICAgICAgICAgICAgIDxTdGVwTGFiZWwgU3RlcEljb25Db21wb25lbnQ9e0NvbG9ybGliU3RlcEljb259PlxuICAgICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgICAgPC9TdGVwTGFiZWw+XG4gICAgICAgICAgICA8L1N0ZXA+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvU3RlcHBlcj5cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ3VzdG9taXplZFN0ZXBwZXJzO1xuIiwiZXhwb3J0IGNvbnN0IEZMQVNIX1BBR0VfU0laRSA9IDU5O1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfVFJBTlNMQVRJT05fUE9MTElORyA9IDYwMDAwO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU1RBVFVTID0gJ0Nvbm5lY3QgdG8gYSBtaWNybzpiaXQgdG8gc3RhcnQgdGhlIGh1Yic7XG5leHBvcnQgY29uc3QgTUFYX05VTUJFUl9PRl9DT05ORUNUSU9OX0FUVEVNUFRTID0gNTtcblxuZXhwb3J0IGNvbnN0IGh1Yl92YXJpYWJsZXMgPSB7XG4gIGNyZWRlbnRpYWxzOiB7XG4gICAgc2Nob29sX2lkOiAnJyxcbiAgICBwaV9pZDogJydcbiAgfSxcbiAgY2xvdWRfdmFyaWFibGVfc29ja2V0OiB7XG4gICAgYWRkcmVzczogJ2xvY2FsaG9zdCcsXG4gICAgcG9ydDogODAwMVxuICB9LFxuICB0cmFuc2xhdGlvbnM6IHtcbiAgICB1cmw6ICcvc3RhdGljL21pY3JvYml0LWJyaWRnZS90cmFuc2xhdGlvbnMuanNvbicsXG4gICAgcG9sbF91cGRhdGVzOiBmYWxzZSxcbiAgICBwb2xsX3RpbWU6IERFRkFVTFRfVFJBTlNMQVRJT05fUE9MTElORyxcbiAgICBqc29uOiB7fVxuICB9LFxuICBwcm94eToge1xuICAgIGFkZHJlc3M6ICcvcHJveHknLFxuICAgIHByb3h5X3JlcXVlc3RzOiB0cnVlXG4gIH0sXG4gIGRhcGpzOiB7XG4gICAgc2VyaWFsX2RlbGF5OiAxNTAsXG4gICAgYmF1ZF9yYXRlOiAxMTUyMDAsXG4gICAgZmxhc2hfdGltZW91dDogNTAwMCxcbiAgICByZXNldF9wYXVzZTogMTAwMFxuICB9XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFdlYlVTQiwgREFQTGluayB9IGZyb20gJ2RhcGpzJztcbmltcG9ydCBIdWJzQVBJU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9hcGkvaHVicyc7XG5pbXBvcnQgeyBTZXJpYWxIYW5kbGVyIH0gZnJvbSAnLi4vc2VydmljZXMvU2VyaWFsSGFuZGxlcic7XG5pbXBvcnQgKiBhcyAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgV2ViaHViSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9XZWJodWJJbWFnZSc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NvbnRhaW5lcic7XG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xuaW1wb3J0IHsgd2l0aFN0eWxlcywgVGhlbWUgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IFNpZGViYXIgZnJvbSAnLi4vY29tcG9uZW50cy9TaWRlYmFyJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi4vbGlicy9sb2dnZXInO1xuaW1wb3J0IHsgdGVybWluYWxNc2csIGhpc3RvcnlNc2cgfSBmcm9tICcuLi9zZXJ2aWNlcy9EZWJ1Zyc7XG5pbXBvcnQgVHV0b3JpYWwgZnJvbSAnLi4vY29tcG9uZW50cy9UdXRvcmlhbCc7XG5pbXBvcnQgTGl2ZUhlbHAgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0xpdmVIZWxwJztcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ljb25CdXR0b24nO1xuaW1wb3J0IENsb3NlIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG9zZSc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbnRlcmZhY2UgQXBwUHJvcHMge1xuICBjbGFzc2VzOiBhbnk7XG59XG5cbmludGVyZmFjZSBBcHBTdGF0ZSB7XG4gIHNlbGVjdGVkSHViVUlEOiBzdHJpbmc7XG4gIHRlcm1pbmFsTWVzc2FnZXM6IHN0cmluZ1tdO1xuICBoaXN0b3J5TWVzc2FnZXM6IHN0cmluZ1tdO1xuICBmbGFzaGluZzogYm9vbGVhbjtcbiAgaGVsbG9QYWNrYWdlUmVjZWl2ZWQ6IGJvb2xlYW47XG4gIGNvbm5lY3RlZDogYm9vbGVhbjtcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIHR1dG9yaWFsOiBib29sZWFuO1xuICBlcnJvckNhdWdodDogYm9vbGVhbjtcbn1cblxuY29uc3Qgc3R5bGVzID0gKHRoZW1lOiBUaGVtZSkgPT4gKHtcbiAgY29udHJvbHM6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicgYXMgJ2NvbHVtbicsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgfSxcbiAgYnV0dG9uQ29udGFpbmVyOiB7XG4gICAgW3RoZW1lLmJyZWFrcG9pbnRzLmRvd24oJ3hzJyldOiB7XG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicgYXMgJ2NvbHVtbicsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgIH1cbiAgfSxcbiAgYnRuOiB7XG4gICAgY29sb3I6ICcjMDE3N2M5JyxcbiAgICBib3JkZXI6ICcxcHggc29saWQgIzAxNzdjOScsXG4gICAgd2lkdGg6IDEzOCxcbiAgICBoZWlnaHQ6IDUwLFxuICAgIGJvcmRlclJhZGl1czogOCxcbiAgICBbdGhlbWUuYnJlYWtwb2ludHMuZG93bigneHMnKV06IHtcbiAgICAgIG1hcmdpbkJvdHRvbTogMTAsXG4gICAgICB3aWR0aDogJzEwMCUnXG4gICAgfSxcbiAgICAnJjpob3Zlcic6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMTc3YzknLFxuICAgICAgY29sb3I6ICcjZmZmJ1xuICAgIH1cbiAgfSxcbiAgdHV0b3JpYWxCdG46IHtcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyBhcyAncmVsYXRpdmUnLFxuICAgIGNvbG9yOiAnIzAxNzdjOScsXG4gICAgekluZGV4OiAxMDIsXG4gICAgJyYub3Blbic6IHtcbiAgICAgIFt0aGVtZS5icmVha3BvaW50cy5kb3duKCd4cycpXToge1xuICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyBhcyAnZml4ZWQnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHJpZ2h0OiAyMFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgYnRuRmxhc2g6IHtcbiAgICBtYXJnaW46IDEwLFxuICAgIFt0aGVtZS5icmVha3BvaW50cy5kb3duKCd4cycpXToge1xuICAgICAgbWFyZ2luVG9wOiAwXG4gICAgfVxuICB9LFxuICBzdGF0dXM6IHtcbiAgICB0ZXh0QWxpZ246ICdjZW50ZXInIGFzICdjZW50ZXInXG4gIH1cbn0pO1xuXG5jbGFzcyBXZWJodWJDb250YWluZXIgZXh0ZW5kcyBDb21wb25lbnQ8QXBwUHJvcHMsIEFwcFN0YXRlPiB7XG4gIHByaXZhdGUgdGFyZ2V0RGV2aWNlOiBEQVBMaW5rO1xuICBwcml2YXRlIHNlcmlhbE51bWJlcjogc3RyaW5nO1xuICBwcml2YXRlIHNlcmlhbEhhbmRsZXI6IFNlcmlhbEhhbmRsZXI7XG4gIHByaXZhdGUgbnVtYmVyT2ZDb25uZWN0aW9uQXR0ZW1wdHM6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgaW50ZXJ2YWw6IGFueTtcblxuICBzdGF0ZTogQXBwU3RhdGUgPSB7XG4gICAgc2VsZWN0ZWRIdWJVSUQ6ICctMScsXG4gICAgdGVybWluYWxNZXNzYWdlczogWycnXSxcbiAgICBoaXN0b3J5TWVzc2FnZXM6IFsnJ10sXG4gICAgZmxhc2hpbmc6IGZhbHNlLFxuICAgIGhlbGxvUGFja2FnZVJlY2VpdmVkOiBmYWxzZSxcbiAgICBjb25uZWN0ZWQ6IGZhbHNlLFxuICAgIHN0YXR1czogY29uc3RhbnRzLkRFRkFVTFRfU1RBVFVTLFxuICAgIHR1dG9yaWFsOiBmYWxzZSxcbiAgICBlcnJvckNhdWdodDogZmFsc2VcbiAgfTtcblxuICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmdldFRyYW5zbGF0aW9ucygpO1xuICAgIG5hdmlnYXRvci51c2IuYWRkRXZlbnRMaXN0ZW5lcignZGlzY29ubmVjdCcsIGRldmljZSA9PiB7XG4gICAgICAvLyBjaGVjayBpZiB0aGUgYnJpZGdpbmcgbWljcm86Yml0IGlzIHRoZSBvbmUgdGhhdCB3YXMgZGlzY29ubmVjdGVkXG4gICAgICBpZiAoZGV2aWNlLmRldmljZS5zZXJpYWxOdW1iZXIgPT09IHRoaXMuc2VyaWFsTnVtYmVyKSB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgIHRoaXMuc2V0U3RhdHVzKGNvbnN0YW50cy5ERUZBVUxUX1NUQVRVUyk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlcm1pbmFsTXNnJywgdGhpcy5uZXdUZXJtaW5hbE1lc3NhZ2VIYW5kbGVyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGlzdG9yeU1zZycsIHRoaXMubmV3SGlzdG9yeU1lc3NhZ2VIYW5kbGVyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdoZWxsb1BhY2thZ2VSZWNlaXZlZCcsXG4gICAgICB0aGlzLm9uSGVsbG9QYWNrYWdlUmVjZWl2ZWRcbiAgICApO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlcm1pbmFsTXNnJywgdGhpcy5uZXdUZXJtaW5hbE1lc3NhZ2VIYW5kbGVyKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignaGlzdG9yeU1zZycsIHRoaXMubmV3SGlzdG9yeU1lc3NhZ2VIYW5kbGVyKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdoZWxsb1BhY2thZ2VSZWNlaXZlZCcsXG4gICAgICB0aGlzLm9uSGVsbG9QYWNrYWdlUmVjZWl2ZWRcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgZ2V0VHJhbnNsYXRpb25zKCkge1xuICAgIC8vIGlmIHBvbGxfdXBkYXRlcyBpcyBmYWxzZSBhbmQgd2UgaGF2ZW4ndCBhbHJlYWR5IGdyYWJiZWQgdGhlIHRyYW5zbGF0aW9ucyBmaWxlLCByZXR1cm5cbiAgICBpZiAoXG4gICAgICAhY29uc3RhbnRzLmh1Yl92YXJpYWJsZXNbJ3RyYW5zbGF0aW9ucyddWydwb2xsX3VwZGF0ZXMnXSAmJlxuICAgICAgT2JqZWN0LmVudHJpZXMoY29uc3RhbnRzLmh1Yl92YXJpYWJsZXNbJ3RyYW5zbGF0aW9ucyddWydqc29uJ10pLmxlbmd0aCAhPT1cbiAgICAgICAgMFxuICAgIClcbiAgICAgIHJldHVybjtcblxuICAgIHRlcm1pbmFsTXNnKCdDaGVja2luZyBmb3IgdHJhbnNsYXRpb25zIHVwZGF0ZXMnKTtcbiAgICBsb2dnZXIuaW5mbygnQ2hlY2tpbmcgZm9yIHRyYW5zbGF0aW9ucyB1cGRhdGVzJyk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiBjb25zdGFudHMuaHViX3ZhcmlhYmxlc1sndHJhbnNsYXRpb25zJ11bJ3VybCddLFxuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGRhdGFUeXBlOiAnSlNPTicsXG4gICAgICBjYWNoZTogZmFsc2UsXG4gICAgICB0aW1lb3V0OiAxMDAwMCxcbiAgICAgIGVycm9yOiBlcnJvciA9PiB7XG4gICAgICAgIHRlcm1pbmFsTXNnKGBFcnJvciByZWNlaXZpbmcgdHJhbnNsYXRpb25zYCk7XG4gICAgICAgIGxvZ2dlci5lcnJvcihlcnJvcik7XG4gICAgICB9LFxuICAgICAgc3VjY2VzczogcmVzcG9uc2UgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY29uc3RhbnRzLmh1Yl92YXJpYWJsZXNbJ3RyYW5zbGF0aW9ucyddWydqc29uJ10gPT09IHt9IHx8XG4gICAgICAgICAgcmVzcG9uc2VbJ3ZlcnNpb24nXSAhPT1cbiAgICAgICAgICAgIGNvbnN0YW50cy5odWJfdmFyaWFibGVzWyd0cmFuc2xhdGlvbnMnXVsnanNvbiddWyd2ZXJzaW9uJ11cbiAgICAgICAgKSB7XG4gICAgICAgICAgdGVybWluYWxNc2coYFRyYW5zbGF0aW9ucyBoYXZlIHVwZGF0ZWQhICh2JHtyZXNwb25zZVsndmVyc2lvbiddfSlgKTtcbiAgICAgICAgICBjb25zdGFudHMuaHViX3ZhcmlhYmxlc1sndHJhbnNsYXRpb25zJ11bJ2pzb24nXSA9IHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBwb2xsIHRoZSB0cmFuc2xhdGlvbnMgZmlsZSBmb3IgdXBkYXRlcyBwZXJpb2RpY2FsbHlcbiAgICBzZXRUaW1lb3V0KFxuICAgICAgdGhpcy5nZXRUcmFuc2xhdGlvbnMsXG4gICAgICBjb25zdGFudHMuaHViX3ZhcmlhYmxlc1sndHJhbnNsYXRpb25zJ11bJ3BvbGxfdGltZSddXG4gICAgKTtcbiAgfVxuXG4gIHNlbGVjdERldmljZSA9ICgpOiBQcm9taXNlPFVTQkRldmljZT4gPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBuYXZpZ2F0b3IudXNiXG4gICAgICAgIC5yZXF1ZXN0RGV2aWNlKHtcbiAgICAgICAgICBmaWx0ZXJzOiBbeyB2ZW5kb3JJZDogMHgwZDI4LCBwcm9kdWN0SWQ6IDB4MDIwNCB9XVxuICAgICAgICB9KVxuICAgICAgICAudGhlbihkZXZpY2UgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZGV2aWNlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBvbkhlbGxvUGFja2FnZVJlY2VpdmVkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZTogQXBwU3RhdGUpID0+ICh7XG4gICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICBoZWxsb1BhY2thZ2VSZWNlaXZlZDogdHJ1ZVxuICAgIH0pKTtcbiAgfTtcblxuICBjaGVja0Nvbm5lY3Rpb24gPSAoKTogdm9pZCA9PiB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMuc3RhdGUuaGVsbG9QYWNrYWdlUmVjZWl2ZWQgJiZcbiAgICAgIHRoaXMubnVtYmVyT2ZDb25uZWN0aW9uQXR0ZW1wdHMgPFxuICAgICAgICBjb25zdGFudHMuTUFYX05VTUJFUl9PRl9DT05ORUNUSU9OX0FUVEVNUFRTXG4gICAgKSB7XG4gICAgICB0aGlzLnRhcmdldERldmljZS5zZXRTZXJpYWxCYXVkcmF0ZShcbiAgICAgICAgY29uc3RhbnRzLmh1Yl92YXJpYWJsZXMuZGFwanMuYmF1ZF9yYXRlXG4gICAgICApO1xuICAgICAgdGhpcy5udW1iZXJPZkNvbm5lY3Rpb25BdHRlbXB0cysrO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiB3ZSBub3QgZ2V0IHN1Y2Nlc3NmdWwgY29ubmVjdGlvbiBhZnRlciBNQVhfTlVNQkVSX09GX0NPTk5FQ1RJT05fQVRURU1QVFMgdGltZXMsIHNob3cgdXNlciBlcnJvciBtZXNzYWdlXG4gICAgICBpZiAoIXRoaXMuc3RhdGUuaGVsbG9QYWNrYWdlUmVjZWl2ZWQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXG4gICAgICAgICAgJ1BhY2thZ2UgZ2V0dGluZyBlcnJvci4gUGxlYXNlIHJlY29ubmVjdCBkZXZpY2UgYW5kIHRyeSBhZ2FpbidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubnVtYmVyT2ZDb25uZWN0aW9uQXR0ZW1wdHMgPSAwO1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcbiAgICB9XG4gIH07XG5cbiAgZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICBjb25zdCBFUlJPUl9NRVNTQUdFID1cbiAgICAgIFwiQ291bGRuJ3Qgc2FmZWx5IGRpc2Nvbm5lY3QgZnJvbSB0aGUgbWljcm86Yml0LiBUaGlzIGNhbiBoYXBwZW4gaWYgdGhlIG1pY3JvOmJpdCB3YXMgdW5wbHVnZ2VkIGJlZm9yZSBiZWluZyBkaXNjb25uZWN0ZWQsIGFsbCBpcyBzYWZlIVwiO1xuXG4gICAgLy8gcmVzZXQgaHViIHZhcmlhYmxlc1xuICAgIGNvbnN0YW50cy5odWJfdmFyaWFibGVzWydzY2hvb2xfaWQnXSA9ICcnO1xuICAgIGNvbnN0YW50cy5odWJfdmFyaWFibGVzWydwaV9pZCddID0gJyc7XG5cbiAgICAvLyBkZXN0cm95IFNlcmlhbEhhbmRsZXJcbiAgICB0aGlzLnNlcmlhbEhhbmRsZXIgPSBudWxsO1xuICAgIHRoaXMuc2VyaWFsTnVtYmVyID0gJyc7XG5cbiAgICAvLyB0cnkgdG8gZGlzY29ubmVjdCBmcm9tIHRoZSB0YXJnZXQgZGV2aWNlXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMudGFyZ2V0RGV2aWNlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgdGhpcy50YXJnZXREZXZpY2Uuc3RvcFNlcmlhbFJlYWQoKTtcbiAgICAgIHRoaXMudGFyZ2V0RGV2aWNlLmRpc2Nvbm5lY3QoKS5jYXRjaChlID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZSwgRVJST1JfTUVTU0FHRSk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhlLCBFUlJPUl9NRVNTQUdFKTtcbiAgICB9XG5cbiAgICB0aGlzLnRhcmdldERldmljZSA9IG51bGw7XG4gICAgdGhpcy5zZXRTdGF0dXMoY29uc3RhbnRzLkRFRkFVTFRfU1RBVFVTKTsgLy8gZGVzdHJveSBEQVBMaW5rXG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlOiBBcHBTdGF0ZSkgPT4gKHtcbiAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgIGNvbm5lY3RlZDogZmFsc2UsXG4gICAgICBoZWxsb1BhY2thZ2VSZWNlaXZlZDogZmFsc2VcbiAgICB9KSk7XG4gIH07XG5cbiAgY29ubmVjdCA9IChkZXZpY2U6IFVTQkRldmljZSk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh0aGlzLnRhcmdldERldmljZSkgdGhpcy50YXJnZXREZXZpY2Uuc3RvcFNlcmlhbFJlYWQoKTtcblxuICAgICAgLy8gQ29ubmVjdCB0byBkZXZpY2VcbiAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IG5ldyBXZWJVU0IoZGV2aWNlKTtcbiAgICAgIHRoaXMudGFyZ2V0RGV2aWNlID0gbmV3IERBUExpbmsodHJhbnNwb3J0KTtcbiAgICAgIHRoaXMuc2VyaWFsTnVtYmVyID0gZGV2aWNlLnNlcmlhbE51bWJlcjtcblxuICAgICAgLy8gRW5zdXJlIGRpc2Nvbm5lY3RlZFxuICAgICAgdGhpcy50YXJnZXREZXZpY2UuZGlzY29ubmVjdCgpO1xuXG4gICAgICB0aGlzLnRhcmdldERldmljZVxuICAgICAgICAuY29ubmVjdCgpXG4gICAgICAgIC50aGVuKCgpID0+XG4gICAgICAgICAgdGhpcy50YXJnZXREZXZpY2Uuc2V0U2VyaWFsQmF1ZHJhdGUoXG4gICAgICAgICAgICBjb25zdGFudHMuaHViX3ZhcmlhYmxlcy5kYXBqcy5iYXVkX3JhdGVcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy50YXJnZXREZXZpY2UuZ2V0U2VyaWFsQmF1ZHJhdGUoKSlcbiAgICAgICAgLnRoZW4oYmF1ZCA9PiB7XG4gICAgICAgICAgdGhpcy50YXJnZXREZXZpY2Uuc3RhcnRTZXJpYWxSZWFkKFxuICAgICAgICAgICAgY29uc3RhbnRzLmh1Yl92YXJpYWJsZXMuZGFwanMuc2VyaWFsX2RlbGF5XG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnNlcmlhbEhhbmRsZXIgPSBuZXcgU2VyaWFsSGFuZGxlcihcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0RGV2aWNlLFxuICAgICAgICAgICAgY29uc3RhbnRzLmh1Yl92YXJpYWJsZXMsXG4gICAgICAgICAgICBiYXVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoe1xuICAgICAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICAgICAgY29ubmVjdGVkOiB0cnVlXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIHJlc29sdmUoXG4gICAgICAgICAgICBgQ29ubmVjdGVkIHRvICR7XG4gICAgICAgICAgICAgIGRldmljZS5wcm9kdWN0TmFtZSAhPT0gJycgPyBkZXZpY2UucHJvZHVjdE5hbWUgOiAnbWljcm86Yml0J1xuICAgICAgICAgICAgfWBcbiAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIGVyci5jb2RlID09PSAxOSkge1xuICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICAnRmFpbGVkIHRvIGNvbm5lY3Q6IFBsZWFzZSBjbG9zZSBhbnkgb3RoZXIgYnJvd3NlciB0YWJzIHdoaWNoIGhhdmUgYmVlbiB1c2VkIGZvciBtaWNybzpiaXQgY29kaW5nIGFuZCB0cnkgYWdhaW4uJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KGBGYWlsZWQgdG8gY29ubmVjdDogJHtlcnJ9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBmbGFzaERldmljZSA9IChkZXZpY2U6IFVTQkRldmljZSk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0YW50cy5odWJfdmFyaWFibGVzWydzY2hvb2xfaWQnXSA9ICcnO1xuICAgICAgY29uc3RhbnRzLmh1Yl92YXJpYWJsZXNbJ3BpX2lkJ10gPSAnJztcblxuICAgICAgaWYgKHRoaXMudGFyZ2V0RGV2aWNlKSB0aGlzLnRhcmdldERldmljZS5zdG9wU2VyaWFsUmVhZCgpO1xuXG4gICAgICBIdWJzQVBJU2VydmljZS5nZXRIdWJGaXJtd2FyZShcbiAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZEh1YlVJRCxcbiAgICAgICAgZGV2aWNlLnNlcmlhbE51bWJlclxuICAgICAgKVxuICAgICAgICAudGhlbigoZmlybXdhcmU6IEFycmF5QnVmZmVyKSA9PiB7XG4gICAgICAgICAgLy8gQ29ubmVjdCB0byBkZXZpY2VcbiAgICAgICAgICBjb25zdCB0cmFuc3BvcnQgPSBuZXcgV2ViVVNCKGRldmljZSk7XG4gICAgICAgICAgdGhpcy50YXJnZXREZXZpY2UgPSBuZXcgREFQTGluayh0cmFuc3BvcnQpO1xuXG4gICAgICAgICAgLy8gRW5zdXJlIGRpc2Nvbm5lY3RlZFxuICAgICAgICAgIHRoaXMudGFyZ2V0RGV2aWNlLmRpc2Nvbm5lY3QoKTtcblxuICAgICAgICAgIC8vIEV2ZW50IHRvIG1vbml0b3IgZmxhc2hpbmcgcHJvZ3Jlc3NcbiAgICAgICAgICB0aGlzLnRhcmdldERldmljZS5vbihEQVBMaW5rLkVWRU5UX1BST0dSRVNTLCBwcm9ncmVzcyA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoe1xuICAgICAgICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgICAgICAgIGZsYXNoaW5nOiB0cnVlXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhgRmxhc2hpbmc6ICR7TWF0aC5yb3VuZChwcm9ncmVzcyAqIDEwMCl9JWApO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gUHVzaCBiaW5hcnkgdG8gYm9hcmRcbiAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXREZXZpY2VcbiAgICAgICAgICAgIC5jb25uZWN0KClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ0ZsYXNoaW5nJyk7XG4gICAgICAgICAgICAgIGhpc3RvcnlNc2coJ0ZsYXNoaW5nJyk7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldERldmljZS5mbGFzaChmaXJtd2FyZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBsb2dnZXIuaW5mbygnRmluaXNoZWQgZmxhc2hpbmchIFJlY29ubmVjdCBtaWNybzpiaXQnKTtcbiAgICAgICAgICAgICAgaGlzdG9yeU1zZygnRmluaXNoZWQgZmxhc2hpbmchIFJlY29ubmVjdCBtaWNybzpiaXQnKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgnRmluaXNoZWQgZmxhc2hpbmchIFJlY29ubmVjdCBtaWNybzpiaXQnKTtcbiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgICAgICAgICAgZmxhc2hpbmc6IGZhbHNlXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0RGV2aWNlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiAmJiBlcnIuY29kZSA9PT0gMTkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldERldmljZS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICAgICAgJ0Vycm9yIGZsYXNoaW5nOiBQbGVhc2UgY2xvc2UgYW55IG90aGVyIGJyb3dzZXIgdGFicyB3aGljaCBoYXZlIGJlZW4gdXNlZCBmb3IgbWljcm86Yml0IGNvZGluZyBhbmQgdHJ5IGFnYWluLidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChgRXJyb3IgZmxhc2hpbmc6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XG4gICAgICAgICAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICAgICAgICAgIGZsYXNoaW5nOiBmYWxzZVxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihgRXJyb3IgZmxhc2hpbmc6ICR7ZXJyfWApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgaGlzdG9yeU1zZygnRmFpbGVkIHRvIGdldCBodWIgZmlybXdhcmUnKTtcbiAgICAgICAgICByZWplY3QoJ0ZhaWxlZCB0byBnZXQgaHViIGZpcm13YXJlJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbm5lY3RCdXR0b25IYW5kbGVyID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy5zdGF0ZS5jb25uZWN0ZWQpIHtcbiAgICAgIHRoaXMuc2VsZWN0RGV2aWNlKClcbiAgICAgICAgLnRoZW4oKGRldmljZTogVVNCRGV2aWNlKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0dXMoJ0Nvbm5lY3RpbmcuLi4nKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0KGRldmljZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKG1lc3NhZ2UgPT4ge1xuICAgICAgICAgIC8vIGNvbm5lY3RCdXR0b24udGV4dChcIkRpc2Nvbm5lY3RcIik7XG4gICAgICAgICAgLy8gYWRkaXRpb25hbEluZm8udGV4dCgnUGxlYXNlLCB3YWl0IHRpbGwgeW91IHNlZSB0aGUgc21pbGUgZmFjZScpO1xuICAgICAgICAgIHRoaXMuaW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5jaGVja0Nvbm5lY3Rpb24sIDI1MDApO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKG1lc3NhZ2UpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB0aGlzLnNldFN0YXR1cyhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgfTtcblxuICBzZXRTdGF0dXMgPSAoc3RhdHVzOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGU6IEFwcFN0YXRlKSA9PiAoe1xuICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgc3RhdHVzXG4gICAgfSkpO1xuICB9O1xuXG4gIGZsYXNoQnV0dG9uSGFuZGxlciA9ICgpID0+IHtcbiAgICB0aGlzLnNlbGVjdERldmljZSgpXG4gICAgICAudGhlbigoZGV2aWNlOiBVU0JEZXZpY2UpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhc2hEZXZpY2UoZGV2aWNlKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihtZXNzYWdlID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMobWVzc2FnZSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHRoaXMuc2V0U3RhdHVzKGVycm9yKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIG5ld0hpc3RvcnlNZXNzYWdlSGFuZGxlciA9IChlOiBDdXN0b21FdmVudCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZTogQXBwU3RhdGUpID0+ICh7XG4gICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICBoaXN0b3J5TWVzc2FnZXM6IFsuLi5wcmV2U3RhdGUuaGlzdG9yeU1lc3NhZ2VzLCBlLmRldGFpbC5oaXN0b3J5TXNnXVxuICAgIH0pKTtcbiAgfTtcblxuICBuZXdUZXJtaW5hbE1lc3NhZ2VIYW5kbGVyID0gKGU6IEN1c3RvbUV2ZW50KSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcbiAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgIHRlcm1pbmFsTWVzc2FnZXM6IFsuLi5wcmV2U3RhdGUudGVybWluYWxNZXNzYWdlcywgZS5kZXRhaWwudGVybWluYWxNc2ddXG4gICAgfSkpO1xuICB9O1xuXG4gIGNsb3NlVHV0b3JpYWwgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlOiBBcHBTdGF0ZSkgPT4gKHtcbiAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgIHR1dG9yaWFsOiBmYWxzZVxuICAgIH0pKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjbGFzc2VzIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGlkPVwibWFpblwiPlxuICAgICAgICA8Q29udGFpbmVyIG1heFdpZHRoPVwieGxcIj5cbiAgICAgICAgICA8R3JpZFxuICAgICAgICAgICAgY29udGFpbmVyXG4gICAgICAgICAgICBkaXJlY3Rpb249XCJjb2x1bW5cIlxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIlxuICAgICAgICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTJ9IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb250cm9sc30+XG4gICAgICAgICAgICAgIDxXZWJodWJJbWFnZSBpc1NtaWxlRmFjZT17dGhpcy5zdGF0ZS5oZWxsb1BhY2thZ2VSZWNlaXZlZH0gLz5cbiAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcbiAgICAgICAgICAgICAgICB2YXJpYW50PVwiaDVcIlxuICAgICAgICAgICAgICAgIGNvbXBvbmVudD1cInNwYW5cIlxuICAgICAgICAgICAgICAgIGd1dHRlckJvdHRvbVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5zdGF0dXN9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zdGF0dXN9XG5cbiAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KGNsYXNzZXMudHV0b3JpYWxCdG4sIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogdGhpcy5zdGF0ZS50dXRvcmlhbFxuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICB0dXRvcmlhbDogIXByZXZTdGF0ZS50dXRvcmlhbFxuICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7IXRoaXMuc3RhdGUudHV0b3JpYWwgPyA8TGl2ZUhlbHAgLz4gOiA8Q2xvc2UgLz59XG4gICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgIDxkaXYgaWQ9XCJhZGRpdGlvbmFsSW5mb1wiIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmJ1dHRvbkNvbnRhaW5lcn0+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgaWQ9XCJjb25uZWN0LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuYnRufVxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVkXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY29ubmVjdEJ1dHRvbkhhbmRsZXJ9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5mbGFzaGluZ31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5jb25uZWN0ZWQgPyAnRGlzY29ubmVjdCcgOiAnQ29ubmVjdCd9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgaWQ9XCJmbGFzaC1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtjbGFzc2VzLmJ0bn0gJHtjbGFzc2VzLmJ0bkZsYXNofWB9XG4gICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZWRcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5mbGFzaEJ1dHRvbkhhbmRsZXJ9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5mbGFzaGluZ31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBGbGFzaFxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgPFNpZGViYXJcbiAgICAgICAgICAgIG1lc3NhZ2VzPXt0aGlzLnN0YXRlLmhpc3RvcnlNZXNzYWdlc31cbiAgICAgICAgICAgIGxhYmVsPVwiaGlzdG9yeVwiXG4gICAgICAgICAgICBkaXJlY3Rpb249XCJyaWdodFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8U2lkZWJhclxuICAgICAgICAgICAgbWVzc2FnZXM9e3RoaXMuc3RhdGUudGVybWluYWxNZXNzYWdlc31cbiAgICAgICAgICAgIGxhYmVsPVwidGVybWluYWxcIlxuICAgICAgICAgICAgZGlyZWN0aW9uPVwibGVmdFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICB7dGhpcy5zdGF0ZS50dXRvcmlhbCAmJiAoXG4gICAgICAgICAgICA8VHV0b3JpYWwgb25UdXRvcmlhbENsb3NlPXt0aGlzLmNsb3NlVHV0b3JpYWx9IC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9Db250YWluZXI+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzKShXZWJodWJDb250YWluZXIpO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBXZWJodWJDb250YWluZXIgZnJvbSAnLi9XZWJodWJDb250YWluZXInO1xuaW1wb3J0IHsgY3JlYXRlVGhlbWUsIE11aVRoZW1lUHJvdmlkZXIgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuXG5jb25zdCB0aGVtZSA9IGNyZWF0ZVRoZW1lKHtcbiAgdHlwb2dyYXBoeToge1xuICAgIGZvbnRGYW1pbHk6IFtcbiAgICAgICdcIlNhbXN1bmdGb250XCInLFxuICAgICAgJ1JvYm90bycsXG4gICAgICAnXCJIZWx2ZXRpY2EgTmV1ZVwiJyxcbiAgICAgICdBcmlhbCcsXG4gICAgICAnc2Fucy1zZXJpZidcbiAgICBdLmpvaW4oJywnKVxuICB9XG59KTtcblxuY29uc3QgQXBwID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8TXVpVGhlbWVQcm92aWRlciB0aGVtZT17dGhlbWV9PlxuICAgICAgICA8V2ViaHViQ29udGFpbmVyIC8+XG4gICAgICA8L011aVRoZW1lUHJvdmlkZXI+XG4gICAgPC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBcHA7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBSb290IGZyb20gJy4vY29udGFpbmVycy9Sb290JztcbmltcG9ydCAnLi9pbmRleC5zY3NzJztcblxucmVuZGVyKDxSb290IC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykpO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFwcCBmcm9tICcuL0FwcCc7XG5pbXBvcnQgJ25vcm1hbGl6ZS5jc3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb290KCkge1xuICByZXR1cm4gPEFwcCAvPjtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=